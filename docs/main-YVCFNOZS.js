var WS=Object.defineProperty,KS=Object.defineProperties;var QS=Object.getOwnPropertyDescriptors;var L_=Object.getOwnPropertySymbols;var YS=Object.prototype.hasOwnProperty,JS=Object.prototype.propertyIsEnumerable;var j_=(t,e,n)=>e in t?WS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})YS.call(e,n)&&j_(t,n,e[n]);if(L_)for(var n of L_(e))JS.call(e,n)&&j_(t,n,e[n]);return t},me=(t,e)=>KS(t,QS(e));var g=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var U_=null;var bh=1;function ze(t){let e=U_;return U_=t,e}var B_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ZS(t){if(!(Ah(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bh)){if(!t.producerMustRecompute(t)&&!Th(t)){t.dirty=!1,t.lastCleanEpoch=bh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=bh}}function $_(t){return t&&(t.nextProducerIndex=0),ze(t)}function H_(t,e){if(ze(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ah(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Sh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Th(t){vc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ZS(n),r!==n.version))return!0}return!1}function q_(t){if(vc(t),Ah(t))for(let e=0;e<t.producerNode.length;e++)Sh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Sh(t,e){if(XS(t),vc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Sh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];vc(i),i.producerIndexOfThis[r]=e}}function Ah(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function vc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function XS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function eA(){throw new Error}var tA=eA;function z_(t){tA=t}function $(t){return typeof t=="function"}function Vi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _c=Vi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Fr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var je=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if($(r))try{r()}catch(s){e=s instanceof _c?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{G_(s)}catch(o){e=e??[],o instanceof _c?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _c(e)}}add(e){var n;if(e&&e!==this)if(this.closed)G_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fr(n,e)}remove(e){let{_finalizers:n}=this;n&&Fr(n,e),e instanceof t&&e._removeParent(this)}};je.EMPTY=(()=>{let t=new je;return t.closed=!0,t})();var xh=je.EMPTY;function wc(t){return t instanceof je||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function G_(t){$(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Li={setTimeout(t,e,...n){let{delegate:r}=Li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ec(t){Li.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function oo(){}var W_=(()=>Mh("C",void 0,void 0))();function K_(t){return Mh("E",void 0,t)}function Q_(t){return Mh("N",t,void 0)}function Mh(t,e,n){return{kind:t,value:e,error:n}}var Vr=null;function ji(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else t()}function Y_(t){Qt.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}var Lr=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wc(e)&&e.add(this)):this.destination=iA}static create(e,n,r){return new Un(e,n,r)}next(e){this.isStopped?Nh(Q_(e),this):this._next(e)}error(e){this.isStopped?Nh(K_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nh(W_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nA=Function.prototype.bind;function Rh(t,e){return nA.call(t,e)}var Ph=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ic(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ic(r)}else Ic(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ic(n)}}},Un=class extends Lr{constructor(e,n,r){super();let i;if($(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rh(e.next,s),error:e.error&&Rh(e.error,s),complete:e.complete&&Rh(e.complete,s)}):i=e}this.destination=new Ph(i)}};function Ic(t){Qt.useDeprecatedSynchronousErrorHandling?Y_(t):Ec(t)}function rA(t){throw t}function Nh(t,e){let{onStoppedNotification:n}=Qt;n&&Li.setTimeout(()=>n(t,e))}var iA={closed:!0,next:oo,error:rA,complete:oo};var Ui=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function gt(t){return t}function Cc(...t){return Oh(t)}function Oh(t){return t.length===0?gt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var K=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oA(n)?n:new Un(n,r,i);return ji(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=J_(r),new r((i,s)=>{let o=new Un({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ui](){return this}pipe(...n){return Oh(n)(this)}toPromise(n){return n=J_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function J_(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function sA(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function oA(t){return t&&t instanceof Lr||sA(t)&&wc(t)}function kh(t){return $(t?.lift)}function Z(t){return e=>{if(kh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,n,r,i){return new Fh(t,e,n,r,i)}var Fh=class extends Lr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bi(){return Z((t,e)=>{let n=null;t._refCount++;let r=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $i=class extends K{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let n=this.getSubject();e.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Bi()(this)}};var Z_=Vi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Dc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Z_}next(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?xh:(this.currentObservers=null,s.push(n),new je(()=>{this.currentObservers=null,Fr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new K;return n.source=this,n}}return t.create=(e,n)=>new Dc(e,n),t})(),Dc=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:xh}};var Me=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vh={now(){return(Vh.delegate||Date).now()},delegate:void 0};var bc=class extends je{constructor(e,n){super()}schedule(e,n=0){return this}};var ao={setInterval(t,e,...n){let{delegate:r}=ao;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ao;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Hi=class extends bc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ao.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ao.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qi.now=Vh.now;var zi=class extends qi{constructor(e,n=qi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Lh=new zi(Hi);var Tc=class extends Hi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sc=class extends zi{};var jh=new Sc(Tc);var Ct=new K(t=>t.complete());function X_(t){return t&&$(t.schedule)}function Uh(t){return t[t.length-1]}function Ac(t){return $(Uh(t))?t.pop():void 0}function mn(t){return X_(Uh(t))?t.pop():void 0}function ew(t,e){return typeof Uh(t)=="number"?t.pop():e}function Bh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function tw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jr(t){return this instanceof jr?(this.v=t,this):new jr(t)}function rw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(_,I){s.push([h,f,_,I])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(_){d(s[0][3],_)}}function c(h){h.value instanceof jr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function iw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tw=="function"?tw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var xc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mc(t){return $(t?.then)}function Rc(t){return $(t[Ui])}function Nc(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function Pc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oc=aA();function kc(t){return $(t?.[Oc])}function Fc(t){return rw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield jr(n.read());if(i)return yield jr(void 0);yield yield jr(r)}}finally{n.releaseLock()}})}function Vc(t){return $(t?.getReader)}function De(t){if(t instanceof K)return t;if(t!=null){if(Rc(t))return cA(t);if(xc(t))return uA(t);if(Mc(t))return lA(t);if(Nc(t))return sw(t);if(kc(t))return dA(t);if(Vc(t))return hA(t)}throw Pc(t)}function cA(t){return new K(e=>{let n=t[Ui]();if($(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uA(t){return new K(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lA(t){return new K(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ec)})}function dA(t){return new K(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sw(t){return new K(e=>{fA(t,e).catch(n=>e.error(n))})}function hA(t){return sw(Fc(t))}function fA(t,e){var n,r,i,s;return nw(this,void 0,void 0,function*(){try{for(n=iw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ir(t,e=0){return Z((n,r)=>{n.subscribe(X(r,i=>Dt(r,t,()=>r.next(i),e),()=>Dt(r,t,()=>r.complete(),e),i=>Dt(r,t,()=>r.error(i),e)))})}function sr(t,e=0){return Z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ow(t,e){return De(t).pipe(sr(e),ir(e))}function aw(t,e){return De(t).pipe(sr(e),ir(e))}function cw(t,e){return new K(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function uw(t,e){return new K(n=>{let r;return Dt(n,e,()=>{r=t[Oc](),Dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>$(r?.return)&&r.return()})}function Lc(t,e){if(!t)throw new Error("Iterable cannot be null");return new K(n=>{Dt(n,e,()=>{let r=t[Symbol.asyncIterator]();Dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lw(t,e){return Lc(Fc(t),e)}function dw(t,e){if(t!=null){if(Rc(t))return ow(t,e);if(xc(t))return cw(t,e);if(Mc(t))return aw(t,e);if(Nc(t))return Lc(t,e);if(kc(t))return uw(t,e);if(Vc(t))return lw(t,e)}throw Pc(t)}function _e(t,e){return e?dw(t,e):De(t)}function k(...t){let e=mn(t);return _e(t,e)}function Gi(t,e){let n=$(t)?t:()=>t,r=i=>i.error(n());return new K(e?i=>e.schedule(r,0,i):r)}function $h(t){return!!t&&(t instanceof K||$(t.lift)&&$(t.subscribe))}var Yt=Vi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function co(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=!1,o;t.subscribe({next:a=>{o=a,s=!0},error:i,complete:()=>{s?r(o):n?r(e.defaultValue):i(new Yt)}})})}function H(t,e){return Z((n,r)=>{let i=0;n.subscribe(X(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pA}=Array;function mA(t,e){return pA(e)?t(...e):t(e)}function jc(t){return H(e=>mA(t,e))}var{isArray:gA}=Array,{getPrototypeOf:yA,prototype:vA,keys:_A}=Object;function Uc(t){if(t.length===1){let e=t[0];if(gA(e))return{args:e,keys:null};if(wA(e)){let n=_A(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wA(t){return t&&typeof t=="object"&&yA(t)===vA}function Bc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $c(...t){let e=mn(t),n=Ac(t),{args:r,keys:i}=Uc(t);if(r.length===0)return _e([],e);let s=new K(EA(r,e,i?o=>Bc(i,o):gt));return n?s.pipe(jc(n)):s}function EA(t,e,n=gt){return r=>{hw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)hw(e,()=>{let u=_e(t[c],e),l=!1;u.subscribe(X(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function hw(t,e,n){t?Dt(n,t,e):e()}function fw(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=I=>u<r?_(I):c.push(I),_=I=>{s&&e.next(I),u++;let v=!1;De(n(I,l++)).subscribe(X(e,C=>{i?.(C),s?f(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let C=c.shift();o?Dt(e,o,()=>_(C)):_(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(X(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ge(t,e,n=1/0){return $(e)?Ge((r,i)=>H((s,o)=>e(r,s,i,o))(De(t(r,i))),n):(typeof e=="number"&&(n=e),Z((r,i)=>fw(r,i,t,n)))}function uo(t=1/0){return Ge(gt,t)}function pw(){return uo(1)}function Wi(...t){return pw()(_e(t,mn(t)))}function Hc(t){return new K(e=>{De(t()).subscribe(e)})}function Hh(...t){let e=Ac(t),{args:n,keys:r}=Uc(t),i=new K(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;De(n[l]).subscribe(X(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Bc(r,a):a),s.complete())}))}});return e?i.pipe(jc(e)):i}function qh(...t){let e=mn(t),n=ew(t,1/0),r=t;return r.length?r.length===1?De(r[0]):uo(n)(_e(r,e)):Ct}function bt(t,e){return Z((n,r)=>{let i=0;n.subscribe(X(r,s=>t.call(e,s,i++)&&r.next(s)))})}function or(t){return Z((e,n)=>{let r=null,i=!1,s;r=e.subscribe(X(n,void 0,void 0,o=>{s=De(t(o,or(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mw(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(X(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function ar(t,e){return $(e)?Ge(t,e,1):Ge(t,1)}function cr(t){return Z((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ft(t){return t<=0?()=>Ct:Z((e,n)=>{let r=0;e.subscribe(X(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zh(t){return H(()=>t)}function qc(t,e=gt){return t=t??IA,Z((n,r)=>{let i,s=!0;n.subscribe(X(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function IA(t,e){return t===e}function zc(t=CA){return Z((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function CA(){return new Yt}function ur(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function gn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,s)=>t(i,s,r)):gt,Ft(1),n?cr(e):zc(()=>new Yt))}function Ki(t){return t<=0?()=>Ct:Z((e,n)=>{let r=[];e.subscribe(X(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Gh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,s)=>t(i,s,r)):gt,Ki(1),n?cr(e):zc(()=>new Yt))}function Gc(t,e){return Z(mw(t,e,arguments.length>=2,!0))}function Wc(t={}){let{connector:e=()=>new tt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},_=()=>{let I=o;f(),I?.unsubscribe()};return Z((I,v)=>{u++,!d&&!l&&h();let C=c=c??e();v.add(()=>{u--,u===0&&!d&&!l&&(a=Wh(_,i))}),C.subscribe(v),!o&&u>0&&(o=new Un({next:L=>C.next(L),error:L=>{d=!0,h(),a=Wh(f,n,L),C.error(L)},complete:()=>{l=!0,h(),a=Wh(f,r),C.complete()}}),De(I).subscribe(o))})(s)}}function Wh(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Un({next:()=>{r.unsubscribe(),t()}});return De(e(...n)).subscribe(r)}function Kc(...t){let e=mn(t);return Z((n,r)=>{(e?Wi(t,n,e):Wi(t,n)).subscribe(r)})}function yt(t,e){return Z((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(X(r,c=>{i?.unsubscribe();let u=0,l=s++;De(t(c,l)).subscribe(i=X(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Kh(t){return Z((e,n)=>{De(t).subscribe(X(n,()=>n.complete(),oo)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=$(t)||e||n?{next:t,error:e,complete:n}:t;return r?Z((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(X(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):gt}function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function Qc(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var DA=ye({__forward_ref__:ye});function Gn(t){return t.__forward_ref__=Gn,t.toString=function(){return ut(this())},t}function vt(t){return Jw(t)?t():t}function Jw(t){return typeof t=="function"&&t.hasOwnProperty(DA)&&t.__forward_ref__===Gn}function Zw(t){return t&&!!t.\u0275providers}var bA="https://g.co/ng/security#xss",N=class extends Error{constructor(e,n){super(Du(e,n)),this.code=e}};function Du(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var TA=ye({\u0275cmp:ye}),SA=ye({\u0275dir:ye}),AA=ye({\u0275pipe:ye}),xA=ye({\u0275mod:ye}),su=ye({\u0275fac:ye}),lo=ye({__NG_ELEMENT_ID__:ye}),yw=ye({__NG_ENV_ID__:ye});function ip(t){return typeof t=="string"?t:t==null?"":String(t)}function MA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ip(t)}function RA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new N(-200,`Circular dependency in DI detected for ${t}${n}`)}function sp(t,e){let n=e?` in ${e}`:"";throw new N(-201,!1)}function NA(t,e){t==null&&PA(e,t,null,"!=")}function PA(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function bu(t){return vw(t,eE)||vw(t,tE)}function Xw(t){return bu(t)!==null}function vw(t,e){return t.hasOwnProperty(e)?t[e]:null}function OA(t){let e=t&&(t[eE]||t[tE]);return e||null}function _w(t){return t&&(t.hasOwnProperty(ww)||t.hasOwnProperty(kA))?t[ww]:null}var eE=ye({\u0275prov:ye}),ww=ye({\u0275inj:ye}),tE=ye({ngInjectableDef:ye}),kA=ye({ngInjectorDef:ye}),ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),ff;function FA(){return ff}function Tt(t){let e=ff;return ff=t,e}function nE(t,e,n){let r=bu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;sp(ut(t),"Injector")}var Bn=globalThis;var x=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var VA={},po=VA,pf="__NG_DI_FLAG__",ou="ngTempTokenPath",LA="ngTokenPath",jA=/\n/gm,UA="\u0275",Ew="__source",ho;function lr(t){let e=ho;return ho=t,e}function BA(t,e=ee.Default){if(ho===void 0)throw new N(-203,!1);return ho===null?nE(t,void 0,e):ho.get(t,e&ee.Optional?null:void 0,e)}function P(t,e=ee.Default){return(FA()||BA)(vt(t),e)}function T(t,e=ee.Default){return P(t,Tu(e))}function Tu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mf(t){let e=[];for(let n=0;n<t.length;n++){let r=vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,s=ee.Default;for(let o=0;o<r.length;o++){let a=r[o],c=HA(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(P(i,s))}else e.push(P(r))}return e}function $A(t,e){return t[pf]=e,t.prototype[pf]=e,t}function HA(t){return t[pf]}function qA(t,e,n,r){let i=t[ou];throw e[Ew]&&i.unshift(e[Ew]),t.message=zA(`
`+t.message,i,n,r),t[LA]=i,t[ou]=null,t}function zA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UA?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jA,`
  `)}`}function So(t){return{toString:t}.toString()}var rE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rE||{}),wn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wn||{}),Xi={},Vt=[];function iE(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function gf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];WA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function GA(t){return t===3||t===4||t===6}function WA(t){return t.charCodeAt(0)===64}function mo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Iw(t,n,i,null,e[++r]):Iw(t,n,i,null,null))}}return t}function Iw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var sE="ng-template";function KA(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&iE(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function oE(t){return t.type===4&&t.value!==sE}function QA(t,e,n){let r=t.type===4&&!n?sE:t.value;return e===r}function YA(t,e,n){let r=4,i=t.attrs||[],s=XA(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Jt(r)&&!Jt(c))return!1;if(o&&Jt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!QA(t,c,n)||c===""&&e.length===1){if(Jt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!KA(t.attrs,u,n)){if(Jt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=JA(l,i,oE(t),n);if(d===-1){if(Jt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&iE(f,u,0)!==-1||r&2&&u!==h){if(Jt(r))return!1;o=!0}}}}return Jt(r)||o}function Jt(t){return(t&1)===0}function JA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return ex(e,t)}function ZA(t,e,n=!1){for(let r=0;r<e.length;r++)if(YA(t,e[r],n))return!0;return!1}function XA(t){for(let e=0;e<t.length;e++){let n=t[e];if(GA(n))return e}return t.length}function ex(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Cw(t,e){return t?":not("+e.trim()+")":e}function tx(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Jt(o)&&(e+=Cw(s,i),i=""),r=o,s=s||!Jt(r);n++}return i!==""&&(e+=Cw(s,i)),e}function nx(t){return t.map(tx).join(",")}function rx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Jt(i))break;i=s}r++}return{attrs:e,classes:n}}function we(t){return So(()=>{let e=dE(t),n=me(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});hE(n);let r=t.dependencies;return n.directiveDefs=bw(r,!1),n.pipeDefs=bw(r,!0),n.id=ox(n),n})}function ix(t){return $r(t)||aE(t)}function sx(t){return t!==null}function Mt(t){return So(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Dw(t,e){if(t==null)return Xi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function it(t){return So(()=>{let e=dE(t);return hE(e),e})}function op(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function $r(t){return t[TA]||null}function aE(t){return t[SA]||null}function cE(t){return t[AA]||null}function uE(t){let e=$r(t)||aE(t)||cE(t);return e!==null?e.standalone:!1}function lE(t,e){let n=t[xA]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function dE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dw(t.inputs,e),outputs:Dw(t.outputs),debugInfo:null}}function hE(t){t.features?.forEach(e=>e(t))}function bw(t,e){if(!t)return null;let n=e?cE:ix;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(sx)}function ox(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Wn=0,B=1,j=2,Ue=3,Zt=4,tn=5,au=6,go=7,nt=8,es=9,yo=10,Ye=11,vo=12,Tw=13,os=14,Xt=15,Ao=16,Qi=17,_n=18,Su=19,fE=20,fo=21,Qh=22,Hr=23,St=25,pE=1;var qr=7,cu=8,ts=9,lt=10,ns=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(ns||{});function dr(t){return Array.isArray(t)&&typeof t[pE]=="object"}function en(t){return Array.isArray(t)&&t[pE]===!0}function mE(t){return(t.flags&4)!==0}function Au(t){return t.componentOffset>-1}function ap(t){return(t.flags&1)===1}function hr(t){return!!t.template}function ax(t){return(t[j]&512)!==0}function zr(t,e){let n=t.hasOwnProperty(su);return n?t[su]:null}var yf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Zr(){return gE}function gE(t){return t.type.prototype.ngOnChanges&&(t.setInput=ux),cx}Zr.ngInherit=!0;function cx(){let t=vE(this),e=t?.current;if(e){let n=t.previous;if(n===Xi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ux(t,e,n,r){let i=this.declaredInputs[n],s=vE(t)||lx(t,{previous:Xi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new yf(c&&c.currentValue,e,a===Xi),t[r]=e}var yE="__ngSimpleChanges__";function vE(t){return t[yE]||null}function lx(t,e){return t[yE]=e}var Sw=null;var yn=function(t,e,n){Sw?.(t,e,n)},dx="svg",hx="math";function En(t){for(;Array.isArray(t);)t=t[Wn];return t}function _E(t,e){return En(e[t])}function Lt(t,e){return En(e[t.index])}function cp(t,e){return t.data[e]}function wE(t,e){return t[e]}function pr(t,e){let n=e[t];return dr(n)?n:n[Wn]}function fx(t){return(t[j]&4)===4}function up(t){return(t[j]&128)===128}function px(t){return en(t[Ue])}function uu(t,e){return e==null?null:t[e]}function EE(t){t[Qi]=0}function mx(t){t[j]&1024||(t[j]|=1024,up(t)&&xu(t))}function gx(t,e){for(;t>0;)e=e[os],t--;return e}function IE(t){return t[j]&9216||t[Hr]?.dirty}function CE(t){IE(t)&&xu(t)}function xu(t){let e=t[Ue];for(;e!==null&&!(en(e)&&e[j]&ns.HasChildViewsToRefresh||dr(e)&&e[j]&8192);){if(en(e))e[j]|=ns.HasChildViewsToRefresh;else if(e[j]|=8192,!up(e))break;e=e[Ue]}}function yx(t,e){if((t[j]&256)===256)throw new N(911,!1);t[fo]===null&&(t[fo]=[]),t[fo].push(e)}var te={lFrame:RE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vx(){return te.lFrame.elementDepthCount}function _x(){te.lFrame.elementDepthCount++}function wx(){te.lFrame.elementDepthCount--}function DE(){return te.bindingsEnabled}function Ex(){return te.skipHydrationRootTNode!==null}function Ix(t){return te.skipHydrationRootTNode===t}function Cx(){te.skipHydrationRootTNode=null}function le(){return te.lFrame.lView}function Rt(){return te.lFrame.tView}function Te(t){return te.lFrame.contextLView=t,t[nt]}function Se(t){return te.lFrame.contextLView=null,t}function jt(){let t=bE();for(;t!==null&&t.type===64;)t=t.parent;return t}function bE(){return te.lFrame.currentTNode}function Dx(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function xo(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function TE(){return te.lFrame.isParent}function bx(){te.lFrame.isParent=!1}function SE(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Tx(t){return te.lFrame.bindingIndex=t}function Mo(){return te.lFrame.bindingIndex++}function Sx(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ax(){return te.lFrame.inI18n}function xx(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,vf(e)}function Mx(){return te.lFrame.currentDirectiveIndex}function vf(t){te.lFrame.currentDirectiveIndex=t}function Rx(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function AE(){return te.lFrame.currentQueryIndex}function lp(t){te.lFrame.currentQueryIndex=t}function Nx(t){let e=t[B];return e.type===2?e.declTNode:e.type===1?t[tn]:null}function xE(t,e,n){if(n&ee.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=Nx(s),i===null||(s=s[os],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=ME();return r.currentTNode=e,r.lView=t,!0}function dp(t){let e=ME(),n=t[B];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ME(){let t=te.lFrame,e=t===null?null:t.child;return e===null?RE(t):e}function RE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function NE(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var PE=NE;function hp(){let t=NE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Px(t){return(te.lFrame.contextLView=gx(t,te.lFrame.contextLView))[nt]}function Xr(){return te.lFrame.selectedIndex}function Gr(t){te.lFrame.selectedIndex=t}function OE(){let t=te.lFrame;return cp(t.tView,t.selectedIndex)}function Ox(){return te.lFrame.currentNamespace}var kE=!0;function fp(){return kE}function pp(t){kE=t}function kx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=gE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function mp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Xc(t,e,n){FE(t,e,3,n)}function eu(t,e,n,r){(t[j]&3)===n&&FE(t,e,n,r)}function Yh(t,e){let n=t[j];(n&3)===e&&(n&=16383,n+=1,t[j]=n)}function FE(t,e,n,r){let i=r!==void 0?t[Qi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Qi]+=65536),(a<s||s==-1)&&(Fx(t,n,e,c),t[Qi]=(t[Qi]&4294901760)+c+2),c++}function Aw(t,e){yn(4,t,e);let n=ze(null);try{e.call(t)}finally{ze(n),yn(5,t,e)}}function Fx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[j]>>14<t[Qi]>>16&&(t[j]&3)===e&&(t[j]+=16384,Aw(a,s)):Aw(a,s)}var Zi=-1,Wr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Vx(t){return t instanceof Wr}function Lx(t){return(t.flags&8)!==0}function jx(t){return(t.flags&16)!==0}function VE(t){return t!==Zi}function lu(t){let e=t&32767;return t&32767}function Ux(t){return t>>16}function du(t,e){let n=Ux(t),r=e;for(;n>0;)r=r[os],n--;return r}var _f=!0;function hu(t){let e=_f;return _f=t,e}var Bx=256,LE=Bx-1,jE=5,$x=0,vn={};function Hx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(lo)&&(r=n[lo]),r==null&&(r=n[lo]=$x++);let i=r&LE,s=1<<i;e.data[t+(i>>jE)]|=s}function fu(t,e){let n=UE(t,e);if(n!==-1)return n;let r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,Jh(r.data,t),Jh(e,null),Jh(r.blueprint,null));let i=gp(t,e),s=t.injectorIndex;if(VE(i)){let o=lu(i),a=du(i,e),c=a[B].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Jh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function UE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function gp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=zE(i),r===null)return Zi;if(n++,i=i[os],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zi}function wf(t,e,n){Hx(t,e,n)}function BE(t,e,n){if(n&ee.Optional||t!==void 0)return t;sp(e,"NodeInjector")}function $E(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),!(n&(ee.Self|ee.Host))){let i=t[es],s=Tt(void 0);try{return i?i.get(e,r,n&ee.Optional):nE(e,r,n&ee.Optional)}finally{Tt(s)}}return BE(r,e,n)}function HE(t,e,n,r=ee.Default,i){if(t!==null){if(e[j]&2048&&!(r&ee.Self)){let o=Wx(t,e,n,r,vn);if(o!==vn)return o}let s=qE(t,e,n,r,vn);if(s!==vn)return s}return $E(e,n,r,i)}function qE(t,e,n,r,i){let s=zx(n);if(typeof s=="function"){if(!xE(e,t,r))return r&ee.Host?BE(i,n,r):$E(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ee.Optional))sp(n);else return o}finally{PE()}}else if(typeof s=="number"){let o=null,a=UE(t,e),c=Zi,u=r&ee.Host?e[Xt][tn]:null;for((a===-1||r&ee.SkipSelf)&&(c=a===-1?gp(t,e):e[a+8],c===Zi||!Mw(r,!1)?a=-1:(o=e[B],a=lu(c),e=du(c,e)));a!==-1;){let l=e[B];if(xw(s,a,l.data)){let d=qx(a,e,n,o,r,u);if(d!==vn)return d}c=e[a+8],c!==Zi&&Mw(r,e[B].data[a+8]===u)&&xw(s,a,e)?(o=l,a=lu(c),e=du(c,e)):a=-1}}return i}function qx(t,e,n,r,i,s){let o=e[B],a=o.data[t+8],c=r==null?Au(a)&&_f:r!=o&&(a.type&3)!==0,u=i&ee.Host&&s===a,l=tu(a,o,n,c,u);return l!==null?Kr(e,o,l,a):vn}function tu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let _=o[f];if(f<c&&n===_||f>=c&&_.type===n)return f}if(i){let f=o[c];if(f&&hr(f)&&f.type===n)return c}return null}function Kr(t,e,n,r){let i=t[n],s=e.data;if(Vx(i)){let o=i;o.resolving&&RA(MA(s[n]));let a=hu(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Tt(o.injectImpl):null,l=xE(t,r,ee.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&kx(n,s[n],e)}finally{u!==null&&Tt(u),hu(a),o.resolving=!1,PE()}}return i}function zx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(lo)?t[lo]:void 0;return typeof e=="number"?e>=0?e&LE:Gx:e}function xw(t,e,n){let r=1<<t;return!!(n[e+(t>>jE)]&r)}function Mw(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var Br=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HE(this._tNode,this._lView,e,Tu(r),n)}};function Gx(){return new Br(jt(),le())}function mr(t){return So(()=>{let e=t.prototype.constructor,n=e[su]||Ef(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[su]||Ef(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ef(t){return Jw(t)?()=>{let e=Ef(vt(t));return e&&e()}:zr(t)}function Wx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[j]&2048&&!(o[j]&512);){let a=qE(s,o,n,r|ee.Self,vn);if(a!==vn)return a;let c=s.parent;if(!c){let u=o[fE];if(u){let l=u.get(n,vn,r);if(l!==vn)return l}c=zE(o),o=o[os]}s=c}return i}function zE(t){let e=t[B],n=e.type;return n===2?e.declTNode:n===1?t[tn]:null}var Yc="__parameters__";function Kx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Qx(t,e,n){return So(()=>{let r=Kx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Yc)?c[Yc]:Object.defineProperty(c,Yc,{value:[]})[Yc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Yx(t){return typeof t=="function"}function Jx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Zx(t){return t.flat(Number.POSITIVE_INFINITY)}function yp(t,e){t.forEach(n=>Array.isArray(n)?yp(n,e):e(n))}function GE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xx(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function eM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function tM(t,e,n){let r=Ro(t,e);return r>=0?t[r|1]=n:(r=~r,eM(t,r,e,n)),r}function Zh(t,e){let n=Ro(t,e);if(n>=0)return t[n|1]}function Ro(t,e){return nM(t,e,1)}function nM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var In=$A(Qx("Optional"),8);var No=new x("ENVIRONMENT_INITIALIZER"),WE=new x("INJECTOR",-1),KE=new x("INJECTOR_DEF_TYPES"),mu=class{get(e,n=po){if(n===po){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}};function as(t){return{\u0275providers:t}}function Po(...t){return{\u0275providers:QE(!0,t),\u0275fromNgModule:!0}}function QE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return yp(e,o=>{let a=o;If(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YE(i,s),n}function YE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];vp(i,s=>{e(s,r)})}}function If(t,e,n,r){if(t=vt(t),!t)return!1;let i=null,s=_w(t),o=!s&&$r(t);if(!s&&!o){let c=t.ngModule;if(s=_w(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)If(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{yp(s.imports,l=>{If(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&YE(u,e)}if(!a){let u=zr(i)||(()=>new i);e({provide:i,useFactory:u,deps:Vt},i),e({provide:KE,useValue:i,multi:!0},i),e({provide:No,useValue:()=>P(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;vp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function vp(t,e){for(let n of t)Zw(n)&&(n=n.\u0275providers),Array.isArray(n)?vp(n,e):e(n)}var rM=ye({provide:String,useValue:ye});function JE(t){return t!==null&&typeof t=="object"&&rM in t}function iM(t){return!!(t&&t.useExisting)}function sM(t){return!!(t&&t.useFactory)}function rs(t){return typeof t=="function"}function oM(t){return!!t.useClass}var Mu=new x("Set Injector scope."),nu={},aM={},Xh;function _p(){return Xh===void 0&&(Xh=new mu),Xh}var At=class{},_o=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Df(e,o=>this.processProvider(o)),this.records.set(WE,Yi(void 0,this)),i.has("environment")&&this.records.set(At,Yi(void 0,this));let s=this.records.get(Mu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(KE,Vt,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=lr(this),r=Tt(void 0),i;try{return e()}finally{lr(n),Tt(r)}}get(e,n=po,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yw))return e[yw](this);r=Tu(r);let i,s=lr(this),o=Tt(void 0);try{if(!(r&ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=hM(e)&&bu(e);u&&this.injectableDefInScope(u)?c=Yi(Cf(e),nu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ee.Self?_p():this.parent;return n=r&ee.Optional&&n===po?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ou]=a[ou]||[]).unshift(ut(e)),s)throw a;return qA(a,e,"R3InjectorError",this.source)}else throw a}finally{Tt(o),lr(s)}}resolveInjectorInitializers(){let e=lr(this),n=Tt(void 0),r;try{let i=this.get(No,Vt,ee.Self);for(let s of i)s()}finally{lr(e),Tt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){e=vt(e);let n=rs(e)?e:vt(e&&e.provide),r=uM(e);if(!rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Yi(void 0,nu,!0),i.factory=()=>mf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===nu&&(n.value=aM,n.value=n.factory()),typeof n.value=="object"&&n.value&&dM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cf(t){let e=bu(t),n=e!==null?e.factory:zr(t);if(n!==null)return n;if(t instanceof x)throw new N(204,!1);if(t instanceof Function)return cM(t);throw new N(204,!1)}function cM(t){let e=t.length;if(e>0){let r=Xx(e,"?");throw new N(204,!1)}let n=OA(t);return n!==null?()=>n.factory(t):()=>new t}function uM(t){if(JE(t))return Yi(void 0,t.useValue);{let e=ZE(t);return Yi(e,nu)}}function ZE(t,e,n){let r;if(rs(t)){let i=vt(t);return zr(i)||Cf(i)}else if(JE(t))r=()=>vt(t.useValue);else if(sM(t))r=()=>t.useFactory(...mf(t.deps||[]));else if(iM(t))r=()=>P(vt(t.useExisting));else{let i=vt(t&&(t.useClass||t.provide));if(lM(t))r=()=>new i(...mf(t.deps));else return zr(i)||Cf(i)}return r}function Yi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lM(t){return!!t.deps}function dM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function hM(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function Df(t,e){for(let n of t)Array.isArray(n)?Df(n,e):n&&Zw(n)?Df(n.\u0275providers,e):e(n)}function Kn(t,e){t instanceof _o&&t.assertNotDestroyed();let n,r=lr(t),i=Tt(void 0);try{return e()}finally{lr(r),Tt(i)}}function Rw(t,e=null,n=null,r){let i=XE(t,e,n,r);return i.resolveInjectorInitializers(),i}function XE(t,e=null,n=null,r,i=new Set){let s=[n||Vt,Po(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new _o(s,e||_p(),r||null,i)}var nn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Rw({name:""},i,r,"");{let s=r.name??"";return Rw({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=po,e.NULL=new mu,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>P(WE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var bf;function eI(t){bf=t}function fM(){if(bf!==void 0)return bf;if(typeof document<"u")return document;throw new N(210,!1)}var wp=new x("AppId",{providedIn:"root",factory:()=>pM}),pM="ng",Ep=new x("Platform Initializer"),Cn=new x("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Ip=new x("CSP nonce",{providedIn:"root",factory:()=>fM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function tI(t){return t instanceof Function?t():t}function nI(t){return(t.flags&128)===128}var $n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($n||{});var rI=new Map,mM=0;function gM(){return mM++}function yM(t){rI.set(t[Su],t)}function vM(t){rI.delete(t[Su])}var Nw="__ngContext__";function Qr(t,e){dr(e)?(t[Nw]=e[Su],yM(e)):t[Nw]=e}var _M;function Cp(t,e){return _M(t,e)}function Dp(t){let e=t[Ue];return en(e)?e[Ue]:e}function iI(t){return oI(t[vo])}function sI(t){return oI(t[Zt])}function oI(t){for(;t!==null&&!en(t);)t=t[Zt];return t}function Ji(t,e,n,r,i){if(r!=null){let s,o=!1;en(r)?s=r:dr(r)&&(o=!0,r=r[Wn]);let a=En(r);t===0&&n!==null?i==null?uI(e,n,a):gu(e,n,a,i||null,!0):t===1&&n!==null?gu(e,n,a,i||null,!0):t===2?VM(e,a,o):t===3&&e.destroyNode(a),s!=null&&jM(e,t,s,n,i)}}function wM(t,e){return t.createText(e)}function EM(t,e,n){t.setValue(e,n)}function aI(t,e,n){return t.createElement(e,n)}function IM(t,e){let n=e[Ye];Oo(t,e,n,2,null,null),e[Wn]=null,e[tn]=null}function CM(t,e,n,r,i,s){r[Wn]=i,r[tn]=e,Oo(t,r,n,1,i,s)}function DM(t,e){Oo(t,e,e[Ye],2,null,null)}function bM(t){let e=t[vo];if(!e)return ef(t[B],t);for(;e;){let n=null;if(dr(e))n=e[vo];else{let r=e[lt];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)dr(e)&&ef(e[B],e),e=e[Ue];e===null&&(e=t),dr(e)&&ef(e[B],e),n=e&&e[Zt]}e=n}}function TM(t,e,n,r){let i=lt+r,s=n.length;r>0&&(n[i-1][Zt]=e),r<s-lt?(e[Zt]=n[i],GE(n,lt+r,e)):(n.push(e),e[Zt]=null),e[Ue]=n;let o=e[Ao];o!==null&&n!==o&&SM(o,e);let a=e[_n];a!==null&&a.insertView(t),CE(e),e[j]|=128}function SM(t,e){let n=t[ts],i=e[Ue][Ue][Xt];e[Xt]!==i&&(t[j]|=ns.HasTransplantedViews),n===null?t[ts]=[e]:n.push(e)}function cI(t,e){let n=t[ts],r=n.indexOf(e),i=e[Ue];n.splice(r,1)}function wo(t,e){if(t.length<=lt)return;let n=lt+e,r=t[n];if(r){let i=r[Ao];i!==null&&i!==t&&cI(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let s=pu(t,lt+e);IM(r[B],r);let o=s[_n];o!==null&&o.detachView(s[B]),r[Ue]=null,r[Zt]=null,r[j]&=-129}return r}function Ru(t,e){if(!(e[j]&256)){let n=e[Ye];e[Hr]&&q_(e[Hr]),n.destroyNode&&Oo(t,e,n,3,null,null),bM(e)}}function ef(t,e){if(!(e[j]&256)){e[j]&=-129,e[j]|=256,xM(t,e),AM(t,e),e[B].type===1&&e[Ye].destroy();let n=e[Ao];if(n!==null&&en(e[Ue])){n!==e[Ue]&&cI(n,e);let r=e[_n];r!==null&&r.detachView(t)}vM(e)}}function AM(t,e){let n=t.cleanup,r=e[go];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[go]=null);let i=e[fo];if(i!==null){e[fo]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function xM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];yn(4,a,c);try{c.call(a)}finally{yn(5,a,c)}}else{yn(4,i,s);try{s.call(i)}finally{yn(5,i,s)}}}}}function MM(t,e,n){return RM(t,e.parent,n)}function RM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===wn.None||s===wn.Emulated)return null}return Lt(r,n)}}function gu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uI(t,e,n){t.appendChild(e,n)}function Pw(t,e,n,r,i){r!==null?gu(t,e,n,r,i):uI(t,e,n)}function NM(t,e,n,r){t.removeChild(e,n,r)}function bp(t,e){return t.parentNode(e)}function PM(t,e){return t.nextSibling(e)}function OM(t,e,n){return FM(t,e,n)}function kM(t,e,n){return t.type&40?Lt(t,n):null}var FM=kM,Ow;function Tp(t,e,n,r){let i=MM(t,r,e),s=e[Ye],o=r.parent||e[tn],a=OM(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Pw(s,i,n[c],a,!1);else Pw(s,i,n,a,!1);Ow!==void 0&&Ow(s,r,e,n,i)}function ru(t,e){if(e!==null){let n=e.type;if(n&3)return Lt(e,t);if(n&4)return Tf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ru(t,r);{let i=t[e.index];return en(i)?Tf(-1,i):En(i)}}else{if(n&32)return Cp(e,t)()||En(t[e.index]);{let r=lI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Dp(t[Xt]);return ru(i,r)}else return ru(t,e.next)}}}return null}function lI(t,e){if(e!==null){let r=t[Xt][tn],i=e.projection;return r.projection[i]}return null}function Tf(t,e){let n=lt+t+1;if(n<e.length){let r=e[n],i=r[B].firstChild;if(i!==null)return ru(r,i)}return e[qr]}function VM(t,e,n){let r=bp(t,e);r&&NM(t,r,e,n)}function Sp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Qr(En(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Sp(t,e,n.child,r,i,s,!1),Ji(e,t,i,a,s);else if(c&32){let u=Cp(n,r),l;for(;l=u();)Ji(e,t,i,l,s);Ji(e,t,i,a,s)}else c&16?LM(t,e,r,n,i,s):Ji(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Oo(t,e,n,r,i,s){Sp(n,r,t.firstChild,e,i,s,!1)}function LM(t,e,n,r,i,s){let o=n[Xt],c=o[tn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ji(e,t,i,l,s)}else{let u=c,l=o[Ue];nI(r)&&(u.flags|=128),Sp(t,e,u,l,i,s,!0)}}function jM(t,e,n,r,i){let s=n[qr],o=En(n);s!==o&&Ji(e,t,r,s,i);for(let a=lt;a<n.length;a++){let c=n[a];Oo(c[B],c,t,e,r,s)}}function UM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:$n.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=$n.Important),t.setStyle(n,r,i,s))}}function BM(t,e,n){t.setAttribute(e,"style",n)}function dI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&gf(t,e,r),i!==null&&dI(t,e,i),s!==null&&BM(t,e,s)}var Sf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bA})`}};function Ap(t){return t instanceof Sf?t.changingThisBreaksApplicationSecurity:t}var $M="h",HM="b";var qM=(t,e,n)=>null;function xp(t,e,n=!1){return qM(t,e,n)}var Af=class{},yu=class{};function zM(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[GM]=t,e}var GM="ngComponent";var xf=class{resolveComponentFactory(e){throw zM(e)}},Nu=(()=>{let e=class e{};e.NULL=new xf;let t=e;return t})();function WM(){return cs(jt(),le())}function cs(t,e){return new Ut(Lt(t,e))}var Ut=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=WM;let t=e;return t})();function KM(t){return t instanceof Ut?t.nativeElement:t}var Eo=class{},us=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>QM();let t=e;return t})();function QM(){let t=le(),e=jt(),n=pr(e.index,t);return(dr(n)?n:t)[Ye]}var YM=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Hn=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},Mp=new Hn("17.0.5"),tf={};function Rp(t){let e=ze(null);try{return t()}finally{ze(e)}}function vu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(En(s)),en(s)&&JM(s,r);let o=n.type;if(o&8)vu(t,e,n.child,r);else if(o&32){let a=Cp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=lI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Dp(e[Xt]);vu(c[B],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function JM(t,e){for(let n=lt;n<t.length;n++){let r=t[n],i=r[B].firstChild;i!==null&&vu(r[B],r,i,e)}t[qr]!==t[Wn]&&e.push(t[qr])}var fI=[];function ZM(t){return t[Hr]??XM(t)}function XM(t){let e=fI.pop()??Object.create(tR);return e.lView=t,e}function eR(t){t.lView[Hr]!==t&&(t.lView=null,fI.push(t))}var tR=me(S({},B_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xu(t.lView)},consumerOnSignalRead(){this.lView[Hr]=this}}),nR="ngOriginalError";function nf(t){return t[nR]}var qn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&nf(e);for(;n&&nf(n);)n=nf(n);return n||null}};var pI=!1,rR=new x("",{providedIn:"root",factory:()=>pI});var ei={};function A(t){mI(Rt(),le(),Xr()+t,!1)}function mI(t,e,n,r){if(!r)if((e[j]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Xc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&eu(e,s,0,n)}Gr(n)}function Y(t,e=ee.Default){let n=le();if(n===null)return P(t,e);let r=jt();return HE(r,n,vt(t),e)}function iR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gr(~i);else{let s=i,o=n[++r],a=n[++r];xx(o,s);let c=e[s];a(2,c)}}}finally{Gr(-1)}}function Pu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Wn]=i,d[j]=r|4|128|8,(u!==null||t&&t[j]&2048)&&(d[j]|=2048),EE(d),d[Ue]=d[os]=t,d[nt]=n,d[yo]=o||t&&t[yo],d[Ye]=a||t&&t[Ye],d[es]=c||t&&t[es]||null,d[tn]=s,d[Su]=gM(),d[au]=l,d[fE]=u,d[Xt]=e.type==2?t[Xt]:d,d}function Ou(t,e,n,r,i){let s=t.data[e];if(s===null)s=sR(t,e,n,r,i),Ax()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Dx();s.injectorIndex=o===null?-1:o.injectorIndex}return xo(s,!0),s}function sR(t,e,n,r,i){let s=bE(),o=TE(),a=o?s:s&&s.parent,c=t.data[e]=dR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function gI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yI(t,e,n,r,i){let s=Xr(),o=r&2;try{Gr(-1),o&&e.length>St&&mI(t,e,St,!1),yn(o?2:0,i),n(r,i)}finally{Gr(s),yn(o?3:1,i)}}function vI(t,e,n){if(mE(e)){let r=ze(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ze(r)}}}function _I(t,e,n){DE()&&(vR(t,e,n,Lt(n,e)),(n.flags&64)===64&&DI(t,e,n))}function wI(t,e,n=Lt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function EI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Np(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Np(t,e,n,r,i,s,o,a,c,u,l){let d=St+r,h=d+i,f=oR(d,h),_=typeof u=="function"?u():u;return f[B]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:l}}function oR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ei);return n}function aR(t,e,n,r){let s=r.get(rR,pI)||n===wn.ShadowDom,o=t.selectRootElement(e,s);return cR(o),o}function cR(t){uR(t)}var uR=t=>null;function lR(t,e,n,r){let i=AI(e);i.push(n),t.firstCreatePass&&xI(t).push(r,i.length-1)}function dR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ex()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kw(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?Fw(n,e,i,s):r.hasOwnProperty(i)&&Fw(n,e,r[i],s)}return n}function Fw(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function hR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,_=h?h.outputs:null;c=kw(d.inputs,l,c,f),u=kw(d.outputs,l,u,_);let I=c!==null&&o!==null&&!oE(e)?xR(c,l,o):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function fR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function pR(t,e,n,r,i,s,o,a){let c=Lt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Pp(t,n,l,r,i),Au(e)&&mR(n,e.index)):e.type&3?(r=fR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function mR(t,e){let n=pr(e,t);n[j]&16||(n[j]|=64)}function II(t,e,n,r){if(DE()){let i=r===null?null:{"":-1},s=wR(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&CI(t,e,n,o,i,a),i&&ER(n,r,i)}n.mergedAttrs=mo(n.mergedAttrs,n.attrs)}function CI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)wf(fu(n,e),t,r[u].type);CR(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=gI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=mo(n.mergedAttrs,l.hostAttrs),DR(t,n,e,c,l),IR(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}hR(t,n,s)}function gR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;yR(o)!=a&&o.push(a),o.push(n,r,s)}}function yR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Au(n)&&bR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fu(n,e),Qr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Kr(e,t,a,n);if(Qr(u,e),o!==null&&AR(e,a-i,u,c,n,o),hr(c)){let l=pr(n.index,e);l[nt]=Kr(e,t,a,n)}}}function DI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Mx();try{Gr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];vf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&_R(c,u)}}finally{Gr(-1),vf(o)}}function _R(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function wR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(ZA(e,o.selectors,!1))if(r||(r=[]),hr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Mf(t,e,c)}else r.unshift(o),Mf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Mf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ER(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new N(-301,!1);r.push(e[i],s)}}}function IR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hr(e)&&(n[""]=t)}}function CR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function DR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=zr(i.type,!0)),o=new Wr(s,hr(i),Y);t.blueprint[r]=o,n[r]=o,gR(t,e,r,gI(t,n,i.hostVars,ei),i)}function bR(t,e,n){let r=Lt(e,t),i=EI(n),s=t[yo].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ku(t,Pu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function TR(t,e,n,r,i,s){let o=Lt(t,e);SR(e[Ye],o,s,t.value,n,r,i)}function SR(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ip(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function AR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];bI(r,n,c,u,l)}}function bI(t,e,n,r,i){let s=ze(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{ze(s)}}function xR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function TI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function SI(t,e){let n=t.contentQueries;if(n!==null){let r=ze(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];lp(s),a.contentQueries(2,e[o],o)}}}finally{ze(r)}}}function ku(t,e){return t[vo]?t[Tw][Zt]=e:t[vo]=e,t[Tw]=e,e}function Rf(t,e,n){lp(0);let r=ze(null);try{e(t,n)}finally{ze(r)}}function AI(t){return t[go]||(t[go]=[])}function xI(t){return t.cleanup||(t.cleanup=[])}function MI(t,e){let n=t[es],r=n?n.get(qn,null):null;r&&r.handleError(e)}function Pp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];bI(u,c,r,a,i)}}function MR(t,e,n){let r=_E(e,t);EM(t[Ye],r,n)}var RR=100;function NR(t,e=!0){let n=t[yo],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{let o=t[B],a=t[nt];RI(o,t,o.template,a),PR(t)}catch(o){throw e&&MI(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function PR(t){let e=0;for(;IE(t);){if(e===RR)throw new N(103,!1);e++,OI(t,1)}}function RI(t,e,n,r){let i=e[j];if((i&256)===256)return;let s=!1;!s&&e[yo].inlineEffectRunner?.flush(),dp(e);let o=null,a=null;!s&&OR(t)&&(a=ZM(e),o=$_(a));try{EE(e),Tx(t.bindingStartIndex),n!==null&&yI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Xc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&eu(e,d,0,null),Yh(e,0)}if(kR(e),NI(e,0),t.contentQueries!==null&&SI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Xc(e,d)}else{let d=t.contentHooks;d!==null&&eu(e,d,1),Yh(e,1)}iR(t,e);let u=t.components;u!==null&&kI(e,u,0);let l=t.viewQuery;if(l!==null&&Rf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Xc(e,d)}else{let d=t.viewHooks;d!==null&&eu(e,d,2),Yh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qh]){for(let d of e[Qh])d();e[Qh]=null}s||(e[j]&=-73)}catch(c){throw xu(e),c}finally{a!==null&&(H_(a,o),eR(a)),hp()}}function OR(t){return t.type!==2}function NI(t,e){for(let n=iI(t);n!==null;n=sI(n)){n[j]&=~ns.HasChildViewsToRefresh;for(let r=lt;r<n.length;r++){let i=n[r];PI(i,e)}}}function kR(t){for(let e=iI(t);e!==null;e=sI(e)){if(!(e[j]&ns.HasTransplantedViews))continue;let n=e[ts];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ue];mx(i)}}}function FR(t,e,n){let r=pr(e,t);PI(r,n)}function PI(t,e){up(t)&&OI(t,e)}function OI(t,e){let r=t[B],i=t[j],s=t[Hr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Th(s)),s&&(s.dirty=!1),t[j]&=-9217,o)RI(r,t,r.template,t[nt]);else if(i&8192){NI(t,1);let a=r.components;a!==null&&kI(t,a,1)}}function kI(t,e,n){for(let r=0;r<e.length;r++)FR(t,e[r],n)}function Op(t){for(;t;){t[j]|=64;let e=Dp(t);if(ax(t)&&!e)return t;t=e}return null}var Yr=class{get rootNodes(){let e=this._lView,n=e[B];return vu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ue];if(en(e)){let n=e[cu],r=n?n.indexOf(this):-1;r>-1&&(wo(e,r),pu(n,r))}this._attachedToViewContainer=!1}Ru(this._lView[B],this._lView)}onDestroy(e){yx(this._lView,e)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){CE(this._lView),this._lView[j]|=128}detectChanges(){NR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,DM(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e}},ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VR;let t=e;return t})();function VR(t){return LR(jt(),le(),(t&16)===16)}function LR(t,e,n){if(Au(t)&&!n){let r=pr(t.index,e);return new Yr(r,r)}else if(t.type&47){let r=e[Xt];return new Yr(r,e)}return null}var Vw=new Set;function ko(t){Vw.has(t)||(Vw.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var Nf=class extends tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=rf(s),i&&(i=rf(i)),o&&(o=rf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof je&&e.add(a),a}};function rf(t){return e=>{setTimeout(t,void 0,e)}}var Ve=Nf;function Lw(...t){}function jR(){let t=typeof Bn.requestAnimationFrame=="function",e=Bn[t?"requestAnimationFrame":"setTimeout"],n=Bn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ge=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=jR().nativeRequestAnimationFrame,$R(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,UR,Lw,Lw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},UR={};function kp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function BR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pf(t),t.isCheckStableRunning=!0,kp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pf(t))}function $R(t){let e=()=>{BR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(HR(a))return n.invokeTask(i,s,o,a);try{return jw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Uw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return jw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Uw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Pf(t),kp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Pf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function jw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uw(t){t._nesting--,kp(t)}var FI=new x("",{providedIn:"root",factory:VI});function VI(){let t=T(ge),e=!0,n=new K(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new K(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{ge.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return qh(n,r.pipe(Wc()))}function HR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var qR=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function zR(t,e){let n=pr(e,t),r=n[B];GR(r,n);let i=n[Wn];i!==null&&n[au]===null&&(n[au]=xp(i,n[es])),Fp(r,n,n[nt])}function GR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Fp(t,e,n){dp(e);try{let r=t.viewQuery;r!==null&&Rf(1,r,n);let i=t.template;i!==null&&yI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&SI(t,e),t.staticViewQueries&&Rf(2,t.viewQuery,n);let s=t.components;s!==null&&WR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,hp()}}function WR(t,e){for(let n=0;n<e.length;n++)zR(t,e[n])}function Of(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=gw(i,a);else if(s==2){let c=a,u=e[++o];r=gw(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var _u=class extends Nu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$r(e);return new Io(n,this.ngModule)}};function Bw(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function KR(t){let e=t.toLowerCase();return e==="svg"?dx:e==="math"?hx:null}var kf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Tu(r);let i=this.injector.get(e,tf,r);return i!==tf||n===tf?i:this.parentInjector.get(e,n,r)}},Io=class extends yu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Bw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Bw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=nx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof At?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new kf(e,s):e,a=o.get(Eo,null);if(a===null)throw new N(407,!1);let c=o.get(YM,null),u=o.get(qR,null),l={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?aR(d,r,this.componentDef.encapsulation,o):aI(d,h,KR(h)),_=4608,I=this.componentDef.onPush?576:528,v=this.componentDef.signals?_:I,C=null;f!==null&&(C=xp(f,o,!0));let L=Np(0,null,null,1,0,null,null,null,null,null,null),J=Pu(null,L,null,v,null,null,l,d,o,null,C);dp(J);let W,ke;try{let oe=this.componentDef,Qe,pn=null;oe.findHostDirectiveDefs?(Qe=[],pn=new Map,oe.findHostDirectiveDefs(oe,Qe,pn),Qe.push(oe)):Qe=[oe];let kr=QR(J,f),Fi=YR(kr,f,oe,Qe,J,l,d);ke=cp(L,St),f&&XR(d,oe,f,r),n!==void 0&&eN(ke,this.ngContentSelectors,n),W=ZR(Fi,oe,Qe,pn,J,[tN]),Fp(L,J,null)}finally{hp()}return new Ff(this.componentType,W,cs(ke,J),J,ke)}},Ff=class extends Af{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Yr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Pp(s[B],s,i,e,n),this.previousInputValues.set(e,n);let o=pr(this._tNode.index,s);Op(o)}}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QR(t,e){let n=t[B],r=St;return t[r]=e,Ou(n,r,2,"#host",null)}function YR(t,e,n,r,i,s,o){let a=i[B];JR(r,t,e,o);let c=null;e!==null&&(c=xp(e,i[es]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Pu(i,EI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Mf(a,t,r.length-1),ku(i,d),i[t.index]=d}function JR(t,e,n,r){for(let i of t)e.mergedAttrs=mo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Of(e,e.mergedAttrs,!0),n!==null&&hI(r,n,e))}function ZR(t,e,n,r,i,s){let o=jt(),a=i[B],c=Lt(o,i);CI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Kr(i,a,d,o);Qr(h,i)}DI(a,i,o),c&&Qr(c,i);let u=Kr(i,a,o.directiveStart+o.componentOffset,o);if(t[nt]=i[nt]=u,s!==null)for(let l of s)l(u,e);return vI(a,o,t),u}function XR(t,e,n,r){if(r)gf(t,n,["ng-version",Mp.full]);else{let{attrs:i,classes:s}=rx(e.selectors[0]);i&&gf(t,n,i),s&&s.length>0&&dI(t,n,s.join(" "))}}function eN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function tN(){let t=jt();mp(le()[B],t)}function nN(t){return Object.getPrototypeOf(t.prototype).constructor}function rn(t){let e=nN(t.type),n=!0,r=[t];for(;e;){let i;if(hr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Jc(t.inputs),o.inputTransforms=Jc(t.inputTransforms),o.declaredInputs=Jc(t.declaredInputs),o.outputs=Jc(t.outputs);let a=i.hostBindings;a&&oN(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&iN(t,c),u&&sN(t,u),Qc(t.inputs,i.inputs),Qc(t.declaredInputs,i.declaredInputs),Qc(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),Qc(o.inputTransforms,i.inputTransforms)),hr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===rn&&(n=!1)}}e=Object.getPrototypeOf(e)}rN(r)}function rN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mo(i.hostAttrs,n=mo(n,i.hostAttrs))}}function Jc(t){return t===Xi?{}:t===Vt?[]:t}function iN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function sN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function oN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function LI(t,e,n){return t[e]=n}function zn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function aN(t,e,n,r){let i=zn(t,e,n);return zn(t,e+1,r)||i}function Fo(t,e,n,r){let i=le(),s=Mo();if(zn(i,s,e)){let o=Rt(),a=OE();TR(a,i,t,e,n,r)}return Fo}function cN(t,e,n,r){return zn(t,Mo(),n)?e+ip(n)+r:ei}function Zc(t,e){return t<<17|e<<2}function Jr(t){return t>>17&32767}function uN(t){return(t&2)==2}function lN(t,e){return t&131071|e<<17}function Vf(t){return t|2}function is(t){return(t&131068)>>2}function sf(t,e){return t&-131069|e<<2}function dN(t){return(t&1)===1}function Lf(t){return t|1}function hN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Jr(o),c=is(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ro(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Jr(t[a+1]);t[r+1]=Zc(h,a),h!==0&&(t[h+1]=sf(t[h+1],r)),t[a+1]=lN(t[a+1],r)}else t[r+1]=Zc(a,0),a!==0&&(t[a+1]=sf(t[a+1],r)),a=r;else t[r+1]=Zc(c,0),a===0?a=r:t[c+1]=sf(t[c+1],r),c=r;u&&(t[r+1]=Vf(t[r+1])),$w(t,l,r,!0,s),$w(t,l,r,!1,s),fN(e,l,t,r,s),o=Zc(a,c),s?e.classBindings=o:e.styleBindings=o}function fN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ro(s,e)>=0&&(n[r+1]=Lf(n[r+1]))}function $w(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?Jr(s):is(s),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],l=t[a+1];pN(u,e)&&(c=!0,t[a+1]=r?Lf(l):Vf(l)),a=r?Jr(l):is(l)}c&&(t[n+1]=r?Vf(s):Lf(s))}function pN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ro(t,e)>=0:!1}function Ae(t,e,n){let r=le(),i=Mo();if(zn(r,i,e)){let s=Rt(),o=OE();pR(s,o,r,t,e,r[Ye],n,!1)}return Ae}function Hw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Pp(t,n,s[o],o,r)}function Fu(t,e){return mN(t,e,null,!0),Fu}function mN(t,e,n,r){let i=le(),s=Rt(),o=Sx(2);if(s.firstUpdatePass&&yN(s,t,o,r),e!==ei&&zn(i,o,e)){let a=s.data[Xr()];IN(s,a,i,i[Ye],t,i[o+1]=CN(e,n),r,o)}}function gN(t,e){return e>=t.expandoStartIndex}function yN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Xr()],o=gN(t,n);DN(s,r)&&e===null&&!o&&(e=!1),e=vN(i,s,e,r),hN(i,s,e,n,o,r)}}function vN(t,e,n,r){let i=Rx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=of(null,t,e,n,r),n=Co(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=of(i,t,e,n,r),s===null){let c=_N(t,e,r);c!==void 0&&Array.isArray(c)&&(c=of(null,t,e,c[1],r),c=Co(c,e.attrs,r),wN(t,e,r,c))}else s=EN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function _N(t,e,n){let r=n?e.classBindings:e.styleBindings;if(is(r)!==0)return t[Jr(r)]}function wN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Jr(i)]=r}function EN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Co(r,o,n)}return Co(r,e.attrs,n)}function of(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Co(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Co(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function IN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=dN(u)?qw(c,e,n,i,is(u),o):void 0;if(!wu(l)){wu(s)||uN(u)&&(s=qw(c,null,n,i,a,o));let d=_E(Xr(),n);UM(r,o,d,i,s)}}function qw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===ei&&(h=d?Vt:void 0);let f=d?Zh(h,r):l===r?h:void 0;if(u&&!wu(f)&&(f=Zh(c,r)),wu(f)&&(a=f,o))return a;let _=t[i+1];i=o?Jr(_):is(_)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Zh(c,r))}return a}function wu(t){return t!==void 0}function CN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(Ap(t)))),t}function DN(t,e){return(t.flags&(e?8:16))!==0}var UG=new RegExp(`^(\\d+)*(${HM}|${$M})*(.*)`);var bN=(t,e)=>null;function Do(t,e){return bN(t,e)}var jf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function af(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function TN(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=af(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=af(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let _=n(s,c),I=n(o,d),v=n(s,u);if(Object.is(v,I)){let C=n(a,h);Object.is(C,_)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Eu,i??=Gw(t,s,o,n),Uf(t,r,s,v))t.updateValue(s,u),s++,o++;else if(i.has(v))r.set(_,t.detach(s)),o--;else{let C=t.create(s,e[s]);t.attach(s,C),s++,o++}}for(;s<=a;)zw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=af(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Eu,i??=Gw(t,s,o,n);let h=n(s,l);if(Uf(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)zw(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Uf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function zw(t,e,n,r,i){if(Uf(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function Gw(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Eu=class{constructor(){this.map=new Map}has(e){let n=this.map.get(e);return n!==void 0&&n.length>0}delete(e){let n=this.map.get(e);return n!==void 0?(n.shift(),!0):!1}get(e){let n=this.map.get(e);return n!==void 0&&n.length>0?n[0]:void 0}set(e,n){if(!this.map.has(e)){this.map.set(e,[n]);return}this.map.get(e)?.push(n)}forEach(e){for(let[n,r]of this.map)for(let i of r)e(i,n)}};function Vu(t,e,n,r){let i=e.tView,o=t[j]&4096?4096:16,a=Pu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Ao]=c;let u=t[_n];return u!==null&&(a[_n]=u.createEmbeddedView(i)),Fp(i,a,n),a}function jI(t,e){let n=lt+e;if(n<t.length)return t[n]}function bo(t,e){return!e||nI(t)}function Lu(t,e,n,r=!0){let i=e[B];if(TM(i,e,t,n),r){let s=Tf(n,t),o=e[Ye],a=bp(o,t[qr]);a!==null&&CM(i,t[tn],o,e,a,s)}}function UI(t,e){let n=wo(t,e);return n!==void 0&&Ru(n[B],n),n}var ni=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SN;let t=e;return t})();function SN(){let t=jt();return $I(t,le())}var AN=ni,BI=class extends AN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cs(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){let e=gp(this._hostTNode,this._hostLView);if(VE(e)){let n=du(e,this._hostLView),r=lu(e),i=n[B].data[r+8];return new Br(i,n)}else return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ww(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Do(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,bo(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Yx(e),a;if(o)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let c=o?e:new Io($r(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let I=(o?u:this.parentInjector).get(At,null);I&&(s=I)}let l=$r(c.componentType??{}),d=Do(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,bo(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(px(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ue],u=new BI(c,c[tn],c[Ue]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Lu(o,i,s,r),e.attachToViewContainerRef(),GE(cf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ww(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=wo(this._lContainer,n);r&&(pu(cf(this._lContainer),n),Ru(r[B],r))}detach(e){let n=this._adjustIndex(e,-1),r=wo(this._lContainer,n);return r&&pu(cf(this._lContainer),n)!=null?new Yr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ww(t){return t[cu]}function cf(t){return t[cu]||(t[cu]=[])}function $I(t,e){let n,r=e[t.index];return en(r)?n=r:(n=TI(r,e,null,t),e[t.index]=n,ku(e,n)),MN(n,e,t,r),new BI(n,t,e)}function xN(t,e){let n=t[Ye],r=n.createComment(""),i=Lt(e,t),s=bp(n,i);return gu(n,s,r,PM(n,i),!1),r}var MN=PN,RN=(t,e,n)=>!1;function NN(t,e,n){return RN(t,e,n)}function PN(t,e,n,r){if(t[qr])return;let i;n.type&8?i=En(r):i=xN(e,n),t[qr]=i}function ON(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Ou(e,t,4,o||null,uu(u,a));II(e,n,l,uu(u,c)),mp(e,l);let d=l.tView=Np(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function rt(t,e,n,r,i,s,o,a){let c=le(),u=Rt(),l=t+St,d=u.firstCreatePass?ON(l,u,c,e,n,r,i,s,o):u.data[l];xo(d,!1);let h=kN(u,c,d,t);fp()&&Tp(u,c,h,d),Qr(h,c);let f=TI(h,c,h,d);return c[l]=f,ku(c,f),NN(f,d,c),ap(d)&&_I(u,c,d),o!=null&&wI(c,d,a),rt}var kN=FN;function FN(t,e,n,r){return pp(!0),e[Ye].createComment("")}function Bt(t,e,n){ko("NgControlFlow");let r=le(),i=Mo(),s=qf(r,St+t),o=0;if(zn(r,i,e)){let a=ze(null);try{if(UI(s,o),e!==-1){let c=zf(r[B],St+e),u=Do(s,c.tView.ssrId),l=Vu(r,c,n,{dehydratedView:u});Lu(s,l,o,bo(c,u))}}finally{ze(a)}}else{let a=jI(s,o);a!==void 0&&(a[nt]=n)}}var Bf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-lt}};function sn(t){return t}var $f=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function on(t,e,n,r,i,s,o,a,c,u,l){ko("NgControlFlow");let d=c!==void 0,h=le(),f=a?o.bind(h[Xt][nt]):o,_=new $f(d,f);h[St+t]=_,rt(t+1,e,n,r,i,s),d&&rt(t+2,c,u,l)}var Hf=class extends jf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-lt}at(e){return this.getLView(e)[nt].$implicit}attach(e,n){let r=n[au];this.needsIndexUpdate||=e!==this.length,Lu(this.lContainer,n,e,bo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,VN(this.lContainer,e)}create(e,n){let r=Do(this.lContainer,this.templateTNode.tView.ssrId);return Vu(this.hostLView,this.templateTNode,new Bf(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Ru(e[B],e)}updateValue(e,n){this.getLView(e)[nt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[nt].$index=e}getLView(e){return LN(this.lContainer,e)}};function an(t){let e=ze(null),n=Xr();try{let r=le(),i=r[B],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=qf(r,a),u=zf(i,a);s.liveCollection=new Hf(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(TN(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Mo(),c=o.length===0;if(zn(r,a,c)){let u=n+2,l=qf(r,u);if(c){let d=zf(i,u),h=Do(l,d.tView.ssrId),f=Vu(r,d,void 0,{dehydratedView:h});Lu(l,f,0,bo(d,h))}else UI(l,0)}}}finally{ze(e)}}function qf(t,e){return t[e]}function VN(t,e){return wo(t,e)}function LN(t,e){return jI(t,e)}function zf(t,e){return cp(t,e)}function jN(t,e,n,r,i,s){let o=e.consts,a=uu(o,i),c=Ou(e,t,2,r,a);return II(e,n,c,uu(o,s)),c.attrs!==null&&Of(c,c.attrs,!1),c.mergedAttrs!==null&&Of(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=le(),s=Rt(),o=St+t,a=i[Ye],c=s.firstCreatePass?jN(o,s,i,e,n,r):s.data[o],u=UN(s,i,c,a,e,t);i[o]=u;let l=ap(c);return xo(c,!0),hI(a,u,c),(c.flags&32)!==32&&fp()&&Tp(s,i,u,c),vx()===0&&Qr(u,i),_x(),l&&(_I(s,i,c),vI(s,c,i)),r!==null&&wI(i,c),m}function p(){let t=jt();TE()?bx():(t=t.parent,xo(t,!1));let e=t;Ix(e)&&Cx(),wx();let n=Rt();return n.firstCreatePass&&(mp(n,t),mE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Lx(e)&&Hw(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jx(e)&&Hw(n,e,le(),e.stylesWithoutHost,!1),p}function se(t,e,n,r){return m(t,e,n,r),p(),se}var UN=(t,e,n,r,i,s)=>(pp(!0),aI(r,i,Ox()));function Re(){return le()}var Ur=void 0;function BN(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var $N=["en",[["a","p"],["AM","PM"],Ur],[["AM","PM"],Ur,Ur],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ur,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ur,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ur,"{1} 'at' {0}",Ur],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",BN],uf={};function $t(t){let e=HN(t),n=Kw(e);if(n)return n;let r=e.split("-")[0];if(n=Kw(r),n)return n;if(r==="en")return $N;throw new N(701,!1)}function Kw(t){return t in uf||(uf[t]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[t]),uf[t]}var Le=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Le||{});function HN(t){return t.toLowerCase().replace(/_/g,"-")}var Iu="en-US";var qN=Iu;function zN(t){NA(t,"Expected localeId to be defined"),typeof t=="string"&&(qN=t.toLowerCase().replace(/_/g,"-"))}function gr(t){return!!t&&typeof t.then=="function"}function Vp(t){return!!t&&typeof t.subscribe=="function"}function F(t,e,n,r){let i=le(),s=Rt(),o=jt();return WN(s,i,i[Ye],o,t,e,r),F}function GN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[go],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function WN(t,e,n,r,i,s,o){let a=ap(r),u=t.firstCreatePass&&xI(t),l=e[nt],d=AI(e),h=!0;if(r.type&3||o){let I=Lt(r,e),v=o?o(I):I,C=d.length,L=o?W=>o(En(W[r.index])):r.index,J=null;if(!o&&a&&(J=GN(t,e,i,r.index)),J!==null){let W=J.__ngLastListenerFn__||J;W.__ngNextListenerFn__=s,J.__ngLastListenerFn__=s,h=!1}else{s=Yw(r,e,l,s,!1);let W=n.listen(v,i,s);d.push(s,W),u&&u.push(i,L,C,C+1)}}else s=Yw(r,e,l,s,!1);let f=r.outputs,_;if(h&&f!==null&&(_=f[i])){let I=_.length;if(I)for(let v=0;v<I;v+=2){let C=_[v],L=_[v+1],ke=e[C][L].subscribe(s),oe=d.length;d.push(s,ke),u&&u.push(i,r.index,oe,-(oe+1))}}}function Qw(t,e,n,r){try{return yn(6,e,n),n(r)!==!1}catch(i){return MI(t,i),!1}finally{yn(7,e,n)}}function Yw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?pr(t.index,e):e;Op(a);let c=Qw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Qw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function q(t=1){return Px(t)}function KN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function y(t,e=""){let n=le(),r=Rt(),i=t+St,s=r.firstCreatePass?Ou(r,i,1,e,null):r.data[i],o=QN(r,n,s,e,t);n[i]=o,fp()&&Tp(r,n,o,s),xo(s,!1)}var QN=(t,e,n,r,i)=>(pp(!0),wM(e[Ye],r));function de(t){return ls("",t,""),de}function ls(t,e,n){let r=le(),i=cN(r,t,e,n);return i!==ei&&MR(r,Xr(),i),ls}function YN(t,e,n){let r=Rt();if(r.firstCreatePass){let i=hr(t);Gf(n,r.data,r.blueprint,i,!0),Gf(e,r.data,r.blueprint,i,!1)}}function Gf(t,e,n,r,i){if(t=vt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Gf(t[s],e,n,r,i);else{let s=Rt(),o=le(),a=jt(),c=rs(t)?t:vt(t.provide),u=ZE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(rs(t)||!t.multi){let f=new Wr(u,i,Y),_=df(c,e,i?l:l+h,d);_===-1?(wf(fu(a,o),s,c),lf(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[_]=f,o[_]=f)}else{let f=df(c,e,l+h,d),_=df(c,e,l,l+h),I=f>=0&&n[f],v=_>=0&&n[_];if(i&&!v||!i&&!I){wf(fu(a,o),s,c);let C=XN(i?ZN:JN,n.length,i,r,u);!i&&v&&(n[_].providerFactory=C),lf(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=HI(n[i?_:f],u,!i&&r);lf(s,t,f>-1?f:_,C)}!i&&r&&v&&n[_].componentProviders++}}}function lf(t,e,n,r){let i=rs(e),s=oM(e);if(i||s){let c=(s?vt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function HI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function df(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function JN(t,e,n,r){return Wf(this.multi,[])}function ZN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Kr(n,n[B],this.providerFactory.index,r);s=a.slice(0,o),Wf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Wf(i,s);return s}function Wf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function XN(t,e,n,r,i){let s=new Wr(t,n,Y);return s.multi=[],s.index=e,s.componentProviders=0,HI(s,i,r&&!n),s}function ri(t,e=[]){return n=>{n.providersResolver=(r,i)=>YN(r,i?i(t):t,e)}}var fr=class{},To=class{};var Kf=class extends fr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _u(this);let i=lE(e);this._bootstrapComponents=tI(i.bootstrap),this._r3Injector=XE(e,n,[{provide:fr,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qf=class extends To{constructor(e){super(),this.moduleType=e}create(e){return new Kf(this.moduleType,e,[])}};var Cu=class extends fr{constructor(e){super(),this.componentFactoryResolver=new _u(this),this.instance=null;let n=new _o([...e.providers,{provide:fr,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],e.parent||_p(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lp(t,e,n=null){return new Cu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var eP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=QE(!1,r.type),s=i.length>0?Lp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(P(At))});let t=e;return t})();function Ee(t){ko("NgStandalone"),t.getStandaloneInjector=e=>e.get(eP).getOrCreateStandaloneInjector(t)}function qI(t,e){let n=t[e];return n===ei?void 0:n}function tP(t,e,n,r,i,s){let o=e+n;return zn(t,o,i)?LI(t,o+1,s?r.call(s,i):r(i)):qI(t,o+1)}function nP(t,e,n,r,i,s,o){let a=e+n;return aN(t,a,i,s)?LI(t,a+2,o?r.call(o,i,s):r(i,s)):qI(t,a+2)}function We(t,e){let n=Rt(),r,i=t+St;n.firstCreatePass?(r=rP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=zr(r.type,!0)),o,a=Tt(Y);try{let c=hu(!1),u=s();return hu(c),KN(n,le(),i,u),u}finally{Tt(a)}}function rP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function zI(t,e,n){let r=t+St,i=le(),s=wE(i,r);return GI(i,r)?tP(i,SE(),e,s.transform,n,s):s.transform(n)}function st(t,e,n,r){let i=t+St,s=le(),o=wE(s,i);return GI(s,i)?nP(s,SE(),e,o.transform,n,r,o):o.transform(n,r)}function GI(t,e){return t[B].data[e].pure}function iP(){return this._results[Symbol.iterator]()}var Yf=class t{get changes(){return this._changes||(this._changes=new Ve)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=iP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Zx(e);(this._changesDetected=!Jx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},ss=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aP;let t=e;return t})(),sP=ss,oP=class extends sP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Vu(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Yr(i)}};function aP(){return jp(jt(),le())}function jp(t,e){return t.type&4?new oP(e,t,cs(t,e)):null}var Jf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Zf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)KI(e,n).matches!==null&&this.queries[n].setDirty()}},Xf=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},ep=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},tp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,cP(n,s)),this.matchTNodeWithReadOption(e,n,tu(n,e,s,!1,!1))}else r===ss?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,tu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ut||i===ni||i===ss&&n.type&4)this.addMatch(n.index,-2);else{let s=tu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function cP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function uP(t,e){return t.type&11?cs(t,e):t.type&4?jp(t,e):null}function lP(t,e,n,r){return n===-1?uP(e,t):n===-2?dP(t,e,r):Kr(t,t[B],n,e)}function dP(t,e,n){if(n===Ut)return cs(e,t);if(n===ss)return jp(e,t);if(n===ni)return $I(e,t)}function WI(t,e,n,r){let i=e[_n].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(lP(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function np(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=WI(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=lt;d<l.length;d++){let h=l[d];h[Ao]===h[Ue]&&np(h[B],h,u,r)}if(l[ts]!==null){let d=l[ts];for(let h=0;h<d.length;h++){let f=d[h];np(f[B],f,u,r)}}}}}return r}function yr(t){let e=le(),n=Rt(),r=AE();lp(r+1);let i=KI(n,r);if(t.dirty&&fx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?np(n,e,r,[]):WI(n,e,i,r);t.reset(s,KM),t.notifyOnChanges()}return!0}return!1}function ii(t,e,n){let r=Rt();r.firstCreatePass&&(pP(r,new Xf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),fP(r,le(),e)}function vr(){return hP(le(),AE())}function hP(t,e){return t[_n].queries[e].queryList}function fP(t,e,n){let r=new Yf((n&4)===4);lR(t,e,r,r.destroy),e[_n]===null&&(e[_n]=new Zf),e[_n].queries.push(new Jf(r))}function pP(t,e,n){t.queries===null&&(t.queries=new ep),t.queries.track(new tp(e,n))}function KI(t,e){return t.queries.getByIndex(e)}var QI=new x("Application Initializer"),YI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=T(QI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(gr(o))r.push(o);else if(Vp(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ju=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function mP(){return typeof $localize<"u"&&$localize.locale||Iu}var Uu=new x("LocaleId",{providedIn:"root",factory:()=>T(Uu,ee.Optional|ee.SkipSelf)||mP()});var ds=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Up=(()=>{let e=class e{compileModuleSync(r){return new Qf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=lE(r),o=tI(s.declarations).reduce((a,c)=>{let u=$r(c);return u&&a.push(new Io(u)),a},[]);return new rp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var JI=new x("");var iu=null;var ZI=new x("PlatformDestroyListeners"),Bu=new x("appBootstrapListener");function gP(){z_(()=>{throw new N(600,!1)})}function yP(t){return t.isBoundToModule}function vP(t=[]){if(iu)return iu;let e=wP(t);return iu=e,gP(),_P(e),e}function _P(t){t.get(Ep,null)?.forEach(n=>n())}function XI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=vP(r),s=[TP(),...n||[]],a=new Cu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ge);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(qn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(ZI);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),IP(u,c,()=>{let f=a.get(YI);return f.runInitializers(),f.donePromise.then(()=>{let _=a.get(Uu,Iu);zN(_||Iu);let I=a.get(hs);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function wP(t=[],e){return nn.create({name:e,providers:[{provide:Mu,useValue:"platform"},{provide:ZI,useValue:new Set([()=>iu=null])},...t]})}function EP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function IP(t,e,n){try{let r=n();return gr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var hs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(e0),this.zoneIsStable=T(FI),this.componentTypes=[],this.components=[],this.isStable=T(ds).hasPendingTasks.pipe(yt(r=>r?k(!1):this.zoneIsStable),qc(),Wc()),this._injector=T(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof yu;if(!this._injector.get(YI).done){let _="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&uE(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new N(405,!1)}let a;s?a=r:a=this._injector.get(Nu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=yP(a)?void 0:this._injector.get(fr),u=i||a.selector,l=a.create(nn.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(JI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),hf(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;hf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Bu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>hf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new N(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var e0=new x("",{providedIn:"root",factory:()=>T(qn).handleError.bind(void 0)});function CP(){let t=T(ge),e=T(qn);return n=>t.runOutsideAngular(()=>e.handleError(n))}var DP=(()=>{let e=class e{constructor(){this.zone=T(ge),this.applicationRef=T(hs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bP(t){return[{provide:ge,useFactory:t},{provide:No,multi:!0,useFactory:()=>{let e=T(DP,{optional:!0});return()=>e.initialize()}},{provide:e0,useFactory:CP},{provide:FI,useFactory:VI}]}function TP(t){let e=bP(()=>new ge(EP(t)));return as([[],e])}function Vo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var qp=null;function Zn(){return qp}function s0(t){qp||(qp=t)}var Qu=class{},wt=new x("DocumentToken"),o0=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>T(xP))(),providedIn:"platform"});let t=e;return t})();var xP=(()=>{let e=class e extends o0{constructor(){super(),this._doc=T(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(r){let i=Zn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Zn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function a0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function t0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function si(t){return t&&t[0]!=="?"?"?"+t:t}var Ju=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>T(c0))(),providedIn:"root"});let t=e;return t})(),MP=new x("appBaseHref"),c0=(()=>{let e=class e extends Ju{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??T(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return a0(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+si(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+si(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+si(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(P(o0),P(MP,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jo=(()=>{let e=class e{constructor(r){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=PP(t0(n0(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+si(i))}normalize(r){return e.stripTrailingSlash(NP(this._basePath,n0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+si(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+si(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=si,e.joinWithSlash=a0,e.stripTrailingSlash=t0,e.\u0275fac=function(i){return new(i||e)(P(Ju))},e.\u0275prov=R({token:e,factory:()=>RP(),providedIn:"root"});let t=e;return t})();function RP(){return new jo(P(Ju))}function NP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function n0(t){return t.replace(/\/index.html$/,"")}function PP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var _t=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(_t||{}),ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ve||{}),Nt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Nt||{}),Yn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Yn||{});function OP(t){return $t(t)[Le.LocaleId]}function kP(t,e,n){let r=$t(t),i=[r[Le.DayPeriodsFormat],r[Le.DayPeriodsStandalone]],s=Ht(i,e);return Ht(s,n)}function FP(t,e,n){let r=$t(t),i=[r[Le.DaysFormat],r[Le.DaysStandalone]],s=Ht(i,e);return Ht(s,n)}function VP(t,e,n){let r=$t(t),i=[r[Le.MonthsFormat],r[Le.MonthsStandalone]],s=Ht(i,e);return Ht(s,n)}function LP(t,e){let r=$t(t)[Le.Eras];return Ht(r,e)}function $u(t,e){let n=$t(t);return Ht(n[Le.DateFormat],e)}function Hu(t,e){let n=$t(t);return Ht(n[Le.TimeFormat],e)}function qu(t,e){let r=$t(t)[Le.DateTimeFormat];return Ht(r,e)}function Zu(t,e){let n=$t(t),r=n[Le.NumberSymbols][e];if(typeof r>"u"){if(e===Yn.CurrencyDecimal)return n[Le.NumberSymbols][Yn.Decimal];if(e===Yn.CurrencyGroup)return n[Le.NumberSymbols][Yn.Group]}return r}function u0(t){if(!t[Le.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Le.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jP(t){let e=$t(t);return u0(e),(e[Le.ExtraData][2]||[]).map(r=>typeof r=="string"?Bp(r):[Bp(r[0]),Bp(r[1])])}function UP(t,e,n){let r=$t(t);u0(r);let i=[r[Le.ExtraData][0],r[Le.ExtraData][1]],s=Ht(i,e)||[];return Ht(s,n)||[]}function Ht(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Bp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var BP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Lo={},$P=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Jn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Jn||{}),ce=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ce||{}),ae=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ae||{});function HP(t,e,n,r){let i=ZP(t);e=Qn(n,e)||e;let o=[],a;for(;e;)if(a=$P.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=d0(r,c),i=JP(i,r,!0));let u="";return o.forEach(l=>{let d=QP(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Yu(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Qn(t,e){let n=OP(t);if(Lo[n]=Lo[n]||{},Lo[n][e])return Lo[n][e];let r="";switch(e){case"shortDate":r=$u(t,Nt.Short);break;case"mediumDate":r=$u(t,Nt.Medium);break;case"longDate":r=$u(t,Nt.Long);break;case"fullDate":r=$u(t,Nt.Full);break;case"shortTime":r=Hu(t,Nt.Short);break;case"mediumTime":r=Hu(t,Nt.Medium);break;case"longTime":r=Hu(t,Nt.Long);break;case"fullTime":r=Hu(t,Nt.Full);break;case"short":let i=Qn(t,"shortTime"),s=Qn(t,"shortDate");r=zu(qu(t,Nt.Short),[i,s]);break;case"medium":let o=Qn(t,"mediumTime"),a=Qn(t,"mediumDate");r=zu(qu(t,Nt.Medium),[o,a]);break;case"long":let c=Qn(t,"longTime"),u=Qn(t,"longDate");r=zu(qu(t,Nt.Long),[c,u]);break;case"full":let l=Qn(t,"fullTime"),d=Qn(t,"fullDate");r=zu(qu(t,Nt.Full),[l,d]);break}return r&&(Lo[n][e]=r),r}function zu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function cn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function qP(t,e){return cn(t,3).substring(0,e)}function Be(t,e,n=0,r=!1,i=!1){return function(s,o){let a=zP(t,s);if((n>0||a>-n)&&(a+=n),t===ce.Hours)a===0&&n===-12&&(a=12);else if(t===ce.FractionalSeconds)return qP(a,e);let c=Zu(o,Yn.MinusSign);return cn(a,e,c,r,i)}}function zP(t,e){switch(t){case ce.FullYear:return e.getFullYear();case ce.Month:return e.getMonth();case ce.Date:return e.getDate();case ce.Hours:return e.getHours();case ce.Minutes:return e.getMinutes();case ce.Seconds:return e.getSeconds();case ce.FractionalSeconds:return e.getMilliseconds();case ce.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ie(t,e,n=_t.Format,r=!1){return function(i,s){return GP(i,s,t,e,n,r)}}function GP(t,e,n,r,i,s){switch(n){case ae.Months:return VP(e,i,r)[t.getMonth()];case ae.Days:return FP(e,i,r)[t.getDay()];case ae.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=jP(e),l=UP(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,_]=h,I=o>=f.hours&&a>=f.minutes,v=o<_.hours||o===_.hours&&a<_.minutes;if(f.hours<_.hours){if(I&&v)return!0}else if(I||v)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return kP(e,i,r)[o<12?0:1];case ae.Eras:return LP(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Gu(t){return function(e,n,r){let i=-1*r,s=Zu(n,Yn.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Jn.Short:return(i>=0?"+":"")+cn(o,2,s)+cn(Math.abs(i%60),2,s);case Jn.ShortGMT:return"GMT"+(i>=0?"+":"")+cn(o,1,s);case Jn.Long:return"GMT"+(i>=0?"+":"")+cn(o,2,s)+":"+cn(Math.abs(i%60),2,s);case Jn.Extended:return r===0?"Z":(i>=0?"+":"")+cn(o,2,s)+":"+cn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var WP=0,Ku=4;function KP(t){let e=Yu(t,WP,1).getDay();return Yu(t,0,1+(e<=Ku?Ku:Ku+7)-e)}function l0(t){return Yu(t.getFullYear(),t.getMonth(),t.getDate()+(Ku-t.getDay()))}function $p(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=l0(n),o=KP(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return cn(i,t,Zu(r,Yn.MinusSign))}}function Wu(t,e=!1){return function(n,r){let s=l0(n).getFullYear();return cn(s,t,Zu(r,Yn.MinusSign),e)}}var Hp={};function QP(t){if(Hp[t])return Hp[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ie(ae.Eras,ve.Abbreviated);break;case"GGGG":e=Ie(ae.Eras,ve.Wide);break;case"GGGGG":e=Ie(ae.Eras,ve.Narrow);break;case"y":e=Be(ce.FullYear,1,0,!1,!0);break;case"yy":e=Be(ce.FullYear,2,0,!0,!0);break;case"yyy":e=Be(ce.FullYear,3,0,!1,!0);break;case"yyyy":e=Be(ce.FullYear,4,0,!1,!0);break;case"Y":e=Wu(1);break;case"YY":e=Wu(2,!0);break;case"YYY":e=Wu(3);break;case"YYYY":e=Wu(4);break;case"M":case"L":e=Be(ce.Month,1,1);break;case"MM":case"LL":e=Be(ce.Month,2,1);break;case"MMM":e=Ie(ae.Months,ve.Abbreviated);break;case"MMMM":e=Ie(ae.Months,ve.Wide);break;case"MMMMM":e=Ie(ae.Months,ve.Narrow);break;case"LLL":e=Ie(ae.Months,ve.Abbreviated,_t.Standalone);break;case"LLLL":e=Ie(ae.Months,ve.Wide,_t.Standalone);break;case"LLLLL":e=Ie(ae.Months,ve.Narrow,_t.Standalone);break;case"w":e=$p(1);break;case"ww":e=$p(2);break;case"W":e=$p(1,!0);break;case"d":e=Be(ce.Date,1);break;case"dd":e=Be(ce.Date,2);break;case"c":case"cc":e=Be(ce.Day,1);break;case"ccc":e=Ie(ae.Days,ve.Abbreviated,_t.Standalone);break;case"cccc":e=Ie(ae.Days,ve.Wide,_t.Standalone);break;case"ccccc":e=Ie(ae.Days,ve.Narrow,_t.Standalone);break;case"cccccc":e=Ie(ae.Days,ve.Short,_t.Standalone);break;case"E":case"EE":case"EEE":e=Ie(ae.Days,ve.Abbreviated);break;case"EEEE":e=Ie(ae.Days,ve.Wide);break;case"EEEEE":e=Ie(ae.Days,ve.Narrow);break;case"EEEEEE":e=Ie(ae.Days,ve.Short);break;case"a":case"aa":case"aaa":e=Ie(ae.DayPeriods,ve.Abbreviated);break;case"aaaa":e=Ie(ae.DayPeriods,ve.Wide);break;case"aaaaa":e=Ie(ae.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":e=Ie(ae.DayPeriods,ve.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=Ie(ae.DayPeriods,ve.Wide,_t.Standalone,!0);break;case"bbbbb":e=Ie(ae.DayPeriods,ve.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ie(ae.DayPeriods,ve.Abbreviated,_t.Format,!0);break;case"BBBB":e=Ie(ae.DayPeriods,ve.Wide,_t.Format,!0);break;case"BBBBB":e=Ie(ae.DayPeriods,ve.Narrow,_t.Format,!0);break;case"h":e=Be(ce.Hours,1,-12);break;case"hh":e=Be(ce.Hours,2,-12);break;case"H":e=Be(ce.Hours,1);break;case"HH":e=Be(ce.Hours,2);break;case"m":e=Be(ce.Minutes,1);break;case"mm":e=Be(ce.Minutes,2);break;case"s":e=Be(ce.Seconds,1);break;case"ss":e=Be(ce.Seconds,2);break;case"S":e=Be(ce.FractionalSeconds,1);break;case"SS":e=Be(ce.FractionalSeconds,2);break;case"SSS":e=Be(ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Gu(Jn.Short);break;case"ZZZZZ":e=Gu(Jn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Gu(Jn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Gu(Jn.Long);break;default:return null}return Hp[t]=e,e}function d0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function YP(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function JP(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=d0(e,i);return YP(t,r*(s-i))}function ZP(t){if(r0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Yu(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(BP))return XP(r)}let e=new Date(t);if(!r0(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function XP(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function r0(t){return t instanceof Date&&!isNaN(t.valueOf())}function Xu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var el=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new zp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){i0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){i0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(ni),Y(ss))},e.\u0275dir=it({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),zp=class{constructor(){this.$implicit=null,this.ngIf=null}};function i0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ut(e)}'.`)}function h0(t,e){return new N(2100,!1)}var Gp=class{createSubscription(e,n){return Rp(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Rp(()=>e.unsubscribe())}},Wp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},e1=new Wp,t1=new Gp,f0=(()=>{let e=class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(gr(r))return e1;if(Vp(r))return t1;throw h0(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(Y(ti,16))},e.\u0275pipe=op({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var n1="mediumDate",r1=new x("DATE_PIPE_DEFAULT_TIMEZONE"),i1=new x("DATE_PIPE_DEFAULT_OPTIONS"),_r=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??n1,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return HP(r,a,o||this.locale,c)}catch(a){throw h0(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(Y(Uu,16),Y(r1,24),Y(i1,24))},e.\u0275pipe=op({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Uo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({});let t=e;return t})(),p0="browser",s1="server";function Kp(t){return t===s1}var fs=class{};var $o=class{},nl=class{},oi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Yp=class{encodeKey(e){return m0(e)}encodeValue(e){return m0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function u1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var l1=/%(\d[a-f0-9])/gi,d1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m0(t){return encodeURIComponent(t).replace(l1,(e,n)=>d1[n]??e)}function tl(t){return`${t}`}var wr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=u1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(tl):[tl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(tl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Jp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function h1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function g0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function y0(t){return typeof Blob<"u"&&t instanceof Blob}function v0(t){return typeof FormData<"u"&&t instanceof FormData}function f1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Bo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(h1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new oi),this.context||(this.context=new Jp),!this.params)this.params=new wr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:g0(this.body)||y0(this.body)||v0(this.body)||f1(this.body)||typeof this.body=="string"?this.body:this.body instanceof wr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||v0(this.body)?null:y0(this.body)?this.body.type||null:g0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof wr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}},ps=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ps||{}),Ho=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new oi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Zp=class t extends Ho{constructor(e={}){super(e),this.type=ps.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rl=class t extends Ho{constructor(e={}){super(e),this.type=ps.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},il=class extends Ho{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Qp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Xp=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Bo)o=r;else{let u;s.headers instanceof oi?u=s.headers:u=new oi(s.headers);let l;s.params&&(s.params instanceof wr?l=s.params:l=new wr({fromObject:s.params})),o=new Bo(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=k(o).pipe(ar(u=>this.handler.handle(u)));if(r instanceof Bo||s.observe==="events")return a;let c=a.pipe(bt(u=>u instanceof rl));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(H(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(H(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(H(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(H(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new wr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Qp(s,i))}post(r,i,s={}){return this.request("POST",r,Qp(s,i))}put(r,i,s={}){return this.request("PUT",r,Qp(s,i))}};e.\u0275fac=function(i){return new(i||e)(P($o))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function I0(t,e){return e(t)}function p1(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function m1(t,e,n){return(r,i)=>Kn(n,()=>e(r,s=>t(s,i)))}var g1=new x(""),em=new x(""),y1=new x(""),v1=new x("");function _1(){let t=null;return(e,n)=>{t===null&&(t=(T(g1,{optional:!0})??[]).reduceRight(p1,I0));let r=T(ds),i=r.add();return t(e,n).pipe(ur(()=>r.remove(i)))}}var _0=(()=>{let e=class e extends $o{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=T(ds);let s=T(v1,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(em),...this.injector.get(y1,[])]));this.chain=s.reduceRight((o,a)=>m1(o,a,this.injector),I0)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(ur(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(P(nl),P(At))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();var w1=/^\)\]\}',?\n/;function E1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var w0=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new N(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?_e(i.\u0275loadImpl()):k(null)).pipe(yt(()=>new K(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((v,C)=>a.setRequestHeader(v,C.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let v=r.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(r.responseType){let v=r.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let v=a.statusText||"OK",C=new oi(a.getAllResponseHeaders()),L=E1(a)||r.url;return u=new Zp({headers:C,status:a.status,statusText:v,url:L}),u},d=()=>{let{headers:v,status:C,statusText:L,url:J}=l(),W=null;C!==204&&(W=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=W?200:0);let ke=C>=200&&C<300;if(r.responseType==="json"&&typeof W=="string"){let oe=W;W=W.replace(w1,"");try{W=W!==""?JSON.parse(W):null}catch(Qe){W=oe,ke&&(ke=!1,W={error:Qe,text:W})}}ke?(o.next(new rl({body:W,headers:v,status:C,statusText:L,url:J||void 0})),o.complete()):o.error(new il({error:W,headers:v,status:C,statusText:L,url:J||void 0}))},h=v=>{let{url:C}=l(),L=new il({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(L)},f=!1,_=v=>{f||(o.next(l()),f=!0);let C={type:ps.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),r.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},I=v=>{let C={type:ps.UploadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),o.next(C)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",_),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),o.next({type:ps.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",_),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(P(fs))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),C0=new x("XSRF_ENABLED"),I1="XSRF-TOKEN",C1=new x("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>I1}),D1="X-XSRF-TOKEN",b1=new x("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>D1}),sl=class{},T1=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xu(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(P(wt),P(Cn),P(C1))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function S1(t,e){let n=t.url.toLowerCase();if(!T(C0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=T(sl).getToken(),i=T(b1);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var D0=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(D0||{});function A1(t,e){return{\u0275kind:t,\u0275providers:e}}function x1(...t){let e=[Xp,w0,_0,{provide:$o,useExisting:_0},{provide:nl,useExisting:w0},{provide:em,useValue:S1,multi:!0},{provide:C0,useValue:!0},{provide:sl,useClass:T1}];for(let n of t)e.push(...n.\u0275providers);return as(e)}var E0=new x("LEGACY_INTERCEPTOR_FN");function M1(){return A1(D0.LegacyInterceptors,[{provide:E0,useFactory:_1},{provide:em,useExisting:E0,multi:!0}])}var b0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({providers:[x1(M1())]});let t=e;return t})();var rm=class extends Qu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},im=class t extends rm{static makeCurrent(){s0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=R1();return n==null?null:N1(n)}resetBaseElement(){qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xu(document.cookie,e)}},qo=null;function R1(){return qo=qo||document.querySelector("base"),qo?qo.getAttribute("href"):null}function N1(t){return new URL(t,"http://a").pathname}var P1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),sm=new x("EventManagerPlugins"),x0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new N(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(P(sm),P(ge))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),ol=class{constructor(e){this._doc=e}},tm="ng-app-id",M0=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${tm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(tm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(tm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(P(wt),P(wp),P(Ip,8),P(Cn))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},am=/%COMP%/g,R0="%COMP%",O1=`_nghost-${R0}`,k1=`_ngcontent-${R0}`,F1=!0,V1=new x("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>F1});function L1(t){return k1.replace(am,t)}function j1(t){return O1.replace(am,t)}function N0(t,e){return e.map(n=>n.replace(am,t))}var T0=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Kp(c),this.defaultRenderer=new zo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===wn.ShadowDom&&(i=me(S({},i),{encapsulation:wn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof al?s.applyToHost(r):s instanceof Go&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case wn.Emulated:o=new al(u,l,i,this.appId,d,a,c,h);break;case wn.ShadowDom:return new om(u,l,r,i,a,c,this.nonce,h);default:o=new Go(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(P(x0),P(M0),P(wp),P(V1),P(wt),P(Cn),P(ge),P(Ip))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),zo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(nm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(S0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(S0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new N(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=nm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=nm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($n.DashCase|$n.Important)?e.style.setProperty(n,r,i&$n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Zn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function S0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var om=class extends zo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=N0(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Go=class extends zo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?N0(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},al=class extends Go{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=L1(u),this.hostAttr=j1(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},U1=(()=>{let e=class e extends ol{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(P(wt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),A0=["alt","control","meta","shift"],B1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},H1=(()=>{let e=class e extends ol{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),A0.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=B1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),A0.forEach(a=>{if(a!==s){let c=$1[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(P(wt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function P0(t,e){return XI(S({rootComponent:t},q1(e)))}function q1(t){return{appProviders:[...Q1,...t?.providers??[]],platformProviders:K1}}function z1(){im.makeCurrent()}function G1(){return new qn}function W1(){return eI(document),document}var K1=[{provide:Cn,useValue:p0},{provide:Ep,useValue:z1,multi:!0},{provide:wt,useFactory:W1,deps:[]}];var Q1=[{provide:Mu,useValue:"root"},{provide:qn,useFactory:G1,deps:[]},{provide:sm,useClass:U1,multi:!0,deps:[wt,ge,Cn]},{provide:sm,useClass:H1,multi:!0,deps:[wt]},T0,M0,x0,{provide:Eo,useExisting:T0},{provide:fs,useClass:P1,deps:[]},[]];function Y1(){return new cm(P(wt))}var cm=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(P(wt))},e.\u0275prov=R({token:e,factory:function(i){let s=null;return i?s=new i:s=Y1(),s},providedIn:"root"});let t=e;return t})();var Q="primary",aa=Symbol("RouteTitle"),fm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new fm(t)}function Z1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function X1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Dn(t[n],e[n]))return!1;return!0}function Dn(t,e){let n=t?pm(t):void 0,r=e?pm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!U0(t[i],e[i]))return!1;return!0}function pm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function U0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function B0(t){return t.length>0?t[t.length-1]:null}function Cr(t){return $h(t)?t:gr(t)?_e(Promise.resolve(t)):k(t)}var eO={exact:H0,subset:q0},$0={exact:tO,subset:nO,ignored:()=>!0};function O0(t,e,n){return eO[n.paths](t.root,e.root,n.matrixParams)&&$0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function tO(t,e){return Dn(t,e)}function H0(t,e,n){if(!ci(t.segments,e.segments)||!ll(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!H0(t.children[r],e.children[r],n))return!1;return!0}function nO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>U0(t[n],e[n]))}function q0(t,e,n){return z0(t,e,e.segments,n)}function z0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ci(i,n)||e.hasChildren()||!ll(i,n,r))}else if(t.segments.length===n.length){if(!ci(t.segments,n)||!ll(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!q0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ci(t.segments,i)||!ll(t.segments,i,r)||!t.children[Q]?!1:z0(t.children[Q],e,s,r)}}function ll(t,e,n){return e.every((r,i)=>$0[n](t[i].parameters,r.parameters))}var Er=class{constructor(e=new he([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_s(this.queryParams)),this._queryParamMap}toString(){return sO.serialize(this)}},he=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dl(this)}},ai=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=_s(this.parameters)),this._parameterMap}toString(){return W0(this)}};function rO(t,e){return ci(t,e)&&t.every((n,r)=>Dn(n.parameters,e[r].parameters))}function ci(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function iO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Q&&(n=n.concat(e(i,r)))}),n}var jm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>new fl)(),providedIn:"root"});let t=e;return t})(),fl=class{parse(e){let n=new gm(e);return new Er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Wo(e.root,!0)}`,r=cO(e.queryParams),i=typeof e.fragment=="string"?`#${oO(e.fragment)}`:"";return`${n}${r}${i}`}},sO=new fl;function dl(t){return t.segments.map(e=>W0(e)).join("/")}function Wo(t,e){if(!t.hasChildren())return dl(t);if(e){let n=t.children[Q]?Wo(t.children[Q],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Q&&r.push(`${i}:${Wo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=iO(t,(r,i)=>i===Q?[Wo(t.children[Q],!1)]:[`${i}:${Wo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Q]!=null?`${dl(t)}/${n[0]}`:`${dl(t)}/(${n.join("//")})`}}function G0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cl(t){return G0(t).replace(/%3B/gi,";")}function oO(t){return encodeURI(t)}function mm(t){return G0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(t){return decodeURIComponent(t)}function k0(t){return hl(t.replace(/\+/g,"%20"))}function W0(t){return`${mm(t.path)}${aO(t.parameters)}`}function aO(t){return Object.keys(t).map(e=>`;${mm(e)}=${mm(t[e])}`).join("")}function cO(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${cl(n)}=${cl(i)}`).join("&"):`${cl(n)}=${cl(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var uO=/^[^\/()?;#]+/;function um(t){let e=t.match(uO);return e?e[0]:""}var lO=/^[^\/()?;=#]+/;function dO(t){let e=t.match(lO);return e?e[0]:""}var hO=/^[^=?&#]+/;function fO(t){let e=t.match(hO);return e?e[0]:""}var pO=/^[^&#]+/;function mO(t){let e=t.match(pO);return e?e[0]:""}var gm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Q]=new he(e,n)),r}parseSegment(){let e=um(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new ai(hl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=dO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=um(this.remaining);i&&(r=i,this.capture(r))}e[hl(n)]=hl(r)}parseQueryParam(e){let n=fO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=mO(this.remaining);o&&(r=o,this.capture(r))}let i=k0(n),s=k0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=um(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new N(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Q);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Q]:new he([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}};function K0(t){return t.segments.length>0?new he([],{[Q]:t}):t}function Q0(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=Q0(i);if(r===Q&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new he(t.segments,e);return gO(n)}function gO(t){if(t.numberOfChildren===1&&t.children[Q]){let e=t.children[Q];return new he(t.segments.concat(e.segments),e.children)}return t}function ws(t){return t instanceof Er}function yO(t,e,n=null,r=null){let i=Y0(t);return J0(i,e,n,r)}function Y0(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new he(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=K0(r);return e??i}function J0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return lm(i,i,i,n,r);let s=vO(e);if(s.toRoot())return lm(i,i,new he([],{}),n,r);let o=_O(s,i,t),a=o.processChildren?Yo(o.segmentGroup,o.index,s.commands):X0(o.segmentGroup,o.index,s.commands);return lm(i,o.segmentGroup,a,n,r)}function pl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xo(t){return typeof t=="object"&&t!=null&&t.outlets}function lm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Z0(t,e,n);let a=K0(Q0(o));return new Er(a,s,i)}function Z0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Z0(s,e,n)}),new he(t.segments,r)}var ml=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pl(r[0]))throw new N(4003,!1);let i=r.find(Xo);if(i&&i!==B0(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ml(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ml(n,e,r)}var ys=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function _O(t,e,n){if(t.isAbsolute)return new ys(e,!0,0);if(!n)return new ys(e,!1,NaN);if(n.parent===null)return new ys(n,!0,0);let r=pl(t.commands[0])?0:1,i=n.segments.length-1+r;return wO(n,i,t.numberOfDoubleDots)}function wO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new ys(r,!1,i-s)}function EO(t){return Xo(t[0])?t[0].outlets:{[Q]:t}}function X0(t,e,n){if(t||(t=new he([],{})),t.segments.length===0&&t.hasChildren())return Yo(t,e,n);let r=IO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new he(t.segments.slice(0,r.pathIndex),{});return s.children[Q]=new he(t.segments.slice(r.pathIndex),t.children),Yo(s,0,i)}else return r.match&&i.length===0?new he(t.segments,{}):r.match&&!t.hasChildren()?ym(t,e,n):r.match?Yo(t,0,i):ym(t,e,n)}function Yo(t,e,n){if(n.length===0)return new he(t.segments,{});{let r=EO(n),i={};if(Object.keys(r).some(s=>s!==Q)&&t.children[Q]&&t.numberOfChildren===1&&t.children[Q].segments.length===0){let s=Yo(t.children[Q],e,n);return new he(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=X0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new he(t.segments,i)}}function IO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Xo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!V0(c,u,o))return s;r+=2}else{if(!V0(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ym(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Xo(s)){let c=CO(s.outlets);return new he(r,c)}if(i===0&&pl(n[0])){let c=t.segments[e];r.push(new ai(c.path,F0(n[0]))),i++;continue}let o=Xo(s)?s.outlets[Q]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&pl(a)?(r.push(new ai(o,F0(a))),i+=2):(r.push(new ai(o,{})),i++)}return new he(r,{})}function CO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ym(new he([],{}),0,r))}),e}function F0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function V0(t,e,n){return t==n.path&&Dn(e,n.parameters)}var Jo="imperative",qt=class{constructor(e,n){this.id=e,this.url=n}},ea=class extends qt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ui=class extends qt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ir=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},li=class extends qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},ta=class extends qt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gl=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vm=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class extends qt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wm=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class extends qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Im=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cm=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dm=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bm=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tm=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sm=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var na=class{},ra=class{constructor(e){this.url=e}};var Am=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Il,this.attachRef=null}},Il=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Am,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Mm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mm(e,this._root).map(n=>n.value)}};function xm(t,e){if(t===e.value)return e;for(let n of e.children){let r=xm(t,n);if(r)return r}return null}function Mm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Mm(t,n);if(r.length)return r.unshift(e),r}return[]}var Pt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var vl=class extends yl{constructor(e,n){super(e),this.snapshot=n,Bm(this,e)}toString(){return this.snapshot.toString()}};function eC(t,e){let n=DO(t,e),r=new Me([new ai("",{})]),i=new Me({}),s=new Me({}),o=new Me({}),a=new Me(""),c=new Es(r,i,o,a,s,Q,e,n.root);return c.snapshot=n.root,new vl(new Pt(c,[]),n)}function DO(t,e){let n={},r={},i={},s="",o=new ia([],n,i,s,r,Q,e,null,{});return new _l("",new Pt(o,[]))}var Es=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(u=>u[aa]))??k(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(e=>_s(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(e=>_s(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Um(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:S(S({},t.data),t._resolvedData??{})},i&&nC(i)&&(r.resolve[aa]=i.title),r}var ia=class{get title(){return this.data?.[aa]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_s(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_s(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_l=class extends yl{constructor(e,n){super(n),this.url=e,Bm(this,n)}toString(){return tC(this._root)}};function Bm(t,e){e.value._routerState=t,e.children.forEach(n=>Bm(t,n))}function tC(t){let e=t.children.length>0?` { ${t.children.map(tC).join(", ")} } `:"";return`${t.value}${e}`}function dm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Dn(e.params,n.params)||t.paramsSubject.next(n.params),X1(e.url,n.url)||t.urlSubject.next(n.url),Dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rm(t,e){let n=Dn(t.params,e.params)&&rO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Rm(t.parent,e.parent))}function nC(t){return typeof t.title=="string"||t.title===null}var $m=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=T(Il),this.location=T(ni),this.changeDetector=T(ti),this.environmentInjector=T(At),this.inputBinder=T(Hm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Nm(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zr]});let t=e;return t})(),Nm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Es?this.route:e===Il?this.childContexts:this.parent.get(e,n)}},Hm=new x("");function bO(t,e,n){let r=sa(t,e._root,n?n._root:void 0);return new vl(r,e)}function sa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=TO(t,e,n);return new Pt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sa(t,a)),o}}let r=SO(e.value),i=e.children.map(s=>sa(t,s));return new Pt(r,i)}}function TO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sa(t,r,i);return sa(t,r)})}function SO(t){return new Es(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var rC="ngNavigationCancelingError";function iC(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ws(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sC(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function sC(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[rC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function AO(t){return oC(t)&&ws(t.url)}function oC(t){return t&&t[rC]}var xO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=we({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ee],decls:1,vars:0,template:function(i,s){i&1&&se(0,"router-outlet")},dependencies:[$m],encapsulation:2});let t=e;return t})();function MO(t,e){return t.providers&&!t._injector&&(t._injector=Lp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qm(t){let e=t.children&&t.children.map(qm),n=e?me(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=xO),n}function bn(t){return t.outlet||Q}function RO(t,e){let n=t.filter(r=>bn(r)===e);return n.push(...t.filter(r=>bn(r)!==e)),n}function ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var NO=(t,e,n,r)=>H(i=>(new Pm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Pm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),dm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Sm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(dm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ca(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},wl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{constructor(e,n){this.component=e,this.route=n}};function PO(t,e,n){let r=t._root,i=e?e._root:null;return Ko(r,i,n,[r.value])}function OO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Cs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Xw(t)?t:e.get(t):r}function Ko(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=gs(e);return t.children.forEach(o=>{kO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Zo(a,n.getContext(o),i)),i}function kO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=FO(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new wl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ko(t,e,a?a.children:null,r,i):Ko(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,o))}else o&&Zo(e,a,i),i.canActivateChecks.push(new wl(r)),s.component?Ko(t,null,a?a.children:null,r,i):Ko(t,null,n,r,i);return i}function FO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ci(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ci(t.url,e.url)||!Dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rm(t,e)||!Dn(t.queryParams,e.queryParams);case"paramsChange":default:return!Rm(t,e)}}function Zo(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Zo(o,e.children.getContext(s),n):Zo(o,null,n):Zo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function ua(t){return typeof t=="function"}function VO(t){return typeof t=="boolean"}function LO(t){return t&&ua(t.canLoad)}function jO(t){return t&&ua(t.canActivate)}function UO(t){return t&&ua(t.canActivateChild)}function BO(t){return t&&ua(t.canDeactivate)}function $O(t){return t&&ua(t.canMatch)}function aC(t){return t instanceof Yt||t?.name==="EmptyError"}var ul=Symbol("INITIAL_VALUE");function Is(){return yt(t=>$c(t.map(e=>e.pipe(Ft(1),Kc(ul)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===ul)return ul;if(n===!1||n instanceof Er)return n}return!0}),bt(e=>e!==ul),Ft(1)))}function HO(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?k(me(S({},n),{guardsResult:!0})):qO(o,r,i,t).pipe(Ge(a=>a&&VO(a)?zO(r,s,t,e):k(a)),H(a=>me(S({},n),{guardsResult:a})))})}function qO(t,e,n,r){return _e(t).pipe(Ge(i=>YO(i.component,i.route,n,e,r)),gn(i=>i!==!0,!0))}function zO(t,e,n,r){return _e(e).pipe(ar(i=>Wi(WO(i.route.parent,r),GO(i.route,r),QO(t,i.path,n),KO(t,i.route,n))),gn(i=>i!==!0,!0))}function GO(t,e){return t!==null&&e&&e(new Tm(t)),k(!0)}function WO(t,e){return t!==null&&e&&e(new Dm(t)),k(!0)}function KO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(s=>Hc(()=>{let o=ca(e)??n,a=Cs(s,o),c=jO(a)?a.canActivate(e,t):Kn(o,()=>a(e,t));return Cr(c).pipe(gn())}));return k(i).pipe(Is())}function QO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>OO(o)).filter(o=>o!==null).map(o=>Hc(()=>{let a=o.guards.map(c=>{let u=ca(o.node)??n,l=Cs(c,u),d=UO(l)?l.canActivateChild(r,t):Kn(u,()=>l(r,t));return Cr(d).pipe(gn())});return k(a).pipe(Is())}));return k(s).pipe(Is())}function YO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return k(!0);let o=s.map(a=>{let c=ca(e)??i,u=Cs(a,c),l=BO(u)?u.canDeactivate(t,e,n,r):Kn(c,()=>u(t,e,n,r));return Cr(l).pipe(gn())});return k(o).pipe(Is())}function JO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let s=i.map(o=>{let a=Cs(o,t),c=LO(a)?a.canLoad(e,n):Kn(t,()=>a(e,n));return Cr(c)});return k(s).pipe(Is(),cC(r))}function cC(t){return Cc(Fe(e=>{if(ws(e))throw iC(t,e)}),H(e=>e===!0))}function ZO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return k(!0);let s=i.map(o=>{let a=Cs(o,t),c=$O(a)?a.canMatch(e,n):Kn(t,()=>a(e,n));return Cr(c)});return k(s).pipe(Is(),cC(r))}var oa=class{constructor(e){this.segmentGroup=e||null}},El=class extends Error{constructor(e){super(),this.urlTree=e}};function ms(t){return Gi(new oa(t))}function XO(t){return Gi(new N(4e3,!1))}function ek(t){return Gi(sC(!1,3))}var Om=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new N(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[Q])return XO(e.redirectTo);i=i.children[Q]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new El(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Er(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new he(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},km={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tk(t,e,n,r,i){let s=zm(t,e,n);return s.matched?(r=MO(e,r),ZO(r,e,n,i).pipe(H(o=>o===!0?s:S({},km)))):k(s)}function zm(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},km):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Z1)(n,t,e);if(!i)return S({},km);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function L0(t,e,n,r){return n.length>0&&ik(t,n,r)?{segmentGroup:new he(e,rk(r,new he(n,t.children))),slicedSegments:[]}:n.length===0&&sk(t,n,r)?{segmentGroup:new he(t.segments,nk(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new he(t.segments,t.children),slicedSegments:n}}function nk(t,e,n,r,i){let s={};for(let o of r)if(Cl(t,n,o)&&!i[bn(o)]){let a=new he([],{});s[bn(o)]=a}return S(S({},i),s)}function rk(t,e){let n={};n[Q]=e;for(let r of t)if(r.path===""&&bn(r)!==Q){let i=new he([],{});n[bn(r)]=i}return n}function ik(t,e,n){return n.some(r=>Cl(t,e,r)&&bn(r)!==Q)}function sk(t,e,n){return n.some(r=>Cl(t,e,r))}function Cl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ok(t,e,n,r){return bn(t)!==r&&(r===Q||!Cl(e,n,t))?!1:t.path==="**"?!0:zm(e,t,n).matched}function ak(t,e,n){return e.length===0&&!t.children[n]}var Fm=class{};function ck(t,e,n,r,i,s,o="emptyOnly"){return new Vm(t,e,n,r,i,o,s).recognize()}var uk=31,Vm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Om(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new N(4002,!1)}recognize(){let e=L0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(n=>{let r=new ia([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},Q,this.rootComponentType,null,{}),i=new Pt(r,n),s=new _l("",i),o=yO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Q).pipe(or(r=>{if(r instanceof El)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Um(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(H(s=>s instanceof Pt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return _e(i).pipe(ar(s=>{let o=r.children[s],a=RO(n,s);return this.processSegmentGroup(e,a,o,s)}),Gc((s,o)=>(s.push(...o),s)),cr(null),Gh(),Ge(s=>{if(s===null)return ms(r);let o=uC(s);return lk(o),k(o)}))}processSegment(e,n,r,i,s,o){return _e(n).pipe(ar(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(or(c=>{if(c instanceof oa)return k(null);throw c}))),gn(a=>!!a),or(a=>{if(aC(a))return ak(r,i,s)?k(new Fm):ms(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return ok(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ms(i):ms(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=i.path==="**"?j0(s):zm(n,i,s);if(!a)return ms(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uk&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ge(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=k(j0(i)),n.children={}):o=tk(n,r,i,e,this.urlSerializer),o.pipe(yt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new ia(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,hk(r),bn(r),r.component??r._loadedComponent??null,r,fk(r)),{segmentGroup:_,slicedSegments:I}=L0(n,l,d,c);if(I.length===0&&_.hasChildren())return this.processChildren(u,c,_).pipe(H(C=>C===null?null:new Pt(f,C)));if(c.length===0&&I.length===0)return k(new Pt(f,[]));let v=bn(r)===s;return this.processSegment(u,c,_,I,v?Q:s,!0).pipe(H(C=>new Pt(f,C instanceof Pt?[C]:[])))}))):ms(n)))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):JO(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):ek(n))):k({routes:[],injector:e})}};function lk(t){t.sort((e,n)=>e.value.outlet===Q?-1:n.value.outlet===Q?1:e.value.outlet.localeCompare(n.value.outlet))}function dk(t){let e=t.value.routeConfig;return e&&e.path===""}function uC(t){let e=[],n=new Set;for(let r of t){if(!dk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=uC(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!n.has(r))}function hk(t){return t.data||{}}function fk(t){return t.resolve||{}}function j0(t){return{matched:!0,parameters:t.length>0?B0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function pk(t,e,n,r,i,s){return Ge(o=>ck(t,e,n,r,o.extractedUrl,i,s).pipe(H(({state:a,tree:c})=>me(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function mk(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of lC(c))o.add(u);let a=0;return _e(o).pipe(ar(c=>s.has(c)?gk(c,r,t,e):(c.data=Um(c,c.parent,t).resolve,k(void 0))),Fe(()=>a++),Ki(1),Ge(c=>a===o.size?k(n):Ct))})}function lC(t){let e=t.children.map(n=>lC(n)).flat();return[t,...e]}function gk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!nC(i)&&(s[aa]=i.title),yk(s,t,e,r).pipe(H(o=>(t._resolvedData=o,t.data=Um(t,t.parent,n).resolve,null)))}function yk(t,e,n,r){let i=pm(t);if(i.length===0)return k({});let s={};return _e(i).pipe(Ge(o=>vk(t[o],e,n,r).pipe(gn(),Fe(a=>{s[o]=a}))),Ki(1),zh(s),or(o=>aC(o)?Ct:Gi(o)))}function vk(t,e,n,r){let i=ca(e)??r,s=Cs(t,i),o=s.resolve?s.resolve(e,n):Kn(i,()=>s(e,n));return Cr(o)}function hm(t){return yt(e=>{let n=t(e);return n?_e(n).pipe(H(()=>e)):k(e)})}var dC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Q);return i}getResolvedTitleForRoute(r){return r.data[aa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>T(_k))(),providedIn:"root"});let t=e;return t})(),_k=(()=>{let e=class e extends dC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(P(cm))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gm=new x("",{providedIn:"root",factory:()=>({})}),Wm=new x("ROUTES"),wk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(Up)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return k(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Cr(r.loadComponent()).pipe(H(hC),Fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ur(()=>{this.componentLoaders.delete(r)})),s=new $i(i,()=>new tt).pipe(Bi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Ek(i,this.compiler,r,this.onLoadEndListener).pipe(ur(()=>{this.childrenLoaders.delete(i)})),a=new $i(o,()=>new tt).pipe(Bi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ek(t,e,n,r){return Cr(t.loadChildren()).pipe(H(hC),Ge(i=>i instanceof To||Array.isArray(i)?k(i):_e(e.compileModuleAsync(i))),H(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Wm,[],{optional:!0,self:!0}).flat()),{routes:o.map(qm),injector:s}}))}function Ik(t){return t&&typeof t=="object"&&"default"in t}function hC(t){return Ik(t)?t.default:t}var Km=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>T(Ck))(),providedIn:"root"});let t=e;return t})(),Ck=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dk=new x("");var bk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=T(wk),this.environmentInjector=T(At),this.urlSerializer=T(jm),this.rootContexts=T(Il),this.location=T(jo),this.inputBindingEnabled=T(Hm,{optional:!0})!==null,this.titleStrategy=T(dC),this.options=T(Gm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=T(Km),this.createViewTransition=T(Dk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Im(s)),i=s=>this.events.next(new Cm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(me(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Me({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bt(o=>o.id!==0),H(o=>me(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{this.currentTransition=o;let a=!1,c=!1;return k(o).pipe(Fe(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?me(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new li(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return k(u).pipe(yt(h=>{let f=this.transitions?.getValue();return this.events.next(new ea(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ct:Promise.resolve(h)}),pk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=me(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new gl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:_,restoredState:I,extras:v}=u,C=new ea(h,this.urlSerializer.serialize(f),_,I);this.events.next(C);let L=eC(f,this.rootComponentType).snapshot;return this.currentTransition=o=me(S({},u),{targetSnapshot:L,urlAfterRedirects:f,extras:me(S({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,k(o)}else{let h="";return this.events.next(new li(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Ct}}),Fe(u=>{let l=new vm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),H(u=>(this.currentTransition=o=me(S({},u),{guards:PO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),HO(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(o.guardsResult=u.guardsResult,ws(u.guardsResult))throw iC(this.urlSerializer,u.guardsResult);let l=new _m(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),bt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),hm(u=>{if(u.guards.canActivateChecks.length)return k(u).pipe(Fe(l=>{let d=new wm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),yt(l=>{let d=!1;return k(l).pipe(mk(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Fe(l=>{let d=new Em(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),hm(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Fe(f=>{d.component=f}),H(()=>{})));for(let f of d.children)h.push(...l(f));return h};return $c(l(u.targetSnapshot.root)).pipe(cr(),Ft(1))}),hm(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?_e(d).pipe(H(()=>o)):k(o)}),H(u=>{let l=bO(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=me(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Fe(()=>{this.events.next(new na)}),NO(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ft(1),Fe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ui(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Kh(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),ur(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),or(u=>{if(c=!0,oC(u))this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),AO(u)?this.events.next(new ra(u.url)):o.resolve(!1);else{this.events.next(new ta(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return Ct}))}))}cancelNavigationTransition(r,i,s){let o=new Ir(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tk(t){return t!==Jo}var Sk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>T(Ak))(),providedIn:"root"});let t=e;return t})(),Lm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Ak=(()=>{let e=class e extends Lm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=mr(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>T(xk))(),providedIn:"root"});let t=e;return t})(),xk=(()=>{let e=class e extends fC{constructor(){super(...arguments),this.location=T(jo),this.urlSerializer=T(jm),this.options=T(Gm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=T(Km),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eC(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ea)this.stateMemento=this.createStateMemento();else if(r instanceof li)this.rawUrlTree=i.initialUrl;else if(r instanceof gl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof na?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ir&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof ta?this.restoreHistory(i,!0):r instanceof ui&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=mr(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Qo||{});function Mk(t,e){t.events.pipe(bt(n=>n instanceof ui||n instanceof Ir||n instanceof ta||n instanceof li),H(n=>n instanceof ui||n instanceof li?Qo.COMPLETE:(n instanceof Ir?n.code===0||n.code===1:!1)?Qo.REDIRECTING:Qo.FAILED),bt(n=>n!==Qo.REDIRECTING),Ft(1)).subscribe(()=>{e()})}function Rk(t){throw t}var Nk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pC=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=T(ju),this.stateManager=T(fC),this.options=T(Gm,{optional:!0})||{},this.pendingTasks=T(ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=T(bk),this.urlSerializer=T(jm),this.location=T(jo),this.urlHandlingStrategy=T(Km),this._events=new tt,this.errorHandler=this.options.errorHandler||Rk,this.navigated=!1,this.routeReuseStrategy=T(Sk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=T(Wm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!T(Hm,{optional:!0}),this.eventsSubscription=new je,this.isNgZoneEnabled=T(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ir&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof ui)this.navigated=!0;else if(i instanceof ra){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Tk(s.source)};this.scheduleNavigation(a,Jo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}kk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=S({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(qm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=Y0(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return J0(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ws(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Jo,null,i)}navigate(r,i={skipLocationChange:!1}){return Ok(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=S({},Nk):i===!1?s=S({},Pk):s=i,ws(r))return O0(this.currentUrlTree,r,s);let o=this.parseUrl(r);return O0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return Mk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ok(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new N(4008,!1)}function kk(t){return!(t instanceof na)&&!(t instanceof ra)}var Fk=new x("");function mC(t,...e){return as([{provide:Wm,multi:!0,useValue:t},[],{provide:Es,useFactory:Vk,deps:[pC]},{provide:Bu,multi:!0,useFactory:Lk},e.map(n=>n.\u0275providers)])}function Vk(t){return t.routerState.root}function Lk(){let t=T(nn);return e=>{let n=t.get(hs);if(e!==n.components[0])return;let r=t.get(pC),i=t.get(jk);t.get(Uk)===1&&r.initialNavigation(),t.get(Bk,null,ee.Optional)?.setUpPreloading(),t.get(Fk,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jk=new x("",{factory:()=>new tt}),Uk=new x("",{providedIn:"root",factory:()=>1});var Bk=new x("");var DC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Y(us),Y(Ut))},e.\u0275dir=it({type:e});let t=e;return t})(),bC=(()=>{let e=class e extends DC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=mr(e)))(s||e)}})(),e.\u0275dir=it({type:e,features:[rn]});let t=e;return t})(),Jm=new x("NgValueAccessor");var $k={provide:Jm,useExisting:Gn(()=>Ts),multi:!0};function Hk(){let t=Zn()?Zn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qk=new x("CompositionEventMode"),Ts=(()=>{let e=class e extends DC{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Hk())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Y(us),Y(Ut),Y(qk,8))},e.\u0275dir=it({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&F("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ri([$k]),rn]});let t=e;return t})();function Qm(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Ml=new x("NgValidators"),TC=new x("NgAsyncValidators");function zk(t){return e=>{if(Qm(e.value)||Qm(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Gk(t){return Qm(t.value)?{required:!0}:null}function gC(t){return null}function SC(t){return t!=null}function AC(t){return gr(t)?_e(t):t}function xC(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function MC(t,e){return e.map(n=>n(t))}function Wk(t){return!t.validate}function RC(t){return t.map(e=>Wk(e)?e:n=>e.validate(n))}function Kk(t){if(!t)return null;let e=t.filter(SC);return e.length==0?null:function(n){return xC(MC(n,e))}}function Zm(t){return t!=null?Kk(RC(t)):null}function Qk(t){if(!t)return null;let e=t.filter(SC);return e.length==0?null:function(n){let r=MC(n,e).map(AC);return Hh(r).pipe(H(xC))}}function Xm(t){return t!=null?Qk(RC(t)):null}function yC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Yk(t){return t._rawValidators}function Jk(t){return t._rawAsyncValidators}function Ym(t){return t?Array.isArray(t)?t:[t]:[]}function bl(t,e){return Array.isArray(t)?t.includes(e):t===e}function vC(t,e){let n=Ym(e);return Ym(t).forEach(i=>{bl(n,i)||n.push(i)}),n}function _C(t,e){return Ym(e).filter(n=>!bl(t,n))}var Tl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},bs=class extends Tl{get formDirective(){return null}get path(){return null}},fa=class extends Tl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Sl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Zk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jW=me(S({},Zk),{"[class.ng-submitted]":"isSubmitted"}),Rl=(()=>{let e=class e extends Sl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(fa,2))},e.\u0275dir=it({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Fu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[rn]});let t=e;return t})(),Nl=(()=>{let e=class e extends Sl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(bs,10))},e.\u0275dir=it({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Fu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[rn]});let t=e;return t})();var la="VALID",Dl="INVALID",Ds="PENDING",da="DISABLED";function NC(t){return(Pl(t)?t.validators:t)||null}function Xk(t){return Array.isArray(t)?Zm(t):t||null}function PC(t,e){return(Pl(e)?e.asyncValidators:t)||null}function eF(t){return Array.isArray(t)?Xm(t):t||null}function Pl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new N(1e3,"");if(!r[n])throw new N(1001,"")}function nF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new N(1002,"")})}var Al=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===la}get invalid(){return this.status===Dl}get pending(){return this.status==Ds}get disabled(){return this.status===da}get enabled(){return this.status!==da}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_C(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_C(e,this._rawAsyncValidators))}hasValidator(e){return bl(this._rawValidators,e)}hasAsyncValidator(e){return bl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ds,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=da,this.errors=null,this._forEachChild(r=>{r.disable(me(S({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=la,this._forEachChild(r=>{r.enable(me(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===Ds)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ds,this._hasOwnPendingAsyncValidator=!0;let n=AC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?Dl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ds)?Ds:this._anyControlsHaveStatus(Dl)?Dl:la}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Xk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eF(this._rawAsyncValidators)}},xl=class extends Al{constructor(e,n,r){super(NC(n),PC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nF(this,!0,e),Object.keys(e).forEach(r=>{tF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var eg=new x("CallSetDisabledState",{providedIn:"root",factory:()=>tg}),tg="always";function rF(t,e){return[...e.path,t]}function OC(t,e,n=tg){kC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),sF(t,e),aF(t,e),oF(t,e),iF(t,e)}function wC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function iF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function kC(t,e){let n=Yk(t);e.validator!==null?t.setValidators(yC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Jk(t);e.asyncValidator!==null?t.setAsyncValidators(yC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();wC(e._rawValidators,i),wC(e._rawAsyncValidators,i)}function sF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&FC(t,e)})}function oF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&FC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function FC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function cF(t,e){t==null,kC(t,e)}function uF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function lF(t){return Object.getPrototypeOf(t.constructor)===bC}function dF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Ts?n=s:lF(s)?r=s:i=s}),i||r||n||null}var fF={provide:bs,useExisting:Gn(()=>pa)},ha=(()=>Promise.resolve())(),pa=(()=>{let e=class e extends bs{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ve,this.form=new xl({},Zm(r),Xm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ha.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),OC(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ha.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ha.then(()=>{let i=this._findContainer(r.path),s=new xl({});cF(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ha.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ha.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,dF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Y(Ml,10),Y(TC,10),Y(eg,8))},e.\u0275dir=it({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&F("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ri([fF]),rn]});let t=e;return t})();function EC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function IC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pF=class extends Al{constructor(e=null,n,r){super(NC(n),PC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(IC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){IC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mF={provide:fa,useExisting:Gn(()=>ma)},CC=(()=>Promise.resolve())(),ma=(()=>{let e=class e extends fa{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new pF,this._registered=!1,this.name="",this.update=new Ve,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=hF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),uF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){OC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){CC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Vo(i);CC.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?rF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Y(bs,9),Y(Ml,10),Y(TC,10),Y(Jm,10),Y(ti,8),Y(eg,8))},e.\u0275dir=it({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ri([mF]),rn,Zr]});let t=e;return t})(),Ol=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=it({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),gF={provide:Jm,useExisting:Gn(()=>ng),multi:!0},ng=(()=>{let e=class e extends bC{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=mr(e)))(s||e)}})(),e.\u0275dir=it({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&F("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[ri([gF]),rn]});let t=e;return t})();var yF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({});let t=e;return t})();function vF(t){return typeof t=="number"?t:parseFloat(t)}var VC=(()=>{let e=class e{constructor(){this._validator=gC}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):gC,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=it({type:e,features:[Zr]});let t=e;return t})();var _F={provide:Ml,useExisting:Gn(()=>rg),multi:!0},rg=(()=>{let e=class e extends VC{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>vF(r),this.createValidator=r=>zk(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=mr(e)))(s||e)}})(),e.\u0275dir=it({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&Fo("min",s._enabled?s.min:null)},inputs:{min:"min"},features:[ri([_F]),rn]});let t=e;return t})(),wF={provide:Ml,useExisting:Gn(()=>ig),multi:!0};var ig=(()=>{let e=class e extends VC{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Vo,this.createValidator=r=>Gk}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=mr(e)))(s||e)}})(),e.\u0275dir=it({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Fo("required",s._enabled?"":null)},inputs:{required:"required"},features:[ri([wF]),rn]});let t=e;return t})();var EF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({imports:[yF]});let t=e;return t})();var kl=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:eg,useValue:r.callSetDisabledState??tg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({imports:[EF]});let t=e;return t})();var UC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},BC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new og;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},og=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CF=function(t){let e=UC(t);return BC.encodeByteArray(e,!0)},ga=function(t){return CF(t).replace(/\./g,"")},cg=function(t){try{return BC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bF=()=>DF().__FIREBASE_DEFAULTS__,TF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&cg(t[1]);return e&&JSON.parse(e)},Vl=()=>{try{return bF()||TF()||SF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$C=t=>{var e,n;return(n=(e=Vl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HC=t=>{let e=$C(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ug=()=>{var t;return(t=Vl())===null||t===void 0?void 0:t.config},qC=t=>{var e;return(e=Vl())===null||e===void 0?void 0:e[`_${t}`]};var Fl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function zC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ga(JSON.stringify(n)),ga(JSON.stringify(o)),a].join(".")}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function AF(){var t;let e=(t=Vl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QC(){return!AF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ll(){try{return typeof indexedDB=="object"}catch{return!1}}function YC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var xF="FirebaseError",zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xn.prototype.create)}},Xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zt(i,a,r)}};function MF(t,e){return t.replace(RF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var RF=/\{\$([^}]+)}/g;function Ss(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(jC(s)&&jC(o)){if(!Ss(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function jC(t){return t!==null&&typeof t=="object"}function lg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function JC(t,e){let n=new ag(t,e);return n.subscribe.bind(n)}var ag=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sg),i.error===void 0&&(i.error=sg),i.complete===void 0&&(i.complete=sg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function NF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sg(){}var $W=4*60*60*1e3;function un(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var dg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Fl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OF(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PF(t){return t===di?void 0:t}function OF(t){return t.instantiationMode==="EAGER"}var jl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new dg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var kF=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),FF={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},VF=ne.INFO,LF={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},jF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=LF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dr=class{constructor(e){this.name=e,this._logLevel=VF,this._logHandler=jF,this._userLogHandler=null,kF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var UF=(t,e)=>e.some(n=>t instanceof n),ZC,XC;function BF(){return ZC||(ZC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return XC||(XC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var eD=new WeakMap,fg=new WeakMap,tD=new WeakMap,hg=new WeakMap,mg=new WeakMap;function HF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Tn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eD.set(n,t)}).catch(()=>{}),mg.set(e,t),e}function qF(t){if(fg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fg.set(t,e)}var pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nD(t){pg=t(pg)}function zF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ul(this),e,...n);return tD.set(r,e.sort?e.sort():[e]),Tn(r)}:$F().includes(t)?function(...e){return t.apply(Ul(this),e),Tn(eD.get(this))}:function(...e){return Tn(t.apply(Ul(this),e))}}function GF(t){return typeof t=="function"?zF(t):(t instanceof IDBTransaction&&qF(t),UF(t,BF())?new Proxy(t,pg):t)}function Tn(t){if(t instanceof IDBRequest)return HF(t);if(hg.has(t))return hg.get(t);let e=GF(t);return e!==t&&(hg.set(t,e),mg.set(e,t)),e}var Ul=t=>mg.get(t);function iD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Tn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Tn(o.result),c.oldVersion,c.newVersion,Tn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var WF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],gg=new Map;function rD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return gg.set(e,s),s}nD(t=>me(S({},t),{get:(e,n,r)=>rD(e,n)||t.get(e,n,r),has:(e,n)=>!!rD(e,n)||t.has(e,n)}));var vg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QF(t){let e=t.getComponent();return e?.type==="VERSION"}var _g="@firebase/app",sD="0.9.27";var hi=new Dr("@firebase/app"),YF="@firebase/app-compat",JF="@firebase/analytics-compat",ZF="@firebase/analytics",XF="@firebase/app-check-compat",eV="@firebase/app-check",tV="@firebase/auth",nV="@firebase/auth-compat",rV="@firebase/database",iV="@firebase/database-compat",sV="@firebase/functions",oV="@firebase/functions-compat",aV="@firebase/installations",cV="@firebase/installations-compat",uV="@firebase/messaging",lV="@firebase/messaging-compat",dV="@firebase/performance",hV="@firebase/performance-compat",fV="@firebase/remote-config",pV="@firebase/remote-config-compat",mV="@firebase/storage",gV="@firebase/storage-compat",yV="@firebase/firestore",vV="@firebase/firestore-compat",_V="firebase",wV="10.8.0";var wg="[DEFAULT]",EV={[_g]:"fire-core",[YF]:"fire-core-compat",[ZF]:"fire-analytics",[JF]:"fire-analytics-compat",[eV]:"fire-app-check",[XF]:"fire-app-check-compat",[tV]:"fire-auth",[nV]:"fire-auth-compat",[rV]:"fire-rtdb",[iV]:"fire-rtdb-compat",[sV]:"fire-fn",[oV]:"fire-fn-compat",[aV]:"fire-iid",[cV]:"fire-iid-compat",[uV]:"fire-fcm",[lV]:"fire-fcm-compat",[dV]:"fire-perf",[hV]:"fire-perf-compat",[fV]:"fire-rc",[pV]:"fire-rc-compat",[mV]:"fire-gcs",[gV]:"fire-gcs-compat",[yV]:"fire-fst",[vV]:"fire-fst-compat","fire-js":"fire-js",[_V]:"fire-js-all"};var ya=new Map,Eg=new Map;function IV(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){let e=t.name;if(Eg.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,t);for(let n of ya.values())IV(n,t);return!0}function bg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var CV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},br=new Xn("app","Firebase",CV);var Ig=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};var As=wV;function Tg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=ug()),!n)throw br.create("no-options");let s=ya.get(i);if(s){if(Ss(n,s.options)&&Ss(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}let o=new jl(i);for(let c of Eg.values())o.addComponent(c);let a=new Ig(n,r,o);return ya.set(i,a),a}function _a(t=wg){let e=ya.get(t);if(!e&&t===wg&&ug())return Tg();if(!e)throw br.create("no-app",{appName:t});return e}function Bl(){return Array.from(ya.values())}function Je(t,e,n){var r;let i=(r=EV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(a.join(" "));return}Tr(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DV="firebase-heartbeat-database",bV=1,va="firebase-heartbeat-store",yg=null;function uD(){return yg||(yg=iD(DV,bV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),yg}function TV(t){return g(this,null,function*(){try{let n=(yield uD()).transaction(va),r=yield n.objectStore(va).get(lD(t));return yield n.done,r}catch(e){if(e instanceof zt)hi.warn(e.message);else{let n=br.create("idb-get",{originalErrorMessage:e?.message});hi.warn(n.message)}}})}function oD(t,e){return g(this,null,function*(){try{let r=(yield uD()).transaction(va,"readwrite");yield r.objectStore(va).put(e,lD(t)),yield r.done}catch(n){if(n instanceof zt)hi.warn(n.message);else{let r=br.create("idb-set",{originalErrorMessage:n?.message});hi.warn(r.message)}}})}function lD(t){return`${t.name}!${t.options.appId}`}var SV=1024,AV=30*24*60*60*1e3,Cg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Dg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=AV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aD(),{heartbeatsToSend:r,unsentEntries:i}=xV(this._heartbeatsCache.heartbeats),s=ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function aD(){return new Date().toISOString().substring(0,10)}function xV(t,e=SV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Dg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return Ll()?YC().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield TV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cD(t){return ga(JSON.stringify({version:2,heartbeats:t})).length}function MV(t){Tr(new Gt("platform-logger",e=>new vg(e),"PRIVATE")),Tr(new Gt("heartbeat",e=>new Cg(e),"PRIVATE")),Je(_g,sD,t),Je(_g,sD,"esm2017"),Je("fire-js","")}MV("");var RV="firebase",NV="10.8.0";Je(RV,NV,"app");var Ms=new Hn("ANGULARFIRE2_VERSION");function Ag(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ea=(t,e)=>{let n=e?[e]:Bl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},wa=class{constructor(){return Ea(PV)}},PV="app-check";function xs(){}var $l=class{zone;delegate;constructor(e,n=jh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Sg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ia=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $l(Zone.current)),this.insideAngular=n.run(()=>new $l(Zone.current,Lh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(P(ge))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function OV(t){return Hl().ngZone.runOutsideAngular(()=>t())}function fi(t){return Hl().ngZone.run(()=>t())}function kV(t){return FV(Hl())(t)}function FV(t){return function(n){return n=n.lift(new Sg(t.ngZone)),n.pipe(sr(t.outsideAngular),ir(t.insideAngular))}}var VV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),fi(()=>t.apply(void 0,r))},Sr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=fi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs))),r[s]=VV(r[s],n));let i=OV(()=>t.apply(this,r));if(!e)if(i instanceof K){let s=Hl();return i.pipe(sr(s.outsideAngular),ir(s.insideAngular))}else return fi(()=>i);return i instanceof K?i.pipe(kV):i instanceof Promise?fi(()=>new Promise((s,o)=>i.then(a=>fi(()=>s(a)),a=>fi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:fi(()=>i)};var pi=class{constructor(e){return e}},Ca=class{constructor(){return Bl()}};function LV(t){return t&&t.length===1?t[0]:new pi(_a())}var xg=new x("angularfire2._apps"),jV={provide:pi,useFactory:LV,deps:[[new In,xg]]},UV={provide:Ca,deps:[[new In,xg]]};function BV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new pi(r)}}var $V=(()=>{class t{constructor(n){Je("angularfire",Ms.full,"core"),Je("angularfire",Ms.full,"app"),Je("angular",Mp.full,n.toString())}static \u0275fac=function(r){return new(r||t)(P(Cn))};static \u0275mod=Mt({type:t});static \u0275inj=xt({providers:[jV,UV]})}return t})();function dD(t,...e){return{ngModule:$V,providers:[{provide:xg,useFactory:BV(t),multi:!0,deps:[ge,nn,Ia,...e]}]}}var hD=Sr(Tg,!0);function _D(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wD=_D,ED=new Xn("auth","Firebase",_D());var Gl=new Dr("@firebase/auth");function qV(t,...e){Gl.logLevel<=ne.WARN&&Gl.warn(`Auth (${As}): ${t}`,...e)}function zl(t,...e){Gl.logLevel<=ne.ERROR&&Gl.error(`Auth (${As}): ${t}`,...e)}function fD(t,...e){throw Bg(t,...e)}function Ug(t,...e){return Bg(t,...e)}function zV(t,e,n){let r=Object.assign(Object.assign({},wD()),{[e]:n});return new Xn("auth","Firebase",r).create(e,{appName:t.name})}function Bg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ED.create(t,...e)}function fe(t,e,...n){if(!t)throw Bg(e,...n)}function Da(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zl(e),new Error(e)}function Wl(t,e){t||Da(e)}function GV(){return pD()==="http:"||pD()==="https:"}function pD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function WV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GV()||WC()||"connection"in navigator)?navigator.onLine:!0}function KV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var gi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wl(n>e,"Short delay should be less than long delay!"),this.isMobile=GC()||KC()}get(){return WV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function QV(t,e){Wl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Kl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var YV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var JV=new gi(3e4,6e4);function ID(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function td(s,o,a,c){return g(this,arguments,function*(t,e,n,r,i={}){return CD(t,i,()=>g(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=lg(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Kl.fetch()(DD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function CD(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},YV),e);try{let i=new Ng(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ql(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zV(t,l,u);fD(t,l)}}catch(i){if(i instanceof zt)throw i;fD(t,"network-request-failed",{message:String(i)})}})}function DD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?QV(t.config,i):`${t.config.apiScheme}://${i}`}var Ng=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ug(this.auth,"network-request-failed")),JV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ql(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ug(t,e,r);return i.customData._tokenResponse=n,i}function ZV(t,e){return g(this,null,function*(){return td(t,"POST","/v1/accounts:delete",e)})}function XV(t,e){return g(this,null,function*(){return td(t,"POST","/v1/accounts:lookup",e)})}function ba(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $g(t,e=!1){return g(this,null,function*(){let n=un(t),r=yield n.getIdToken(e),i=bD(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ba(Mg(i.auth_time)),issuedAtTime:ba(Mg(i.iat)),expirationTime:ba(Mg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Mg(t){return Number(t)*1e3}function bD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zl("JWT malformed, contained fewer than 3 sections"),null;try{let i=cg(n);return i?JSON.parse(i):(zl("Failed to decode base64 JWT payload"),null)}catch(i){return zl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eL(t){let e=bD(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pg(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof zt&&tL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function tL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Og=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ql=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Yl(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Pg(t,XV(n,{idToken:r}));fe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rL(s.providerUserInfo):[],a=nL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ql(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Hg(t){return g(this,null,function*(){let e=un(t);yield Yl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function nL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rL(t){return t.map(e=>{var{providerId:n}=e,r=Bh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function iL(t,e){return g(this,null,function*(){let n=yield CD(t,{},()=>g(this,null,function*(){let r=lg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=DD(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Kl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function sL(t,e){return g(this,null,function*(){return td(t,"POST","/v2/accounts:revokeToken",ID(t,e))})}var Jl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return g(this,null,function*(){return fe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield iL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Da("not implemented")}};function Ar(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zl=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Og(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ql(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield Pg(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $g(this,e)}reload(){return Hg(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Yl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){let e=yield this.getIdToken();return yield Pg(this,ZV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,L=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:J,emailVerified:W,isAnonymous:ke,providerData:oe,stsTokenManager:Qe}=n;fe(J&&Qe,e,"internal-error");let pn=Jl.fromJSON(this.name,Qe);fe(typeof J=="string",e,"internal-error"),Ar(d,e.name),Ar(h,e.name),fe(typeof W=="boolean",e,"internal-error"),fe(typeof ke=="boolean",e,"internal-error"),Ar(f,e.name),Ar(_,e.name),Ar(I,e.name),Ar(v,e.name),Ar(C,e.name),Ar(L,e.name);let kr=new t({uid:J,auth:e,email:h,emailVerified:W,displayName:d,isAnonymous:ke,photoURL:_,phoneNumber:f,tenantId:I,stsTokenManager:pn,createdAt:C,lastLoginAt:L});return oe&&Array.isArray(oe)&&(kr.providerData=oe.map(Fi=>Object.assign({},Fi))),v&&(kr._redirectEventId=v),kr}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new Jl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yl(s),s})}};var mD=new Map;function mi(t){Wl(t instanceof Function,"Expected a class definition");let e=mD.get(t);return e?(Wl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mD.set(t,e),e)}var oL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),kg=oL;function Rg(t,e,n){return`firebase:${t}:${e}:${n}`}var Xl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Rg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Zl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(mi(kg),e,r);let i=(yield Promise.all(n.map(u=>g(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||mi(kg),o=Rg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Zl._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>g(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function gD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hL(e))return"Blackberry";if(fL(e))return"Webos";if(cL(e))return"Safari";if((e.includes("chrome/")||uL(e))&&!e.includes("edge/"))return"Chrome";if(dL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aL(t=dt()){return/firefox\//i.test(t)}function cL(t=dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uL(t=dt()){return/crios\//i.test(t)}function lL(t=dt()){return/iemobile/i.test(t)}function dL(t=dt()){return/android/i.test(t)}function hL(t=dt()){return/blackberry/i.test(t)}function fL(t=dt()){return/webos/i.test(t)}function TD(t,e=[]){let n;switch(t){case"Browser":n=gD(dt());break;case"Worker":n=`${gD(dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${As}/${r}`}var Fg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function pL(n){return g(this,arguments,function*(t,e={}){return td(t,"GET","/v2/passwordPolicy",ID(t,e))})}var mL=6,Vg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Lg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ed(this),this.idTokenSubscription=new ed(this),this.beforeStateQueue=new Fg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ED,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Xl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield Yl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=KV()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){let n=e?un(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(mi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield pL(this),n=new Vg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield sL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&mi(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=yield Xl.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&qV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function gL(t){return un(t)}var ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=JC(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yL={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vL(t){yL=t}function _L(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function wL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(mi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var F5=_L("rcb"),V5=new gi(3e4,6e4);var L5=new gi(2e3,1e4);var j5=10*60*1e3;var U5=new gi(3e4,6e4);var B5=new gi(5e3,15e3);var $5=encodeURIComponent("fac");var yD="@firebase/auth",vD="1.6.0";var jg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function EL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IL(t){Tr(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TD(t)},u=new Lg(r,i,s,c);return wL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tr(new Gt("auth-internal",e=>{let n=gL(e.getProvider("auth").getImmediate());return(r=>new jg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(yD,vD,EL(t)),Je(yD,vD,"esm2017")}var CL=5*60,H5=qC("authIdTokenMaxAge")||CL;function DL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ug("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",DL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IL("Browser");var C2="auth";var nd=class{constructor(){return Ea(C2)}};var D2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={},D,dy=dy||{},U=D2||self;function gd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ja(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function b2(t){return Object.prototype.hasOwnProperty.call(t,qg)&&t[qg]||(t[qg]=++T2)}var qg="closure_uid_"+(1e9*Math.random()>>>0),T2=0;function S2(t,e,n){return t.call.apply(t.bind,arguments)}function A2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ht=S2:ht=A2,ht.apply(null,arguments)}function rd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Xe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xr(){this.s=this.s,this.o=this.o}var x2=0;xr.prototype.s=!1;xr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),x2!=0)&&b2(this)};xr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function SD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(gd(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ft(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var M2=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};U.addEventListener("test",n,e),U.removeEventListener("test",n,e)}catch{}return t}();function Ra(t){return/^[\s\xa0]*$/.test(t)}function yd(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function Sn(t){return yd().indexOf(t)!=-1}function fy(t){return fy[" "](t),t}fy[" "]=function(){};function R2(t,e){var n=_j;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var N2=Sn("Opera"),Os=Sn("Trident")||Sn("MSIE"),UD=Sn("Edge"),Qg=UD||Os,BD=Sn("Gecko")&&!(yd().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge"))&&!(Sn("Trident")||Sn("MSIE"))&&!Sn("Edge"),P2=yd().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge");function $D(){var t=U.document;return t?t.documentMode:void 0}var Yg;e:{if(id="",sd=function(){var t=yd();if(BD)return/rv:([^\);]+)(\)|;)/.exec(t);if(UD)return/Edge\/([\d\.]+)/.exec(t);if(Os)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(P2)return/WebKit\/(\S+)/.exec(t);if(N2)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),sd&&(id=sd?sd[1]:""),Os&&(od=$D(),od!=null&&od>parseFloat(id))){Yg=String(od);break e}Yg=id}var id,sd,od,Jg;U.document&&Os?(zg=$D(),Jg=zg||parseInt(Yg,10)||void 0):Jg=void 0;var zg,O2=Jg;function Na(t,e){if(ft.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(BD){e:{try{fy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:k2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Na.$.h.call(this)}}Xe(Na,ft);var k2={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ua="closure_listenable_"+(1e6*Math.random()|0),F2=0;function V2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++F2,this.fa=this.ia=!1}function vd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function py(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function L2(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function HD(t){let e={};for(let n in t)e[n]=t[n];return e}var AD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<AD.length;s++)n=AD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _d(t){this.src=t,this.g={},this.h=0}_d.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Xg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new V2(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Zg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=jD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Xg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var my="closure_lm_"+(1e6*Math.random()|0),Gg={};function zD(t,e,n,r,i){if(r&&r.once)return WD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zD(t,e[s],n,r,i);return null}return n=vy(n),t&&t[Ua]?t.O(e,n,ja(r)?!!r.capture:!!r,i):GD(t,e,n,!1,r,i)}function GD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ja(i)?!!i.capture:!!i,a=yy(t);if(a||(t[my]=a=new _d(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=j2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)M2||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(QD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function j2(){function t(n){return e.call(t.src,t.listener,n)}let e=U2;return t}function WD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WD(t,e[s],n,r,i);return null}return n=vy(n),t&&t[Ua]?t.P(e,n,ja(r)?!!r.capture:!!r,i):GD(t,e,n,!0,r,i)}function KD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KD(t,e[s],n,r,i);else r=ja(r)?!!r.capture:!!r,n=vy(n),t&&t[Ua]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Xg(s,n,r,i),-1<n&&(vd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=yy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xg(e,n,r,i)),(n=-1<t?e[t]:null)&&gy(n))}function gy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ua])Zg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yy(e))?(Zg(n,t),n.h==0&&(n.src=null,e[my]=null)):vd(t)}}}function QD(t){return t in Gg?Gg[t]:Gg[t]="on"+t}function U2(t,e){if(t.fa)t=!0;else{e=new Na(e,this);var n=t.listener,r=t.la||t.src;t.ia&&gy(t),t=n.call(r,e)}return t}function yy(t){return t=t[my],t instanceof _d?t:null}var Wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function vy(t){return typeof t=="function"?t:(t[Wg]||(t[Wg]=function(e){return t.handleEvent(e)}),t[Wg])}function Ze(){xr.call(this),this.i=new _d(this),this.S=this,this.J=null}Xe(Ze,xr);Ze.prototype[Ua]=!0;Ze.prototype.removeEventListener=function(t,e,n,r){KD(this,t,e,n,r)};function at(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ft(e,t);else if(e instanceof ft)e.target=e.target||t;else{var i=e;e=new ft(r,t),qD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ad(o,r,!0,e)&&i}if(o=e.g=t,i=ad(o,r,!0,e)&&i,i=ad(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ad(o,r,!1,e)&&i}Ze.prototype.N=function(){if(Ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vd(n[r]);delete t.g[e],t.h--}}this.J=null};Ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ze.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ad(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Zg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var _y=U.JSON.stringify,ey=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function B2(){var t=wy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ty=class{constructor(){this.h=this.g=null}add(e,n){let r=YD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},YD=new ey(()=>new ny,t=>t.reset()),ny=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function $2(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function H2(t){U.setTimeout(()=>{throw t},0)}var Pa,Oa=!1,wy=new ty,JD=()=>{let t=U.Promise.resolve(void 0);Pa=()=>{t.then(q2)}},q2=()=>{for(var t;t=B2();){try{t.h.call(t.g)}catch(n){H2(n)}var e=YD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Oa=!1};function wd(t,e){Ze.call(this),this.h=t||1,this.g=e||U,this.j=ht(this.qb,this),this.l=Date.now()}Xe(wd,Ze);D=wd.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),at(this,"tick"),this.ga&&(Ey(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ey(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}D.N=function(){wd.$.N.call(this),Ey(this),delete this.g};function Iy(t,e,n){if(typeof t=="function")n&&(t=ht(t,n));else if(t&&typeof t.handleEvent=="function")t=ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function ZD(t){t.g=Iy(()=>{t.g=null,t.i&&(t.i=!1,ZD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var ry=class extends xr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZD(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ka(t){xr.call(this),this.h=t,this.g={}}Xe(ka,xr);var xD=[];function XD(t,e,n,r){Array.isArray(n)||(n&&(xD[0]=n.toString()),n=xD);for(var i=0;i<n.length;i++){var s=zD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function eb(t){py(t.g,function(e,n){this.g.hasOwnProperty(n)&&gy(e)},t),t.g={}}ka.prototype.N=function(){ka.$.N.call(this),eb(this)};ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ed(){this.g=!0}Ed.prototype.Ea=function(){this.g=!1};function z2(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function G2(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+K2(t,n)+(r?" "+r:"")})}function W2(t,e){t.info(function(){return"TIMEOUT: "+e})}Ed.prototype.info=function(){};function K2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _y(n)}catch{return e}}var wi={},MD=null;function Id(){return MD=MD||new Ze}wi.Ta="serverreachability";function tb(t){ft.call(this,wi.Ta,t)}Xe(tb,ft);function Fa(t){let e=Id();at(e,new tb(e))}wi.STAT_EVENT="statevent";function nb(t,e){ft.call(this,wi.STAT_EVENT,t),this.stat=e}Xe(nb,ft);function Et(t){let e=Id();at(e,new nb(e,t))}wi.Ua="timingevent";function rb(t,e){ft.call(this,wi.Ua,t),this.size=e}Xe(rb,ft);function Ba(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var Cd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ib={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cy(){}Cy.prototype.h=null;function RD(t){return t.h||(t.h=t.i())}function sb(){}var $a={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dy(){ft.call(this,"d")}Xe(Dy,ft);function by(){ft.call(this,"c")}Xe(by,ft);var iy;function Dd(){}Xe(Dd,Cy);Dd.prototype.g=function(){return new XMLHttpRequest};Dd.prototype.i=function(){return{}};iy=new Dd;function Ha(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ka(this),this.P=Q2,t=Qg?125:void 0,this.V=new wd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ob}function ob(){this.i=null,this.g="",this.h=!1}var Q2=45e3,ab={},sy={};D=Ha.prototype;D.setTimeout=function(t){this.P=t};function oy(t,e,n){t.L=1,t.A=Td(tr(e)),t.u=n,t.S=!0,cb(t,null)}function cb(t,e){t.G=Date.now(),qa(t),t.B=tr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),gb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ob,t.g=Vb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new ry(ht(t.Pa,t,t.g),t.O)),XD(t.U,t.g,"readystatechange",t.nb),e=t.I?HD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Fa(),z2(t.j,t.v,t.B,t.m,t.W,t.u)}D.nb=function(t){t=t.target;let e=this.M;e&&An(t)==3?e.l():this.Pa(t)};D.Pa=function(t){try{if(t==this.g)e:{let l=An(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Qg||this.g&&(this.h.h||this.g.ja()||kD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Fa(3):Fa(2)),bd(this);var n=this.g.da();this.ca=n;t:if(ub(this)){var r=kD(this.g);t="";var i=r.length,s=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),Ma(this);var o="";break t}this.h.i=new U.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,G2(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ra(a)){var u=a;break t}}u=null}if(n=u)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ay(this,n);else{this.i=!1,this.s=3,Et(12),yi(this),Ma(this);break e}}this.S?(lb(this,l,o),Qg&&this.i&&l==3&&(XD(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,o,null),ay(this,o)),l==4&&yi(this),this.i&&!this.J&&(l==4?Pb(this.l,this):(this.i=!1,qa(this)))}else gj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),yi(this),Ma(this)}}}catch{}finally{}};function ub(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function lb(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Y2(t,n),i==sy){e==4&&(t.s=4,Et(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ab){t.s=4,Et(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ns(t.j,t.m,i,null),ay(t,i);ub(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Et(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ry(e),e.M=!0,Et(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),yi(t),Ma(t))}D.mb=function(){if(this.g){var t=An(this.g),e=this.g.ja();this.o<e.length&&(bd(this),lb(this,t,e),this.i&&t!=4&&qa(this))}};function Y2(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?sy:(n=Number(e.substring(n,r)),isNaN(n)?ab:(r+=1,r+n>e.length?sy:(e=e.slice(r,r+n),t.o=r+n,e)))}D.cancel=function(){this.J=!0,yi(this)};function qa(t){t.Y=Date.now()+t.P,db(t,t.P)}function db(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ba(ht(t.lb,t),e)}function bd(t){t.C&&(U.clearTimeout(t.C),t.C=null)}D.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(W2(this.j,this.B),this.L!=2&&(Fa(),Et(17)),yi(this),this.s=2,Ma(this)):db(this,this.Y-t)};function Ma(t){t.l.H==0||t.J||Pb(t.l,t)}function yi(t){bd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ey(t.V),eb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ay(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||cy(n.i,t))){if(!t.K&&cy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hd(n),xd(n);else break e;My(n),Et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ba(ht(n.ib,n),6e3));if(1>=_b(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vi(n,11)}else if((t.K||n.g==t)&&hd(n),!Ra(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ty(s,s.h),s.h=null))}if(r.F){let I=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,be(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Fb(r,r.J?r.pa:null,r.Y),o.K){wb(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(bd(a),qa(a)),r.g=o}else Rb(r);0<n.j.length&&Md(n)}else u[0]!="stop"&&u[0]!="close"||vi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?vi(n,7):xy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Fa(4)}catch{}}function J2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Z2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function hb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Z2(t),r=J2(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var fb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function _i(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _i){this.h=t.h,ld(this,t.j),this.s=t.s,this.g=t.g,dd(this,t.m),this.l=t.l;var e=t.i,n=new Va;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ND(this,n),this.o=t.o}else t&&(e=String(t).match(fb))?(this.h=!1,ld(this,e[1]||"",!0),this.s=Aa(e[2]||""),this.g=Aa(e[3]||"",!0),dd(this,e[4]),this.l=Aa(e[5]||"",!0),ND(this,e[6]||"",!0),this.o=Aa(e[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}_i.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xa(e,PD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xa(e,PD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xa(n,n.charAt(0)=="/"?nj:tj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xa(n,ij)),t.join("")};function tr(t){return new _i(t)}function ld(t,e,n){t.j=n?Aa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function dd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ND(t,e,n){e instanceof Va?(t.i=e,sj(t.i,t.h)):(n||(e=xa(e,rj)),t.i=new Va(e,t.h))}function be(t,e,n){t.i.set(e,n)}function Td(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Aa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ej),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ej(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var PD=/[#\/\?@]/g,tj=/[#\?:]/g,nj=/[#\?]/g,rj=/[#\?@]/g,ij=/#/g;function Va(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mr(t){t.g||(t.g=new Map,t.h=0,t.i&&X2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}D=Va.prototype;D.add=function(t,e){Mr(this),this.i=null,t=ks(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pb(t,e){Mr(t),e=ks(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mb(t,e){return Mr(t),e=ks(t,e),t.g.has(e)}D.forEach=function(t,e){Mr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};D.ta=function(){Mr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};D.Z=function(t){Mr(this);let e=[];if(typeof t=="string")mb(this,t)&&(e=e.concat(this.g.get(ks(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};D.set=function(t,e){return Mr(this),this.i=null,t=ks(this,t),mb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};D.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gb(t,e,n){pb(t,e),0<n.length&&(t.i=null,t.g.set(ks(t,e),hy(n)),t.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ks(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sj(t,e){e&&!t.j&&(Mr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pb(this,r),gb(this,i,n))},t)),t.j=e}var oj=class{constructor(t,e){this.g=t,this.map=e}};function yb(t){this.l=t||aj,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aj=10;function vb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _b(t){return t.h?1:t.g?t.g.size:0}function cy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ty(t,e){t.g?t.g.add(e):t.h=e}function wb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}yb.prototype.cancel=function(){if(this.i=Eb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Eb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return hy(t.i)}var cj=class{stringify(t){return U.JSON.stringify(t,void 0)}parse(t){return U.JSON.parse(t,void 0)}};function uj(){this.g=new cj}function lj(t,e,n){let r=n||"";try{hb(t,function(i,s){let o=i;ja(i)&&(o=_y(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dj(t,e){let n=new Ed;if(U.Image){let r=new Image;r.onload=rd(cd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rd(cd,n,r,"TestLoadImage: error",!1,e),r.onabort=rd(cd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rd(cd,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function cd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function za(t){this.l=t.ec||null,this.j=t.ob||!1}Xe(za,Cy);za.prototype.g=function(){return new Sd(this.l,this.j)};za.prototype.i=function(t){return function(){return t}}({});function Sd(t,e){Ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xe(Sd,Ze);var Sy=0;D=Sd.prototype;D.open=function(t,e){if(this.readyState!=Sy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,La(this)};D.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=Sy};D.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ib(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ib(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}D.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ga(this):La(this),this.readyState==3&&Ib(this)}};D.Za=function(t){this.g&&(this.response=this.responseText=t,Ga(this))};D.Ya=function(t){this.g&&(this.response=t,Ga(this))};D.ka=function(){this.g&&Ga(this)};function Ga(t){t.readyState=4,t.l=null,t.j=null,t.A=null,La(t)}D.setRequestHeader=function(t,e){this.v.append(t,e)};D.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function La(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hj=U.JSON.parse;function Ne(t){Ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cb,this.L=this.M=!1}Xe(Ne,Ze);var Cb="",fj=/^https?$/i,pj=["POST","PUT"];D=Ne.prototype;D.Oa=function(t){this.M=t};D.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():iy.g(),this.C=this.u?RD(this.u):RD(iy),this.g.onreadystatechange=ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){OD(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=U.FormData&&t instanceof U.FormData,!(0<=jD(pj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Tb(this),0<this.B&&((this.L=mj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.ua,this)):this.A=Iy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){OD(this,s)}};function mj(t){return Os&&typeof t.timeout=="number"&&t.ontimeout!==void 0}D.ua=function(){typeof dy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,at(this,"timeout"),this.abort(8))};function OD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Db(t),Ad(t)}function Db(t){t.F||(t.F=!0,at(t,"complete"),at(t,"error"))}D.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,at(this,"complete"),at(this,"abort"),Ad(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ad(this,!0)),Ne.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?bb(this):this.kb())};D.kb=function(){bb(this)};function bb(t){if(t.h&&typeof dy<"u"&&(!t.C[1]||An(t)!=4||t.da()!=2)){if(t.v&&An(t)==4)Iy(t.La,0,t);else if(at(t,"readystatechange"),An(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(fb)[1]||null;!i&&U.self&&U.self.location&&(i=U.self.location.protocol.slice(0,-1)),r=!fj.test(i?i.toLowerCase():"")}n=r}if(n)at(t,"complete"),at(t,"success");else{t.m=6;try{var s=2<An(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Db(t)}}finally{Ad(t)}}}}function Ad(t,e){if(t.g){Tb(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||at(t,"ready");try{n.onreadystatechange=r}catch{}}}function Tb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}D.isActive=function(){return!!this.g};function An(t){return t.g?t.g.readyState:0}D.da=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hj(e)}};function kD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Cb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gj(t){let e={};t=(t.g&&2<=An(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ra(t[r]))continue;var n=$2(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}L2(e,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Sb(t){let e="";return py(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ay(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Sb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):be(t,e,n))}function Ta(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ab(t){this.Ga=0,this.j=[],this.l=new Ed,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ta("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ta("baseRetryDelayMs",5e3,t),this.hb=Ta("retryDelaySeedMs",1e4,t),this.eb=Ta("forwardChannelMaxRetries",2,t),this.xa=Ta("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yb(t&&t.concurrentRequestLimit),this.Ja=new uj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=Ab.prototype;D.ra=8;D.H=1;function xy(t){if(xb(t),t.H==3){var e=t.W++,n=tr(t.I);if(be(n,"SID",t.K),be(n,"RID",e),be(n,"TYPE","terminate"),Wa(t,n),e=new Ha(t,t.l,e),e.L=2,e.A=Td(tr(n)),n=!1,U.navigator&&U.navigator.sendBeacon)try{n=U.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&U.Image&&(new Image().src=e.A,n=!0),n||(e.g=Vb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),qa(e)}kb(t)}function xd(t){t.g&&(Ry(t),t.g.cancel(),t.g=null)}function xb(t){xd(t),t.u&&(U.clearTimeout(t.u),t.u=null),hd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function Md(t){if(!vb(t.i)&&!t.m){t.m=!0;var e=t.Na;Pa||JD(),Oa||(Pa(),Oa=!0),wy.add(e,t),t.C=0}}function yj(t,e){return _b(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ba(ht(t.Na,t,e),Ob(t,t.C)),t.C++,!0)}D.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ha(this,this.l,t),s=this.s;if(this.U&&(s?(s=HD(s),qD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Mb(this,i,e),n=tr(this.I),be(n,"RID",t),be(n,"CVER",22),this.F&&be(n,"X-HTTP-Session-Id",this.F),Wa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Sb(s)))+"&"+e:this.o&&Ay(n,this.o,s)),Ty(this.i,i),this.bb&&be(n,"TYPE","init"),this.P?(be(n,"$req",e),be(n,"SID","null"),i.aa=!0,oy(i,n,null)):oy(i,n,e),this.H=2}}else this.H==3&&(t?FD(this,t):this.j.length==0||vb(this.i)||FD(this))};function FD(t,e){var n;e?n=e.m:n=t.W++;let r=tr(t.I);be(r,"SID",t.K),be(r,"RID",n),be(r,"AID",t.V),Wa(t,r),t.o&&t.s&&Ay(r,t.o,t.s),n=new Ha(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Mb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ty(t.i,n),oy(n,r,e)}function Wa(t,e){t.na&&py(t.na,function(n,r){be(e,r,n)}),t.h&&hb({},function(n,r){be(e,r,n)})}function Mb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{lj(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Rb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pa||JD(),Oa||(Pa(),Oa=!0),wy.add(e,t),t.A=0}}function My(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ba(ht(t.Ma,t),Ob(t,t.A)),t.A++,!0)}D.Ma=function(){if(this.u=null,Nb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ba(ht(this.jb,this),t)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Et(10),xd(this),Nb(this))};function Ry(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function Nb(t){t.g=new Ha(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=tr(t.wa);be(e,"RID","rpc"),be(e,"SID",t.K),be(e,"AID",t.V),be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&be(e,"TO",t.qa),be(e,"TYPE","xmlhttp"),Wa(t,e),t.o&&t.s&&Ay(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Td(tr(e)),n.u=null,n.S=!0,cb(n,t)}D.ib=function(){this.v!=null&&(this.v=null,xd(this),My(this),Et(19))};function hd(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function Pb(t,e){var n=null;if(t.g==e){hd(t),Ry(t),t.g=null;var r=2}else if(cy(t.i,e))n=e.F,wb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Id(),at(r,new rb(r,n)),Md(t)}else Rb(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&yj(t,e)||r==2&&My(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vi(t,5);break;case 4:vi(t,10);break;case 3:vi(t,6);break;default:vi(t,2)}}}function Ob(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ht(t.pb,t);n||(n=new _i("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||ld(n,"https"),Td(n)),dj(n.toString(),r)}else Et(2);t.H=0,t.h&&t.h.za(e),kb(t),xb(t)}D.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Et(2)):(this.l.info("Failed to ping google.com"),Et(1))};function kb(t){if(t.H=0,t.ma=[],t.h){let e=Eb(t.i);(e.length!=0||t.j.length!=0)&&(SD(t.ma,e),SD(t.ma,t.j),t.i.i.length=0,hy(t.j),t.j.length=0),t.h.ya()}}function Fb(t,e,n){var r=n instanceof _i?tr(n):new _i(n);if(r.g!="")e&&(r.g=e+"."+r.g),dd(r,r.m);else{var i=U.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _i(null);r&&ld(s,r),e&&(s.g=e),i&&dd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&be(r,n,e),be(r,"VER",t.ra),Wa(t,r),r}function Vb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ne(new za({ob:n})):new Ne(t.va),e.Oa(t.J),e}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function Lb(){}D=Lb.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function fd(){if(Os&&!(10<=Number(O2)))throw Error("Environmental error: no available transport.")}fd.prototype.g=function(t,e){return new Ot(t,e)};function Ot(t,e){Ze.call(this),this.g=new Ab(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ra(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ra(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fs(this)}Xe(Ot,Ze);Ot.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Et(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Fb(t,null,t.Y),Md(t)};Ot.prototype.close=function(){xy(this.g)};Ot.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_y(t),t=n);e.j.push(new oj(e.fb++,t)),e.H==3&&Md(e)};Ot.prototype.N=function(){this.g.h=null,delete this.j,xy(this.g),delete this.g,Ot.$.N.call(this)};function jb(t){Dy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Xe(jb,Dy);function Ub(){by.call(this),this.status=1}Xe(Ub,by);function Fs(t){this.g=t}Xe(Fs,Lb);Fs.prototype.Ba=function(){at(this.g,"a")};Fs.prototype.Aa=function(t){at(this.g,new jb(t))};Fs.prototype.za=function(t){at(this.g,new Ub)};Fs.prototype.ya=function(){at(this.g,"b")};function vj(){this.blockSize=-1}function ln(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Xe(ln,vj);ln.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Kg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ln.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Kg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Kg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Kg(this,r),i=0;break}}this.h=i,this.i+=e};ln.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var _j={};function Ny(t){return-128<=t&&128>t?R2(t,function(e){return new pe([e|0],0>e?-1:0)}):new pe([t|0],0>t?-1:0)}function xn(t){if(isNaN(t)||!isFinite(t))return Ps;if(0>t)return ot(xn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=uy;return new pe(e,0)}function Bb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ot(Bb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xn(Math.pow(e,8)),r=Ps,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=xn(Math.pow(e,s)),r=r.R(s).add(xn(o))):(r=r.R(n),r=r.add(xn(o)))}return r}var uy=4294967296,Ps=Ny(0),ly=Ny(1),VD=Ny(16777216);D=pe.prototype;D.ea=function(){if(Wt(this))return-ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:uy+r)*e,e*=uy}return t};D.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(er(this))return"0";if(Wt(this))return"-"+ot(this).toString(t);for(var e=xn(Math.pow(t,6)),n=this,r="";;){var i=md(n,e).g;n=pd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,er(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};D.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function er(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wt(t){return t.h==-1}D.X=function(t){return t=pd(this,t),Wt(t)?-1:er(t)?0:1};function ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new pe(n,~t.h).add(ly)}D.abs=function(){return Wt(this)?ot(this):this};D.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new pe(n,n[n.length-1]&-2147483648?-1:0)};function pd(t,e){return t.add(ot(e))}D.R=function(t){if(er(this)||er(t))return Ps;if(Wt(this))return Wt(t)?ot(this).R(ot(t)):ot(ot(this).R(t));if(Wt(t))return ot(this.R(ot(t)));if(0>this.X(VD)&&0>t.X(VD))return xn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,ud(n,2*r+2*i),n[2*r+2*i+1]+=s*c,ud(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ud(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ud(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new pe(n,0)};function ud(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sa(t,e){this.g=t,this.h=e}function md(t,e){if(er(e))throw Error("division by zero");if(er(t))return new Sa(Ps,Ps);if(Wt(t))return e=md(ot(t),e),new Sa(ot(e.g),ot(e.h));if(Wt(e))return e=md(t,ot(e)),new Sa(ot(e.g),e.h);if(30<t.g.length){if(Wt(t)||Wt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ly,r=e;0>=r.X(t);)n=LD(n),r=LD(r);var i=Rs(n,1),s=Rs(r,1);for(r=Rs(r,2),n=Rs(n,2);!er(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Rs(r,1),n=Rs(n,1)}return e=pd(t,i.R(e)),new Sa(i,e)}for(i=Ps;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=xn(n),o=s.R(e);Wt(o)||0<o.X(t);)n-=r,s=xn(n),o=s.R(e);er(s)&&(s=ly),i=i.add(s),t=pd(t,o)}return new Sa(i,t)}D.gb=function(t){return md(this,t).h};D.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new pe(n,this.h&t.h)};D.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new pe(n,this.h|t.h)};D.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new pe(n,this.h^t.h)};function LD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new pe(n,t.h)}function Rs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new pe(i,t.h)}fd.prototype.createWebChannel=fd.prototype.g;Ot.prototype.send=Ot.prototype.u;Ot.prototype.open=Ot.prototype.m;Ot.prototype.close=Ot.prototype.close;Cd.NO_ERROR=0;Cd.TIMEOUT=8;Cd.HTTP_ERROR=6;ib.COMPLETE="complete";sb.EventType=$a;$a.OPEN="a";$a.CLOSE="b";$a.ERROR="c";$a.MESSAGE="d";Ze.prototype.listen=Ze.prototype.O;Ne.prototype.listenOnce=Ne.prototype.P;Ne.prototype.getLastError=Ne.prototype.Sa;Ne.prototype.getLastErrorCode=Ne.prototype.Ia;Ne.prototype.getStatus=Ne.prototype.da;Ne.prototype.getResponseJson=Ne.prototype.Wa;Ne.prototype.getResponseText=Ne.prototype.ja;Ne.prototype.send=Ne.prototype.ha;Ne.prototype.setWithCredentials=Ne.prototype.Oa;ln.prototype.digest=ln.prototype.l;ln.prototype.reset=ln.prototype.reset;ln.prototype.update=ln.prototype.j;pe.prototype.add=pe.prototype.add;pe.prototype.multiply=pe.prototype.R;pe.prototype.modulo=pe.prototype.gb;pe.prototype.compare=pe.prototype.X;pe.prototype.toNumber=pe.prototype.ea;pe.prototype.toString=pe.prototype.toString;pe.prototype.getBits=pe.prototype.D;pe.fromNumber=xn;pe.fromString=Bb;var $b=dn.createWebChannelTransport=function(){return new fd},Hb=dn.getStatEventTarget=function(){return Id()},Rd=dn.ErrorCode=Cd,qb=dn.EventType=ib,zb=dn.Event=wi,Py=dn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},P6=dn.FetchXmlHttpFactory=za,Ka=dn.WebChannel=sb,Gb=dn.XhrIo=Ne,Wb=dn.Md5=ln,Ei=dn.Integer=pe;var Kb="@firebase/firestore";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var ro="10.8.0";var Ai=new Dr("@firebase/firestore");function Qa(){return Ai.logLevel}function b(t,...e){if(Ai.logLevel<=ne.DEBUG){let n=e.map(y_);Ai.debug(`Firestore (${ro}): ${t}`,...n)}}function Fn(t,...e){if(Ai.logLevel<=ne.ERROR){let n=e.map(y_);Ai.error(`Firestore (${ro}): ${t}`,...n)}}function qs(t,...e){if(Ai.logLevel<=ne.WARN){let n=e.map(y_);Ai.warn(`Firestore (${ro}): ${t}`,...n)}}function y_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function V(t="Unexpected state"){let e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+t;throw Fn(e),new Error(e)}function Ce(t,e){t||V()}function G(t,e){return t}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=class extends zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Fd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ly=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}},jy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Uy=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>g(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Fd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new et(e)}},By=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},$y=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new By(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Hy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Hy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function wj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Vd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=wj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ue(t,e){return t<e?-1:t>e?1:0}function zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var z=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ct(0,0))}static max(){return new t(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ld=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&V(),r===void 0?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},qe=class t extends Ld{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new M(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kt=class t extends Ld{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new M(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new M(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new M(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var O=class t{constructor(e){this.path=e}static fromPath(e){return new t(qe.fromString(e))}static fromName(e){return new t(qe.fromString(e).popFirst(5))}static empty(){return new t(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qe(e.slice()))}};var zy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};zy.UNKNOWN_ID=-1;function Ij(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new xi(i,O.empty(),e)}function Cj(t){return new xi(t.readTime,t.key,-1)}var xi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(z.min(),O.empty(),-1)}static max(){return new t(z.max(),O.empty(),-1)}};function Dj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=O.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}var bj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function fc(t){return g(this,null,function*(){if(t.code!==w.FAILED_PRECONDITION||t.message!==bj)throw t;b("LocalStore","Unexpectedly lost primary lease")})}var E=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Wy=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Nn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ti(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=v_(r.target.error);this.V.reject(new Ti(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Ti(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(b("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Qy(n)}},jd=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(dt())===12.2&&Fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return b("SimpleDb","Removing database:",e),Ii(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ll())return!1;if(t.C())return!0;let e=dt(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return g(this,null,function*(){return this.db||(b("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Ti(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new M(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new M(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ti(e,o))},i.onupgradeneeded=s=>{b("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{b("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return g(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Wy.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),E.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(b("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Ky=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ii(this.k.delete())}},Ti=class extends M{constructor(e,n){super(w.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function pc(t){return t.name==="IndexedDbTransactionError"}var Qy=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(b("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ii(r)}add(e){return b("SimpleDb","ADD",this.store.name,e,e),Ii(this.store.add(e))}get(e){return Ii(this.store.get(e)).next(n=>(n===void 0&&(n=null),b("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return b("SimpleDb","DELETE",this.store.name,e),Ii(this.store.delete(e))}count(){return b("SimpleDb","COUNT",this.store.name),Ii(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new E((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new E((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){b("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new E((r,i)=>{n.onerror=s=>{let o=v_(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new E((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Ky(a),u=n(a.primaryKey,a.value,c);if(u instanceof E){let l=u.catch(d=>(c.done(),E.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>E.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ii(t){return new E((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=v_(r.target.error);n(i)}})}var Qb=!1;function v_(t){let e=jd.S(dt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qb||(Qb=!0,setTimeout(()=>{throw r},0)),r}}return t}var CT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function ph(t){return t==null}function tc(t){return t===0&&1/t==-1/0}function Tj(t){return typeof t=="number"&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Sj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],H6=[...Sj,"documentOverlays"],Aj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xj=Aj,q6=[...xj,"indexConfiguration","indexState","indexEntries"];function Yb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Us(this.root,e,this.comparator,!1)}getReverseIterator(){return new Us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Us(this.root,e,this.comparator,!0)}},Us=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();let e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}};Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ud(this.data.getIterator())}getIteratorFrom(e){return new Ud(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ud=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rn=class t{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new mt(kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var It=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};It.EMPTY_BYTE_STRING=new It("");var Mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(t){if(Ce(!!t),typeof t=="string"){let e=0,n=Mj.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}function __(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function w_(t){let e=t.mapValue.fields.__previous_value__;return __(e)?w_(e):e}function nc(t){let e=Rr(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var Yy=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},$d=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Nd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:bT(t)?9007199254740991:10:V()}function Vn(t,e){if(t===e)return!0;let n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Rr(i.timestampValue),a=Rr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Nr(i.bytesValue).isEqual(Nr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Pe(i.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Pe(i.integerValue)===Pe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Pe(i.doubleValue),a=Pe(s.doubleValue);return o===a?tc(o)===tc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Yb(o)!==Yb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Vn(o[c],a[c])))return!1;return!0}(t,e);default:return V()}}function rc(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;let n=Mi(t),r=Mi(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Pe(s.integerValue||s.doubleValue),c=Pe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Jb(t.timestampValue,e.timestampValue);case 4:return Jb(nc(t),nc(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Nr(s),c=Nr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ue(a[u],c[u]);if(l!==0)return l}return ue(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ue(Pe(s.latitude),Pe(o.latitude));return a!==0?a:ue(Pe(s.longitude),Pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Gs(a[u],c[u]);if(l)return l}return ue(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Nd.mapValue&&o===Nd.mapValue)return 0;if(s===Nd.mapValue)return 1;if(o===Nd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ue(c[d],l[d]);if(h!==0)return h;let f=Gs(a[c[d]],u[l[d]]);if(f!==0)return f}return ue(c.length,l.length)}(t.mapValue,e.mapValue);default:throw V()}}function Jb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);let n=Rr(t),r=Rr(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function Ws(t){return Jy(t)}function Jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return O.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Jy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Jy(n.fields[o])}`;return i+"}"}(t.mapValue):V()}function Zy(t){return!!t&&"integerValue"in t}function E_(t){return!!t&&"arrayValue"in t}function Zb(t){return!!t&&"nullValue"in t}function Xb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Od(t){return!!t&&"mapValue"in t}function Ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ja(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var hn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ja(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){io(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ja(this.value))}};function TT(t){let e=[];return io(t.fields,(n,r)=>{let i=new kt([n]);if(Od(r)){let s=TT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}var fn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,z.min(),z.min(),z.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,z.min(),z.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,z.min(),z.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ks=class{constructor(e,n){this.position=e,this.inclusive=n}};function eT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=O.comparator(O.fromName(o.referenceValue),n.key):r=Gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}var Qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Rj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hd=class{},Ke=class t extends Hd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ev(e,n,r):n==="array-contains"?new rv(e,r):n==="in"?new iv(e,r):n==="not-in"?new sv(e,r):n==="array-contains-any"?new ov(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tv(e,r):new nv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ln=class t extends Hd{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return ST(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function ST(t){return t.op==="and"}function AT(t){return Nj(t)&&ST(t)}function Nj(t){for(let e of t.filters)if(e instanceof Ln)return!1;return!0}function Xy(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Ws(t.value);if(AT(t))return t.filters.map(e=>Xy(e)).join(",");{let e=t.filters.map(n=>Xy(n)).join(",");return`${t.op}(${e})`}}function xT(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&xT(o,i.filters[a]),!0):!1}(t,e):void V()}function MT(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Ws(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(MT).join(" ,")+"}"}(t):"Filter"}var ev=class extends Ke{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){let n=O.comparator(e.key,this.key);return this.matchesComparison(n)}},tv=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=RT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},nv=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=RT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function RT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}var rv=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return E_(n)&&rc(n.arrayValue,this.value)}},iv=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}},sv=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!rc(this.value.arrayValue,n)}},ov=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!E_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rc(this.value.arrayValue,r))}};var av=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function nT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new av(t,e,n,r,i,s,o)}function I_(t){let e=G(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ws(r)).join(",")),e.ce=n}return e.ce}function C_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tT(t.startAt,e.startAt)&&tT(t.endAt,e.endAt)}function cv(t){return O.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ys=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Pj(t,e,n,r,i,s,o,a){return new Ys(t,e,n,r,i,s,o,a)}function D_(t){return new Ys(t)}function rT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Oj(t){return t.collectionGroup!==null}function Za(t){let e=G(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(kt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Qs(s,r))}),n.has(kt.keyField().canonicalString())||e.le.push(new Qs(kt.keyField(),r))}return e.le}function On(t){let e=G(t);return e.he||(e.he=kj(e,Za(t))),e.he}function kj(t,e){if(t.limitType==="F")return nT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Qs(i.field,s)});let n=t.endAt?new Ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ks(t.startAt.position,t.startAt.inclusive):null;return nT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uv(t,e,n){return new Ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return C_(On(t),On(e))&&t.limitType===e.limitType}function NT(t){return`${I_(On(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>MT(i)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ws(i)).join(",")),`Target(${r})`}(On(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):O.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=eT(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Za(r),i)||r.endAt&&!function(o,a,c){let u=eT(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Za(r),i))}(t,e)}function Fj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PT(t){return(e,n)=>{let r=!1;for(let i of Za(t)){let s=Vj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Vj(t,e,n){let r=t.field.isKeyField()?O.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Gs(c,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}var Pr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}};var Lj=new Oe(O.comparator);function nr(){return Lj}var OT=new Oe(O.comparator);function Ya(...t){let e=OT;for(let n of t)e=e.insert(n.key,n);return e}function kT(t){let e=OT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return Xa()}function FT(){return Xa()}function Xa(){return new Pr(t=>t.toString(),(t,e)=>t.isEqual(e))}var jj=new Oe(O.comparator),Uj=new mt(O.comparator);function re(...t){let e=Uj;for(let n of t)e=e.add(n);return e}var Bj=new mt(ue);function $j(){return Bj}function VT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function LT(t){return{integerValue:""+t}}function Hj(t,e){return Tj(e)?LT(e):VT(t,e)}var Js=class{constructor(){this._=void 0}};function qj(t,e,n){return t instanceof Zs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&__(s)&&(s=w_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ri?UT(t,e):t instanceof Ni?BT(t,e):function(i,s){let o=jT(i,s),a=iT(o)+iT(i.Ie);return Zy(o)&&Zy(i.Ie)?LT(a):VT(i.serializer,a)}(t,e)}function zj(t,e,n){return t instanceof Ri?UT(t,e):t instanceof Ni?BT(t,e):n}function jT(t,e){return t instanceof Xs?function(r){return Zy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Zs=class extends Js{},Ri=class extends Js{constructor(e){super(),this.elements=e}};function UT(t,e){let n=$T(e);for(let r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ni=class extends Js{constructor(e){super(),this.elements=e}};function BT(t,e){let n=$T(e);for(let r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}var Xs=class extends Js{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function iT(t){return Pe(t.integerValue||t.doubleValue)}function $T(t){return E_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Gj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ri&&i instanceof Ri||r instanceof Ni&&i instanceof Ni?zs(r.elements,i.elements,Vn):r instanceof Xs&&i instanceof Xs?Vn(r.Ie,i.Ie):r instanceof Zs&&i instanceof Zs}(t.transform,e.transform)}var lv=class{constructor(e,n){this.version=e,this.transformResults=n}},Si=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var eo=class{};function HT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qd(t.key,Si.none()):new Pi(t.key,t.data,Si.none());{let n=t.data,r=hn.empty(),i=new mt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new rr(t.key,r,new Rn(i.toArray()),Si.none())}}function Wj(t,e,n){t instanceof Pi?function(i,s,o){let a=i.value.clone(),c=oT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof rr?function(i,s,o){if(!kd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=oT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(qT(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n,r){return t instanceof Pi?function(s,o,a,c){if(!kd(s.precondition,o))return a;let u=s.value.clone(),l=aT(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof rr?function(s,o,a,c){if(!kd(s.precondition,o))return a;let u=aT(s.fieldTransforms,c,o),l=o.data;return l.setAll(qT(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return kd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Kj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=jT(r.transform,i||null);s!=null&&(n===null&&(n=hn.empty()),n.set(r.field,s))}return n||null}function sT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zs(r,i,(s,o)=>Gj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Pi=class extends eo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},rr=class extends eo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function qT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function oT(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zj(o,a,n[i]))}return r}function aT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,qj(s,o,e))}return r}var qd=class extends eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dv=class extends eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Wj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=FT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=HT(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>sT(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>sT(n,r))}},fv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return jj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var pv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var mv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var $e,ie;function Qj(t){switch(t){default:return V();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function zT(t){if(t===void 0)return Fn("GRPC error has no .code"),w.UNKNOWN;switch(t){case $e.OK:return w.OK;case $e.CANCELLED:return w.CANCELLED;case $e.UNKNOWN:return w.UNKNOWN;case $e.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case $e.INTERNAL:return w.INTERNAL;case $e.UNAVAILABLE:return w.UNAVAILABLE;case $e.UNAUTHENTICATED:return w.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case $e.NOT_FOUND:return w.NOT_FOUND;case $e.ALREADY_EXISTS:return w.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return w.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case $e.ABORTED:return w.ABORTED;case $e.OUT_OF_RANGE:return w.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return w.UNIMPLEMENTED;case $e.DATA_LOSS:return w.DATA_LOSS;default:return V()}}(ie=$e||($e={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";var cT=null;function Yj(){return new TextEncoder}var Jj=new Ei([4294967295,4294967295],0);function uT(t){let e=Yj().encode(t),n=new Wb;return n.update(e),new Uint8Array(n.digest())}function lT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ei([n,r],0),new Ei([i,s],0)]}var gv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Di(`Invalid padding: ${n}`);if(r<0)throw new Di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Di(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Di(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ei.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ei.fromNumber(r)));return i.compare(Jj)===1&&(i=new Ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=uT(e),[r,i]=lT(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=uT(e),[r,i]=lT(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(z.min(),i,new Oe(ue),nr(),re())}},ic=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,re(),re(),re())}};var Bs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Gd=class{constructor(e,n){this.targetId=e,this.fe=n}},Wd=class{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Kd=class{constructor(){this.ge=0,this.pe=hT(),this.ye=It.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=re(),n=re(),r=re();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new ic(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=hT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ce(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},yv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=nr(),this.Qe=dT(),this.Ke=new Oe(ue)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(cv(s))if(r===0){let o=new O(s.path);this.We(n,o,fn.newNoDocument(o,z.min()))}else Ce(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}cT?.tt(function(l,d,h,f,_){var I,v,C,L,J,W;let ke={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},oe=d.unchangedNames;return oe&&(ke.bloomFilter={applied:_===0,hashCount:(I=oe?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(L=(C=(v=oe?.bits)===null||v===void 0?void 0:v.bitmap)===null||C===void 0?void 0:C.length)!==null&&L!==void 0?L:0,padding:(W=(J=oe?.bits)===null||J===void 0?void 0:J.padding)!==null&&W!==void 0?W:0,mightContain:Qe=>{var pn;return(pn=f?.mightContain(Qe))!==null&&pn!==void 0&&pn}}),ke}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Nr(r).toUint8Array()}catch(c){if(c instanceof Bd)return qs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new gv(o,i,s)}catch(c){return qs(c instanceof Di?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&cv(a.target)){let c=new O(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,fn.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=re();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new zd(e,n,this.Ke,this.qe,r);return this.qe=nr(),this.Qe=dT(),this.Ke=new Oe(ue),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Kd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new mt(ue),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||b("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Kd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function dT(){return new Oe(O.comparator)}function hT(){return new Oe(O.comparator)}var Zj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Xj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),eU=(()=>({and:"AND",or:"OR"}))(),vv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function _v(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tU(t,e){return Qd(t,e.toTimestamp())}function kn(t){return Ce(!!t),z.fromTimestamp(function(n){let r=Rr(n);return new ct(r.seconds,r.nanos)}(t))}function b_(t,e){return wv(t,e).canonicalString()}function wv(t,e){let n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WT(t){let e=qe.fromString(t);return Ce(ZT(e)),e}function Ev(t,e){return b_(t.databaseId,e.path)}function Oy(t,e){let n=WT(e);if(n.get(1)!==t.databaseId.projectId)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(QT(n))}function KT(t,e){return b_(t.databaseId,e)}function nU(t){let e=WT(t);return e.length===4?qe.emptyPath():QT(e)}function Iv(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QT(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fT(t,e,n){return{name:Ev(t,e),fields:n.value.mapValue.fields}}function rU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:V()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(Ce(l===void 0||typeof l=="string"),It.fromBase64String(l||"")):(Ce(l===void 0||l instanceof Uint8Array),It.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?w.UNKNOWN:zT(u.code);return new M(l,u.message||"")}(o);n=new Wd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Oy(t,r.document.name),s=kn(r.document.updateTime),o=r.document.createTime?kn(r.document.createTime):z.min(),a=new hn({mapValue:{fields:r.document.fields}}),c=fn.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Bs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Oy(t,r.document),s=r.readTime?kn(r.readTime):z.min(),o=fn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Oy(t,r.document),s=r.removedTargetIds||[];n=new Bs([],s,i,null)}else{if(!("filter"in e))return V();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new mv(i,s),a=r.targetId;n=new Gd(a,o)}}return n}function iU(t,e){let n;if(e instanceof Pi)n={update:fT(t,e.key,e.value)};else if(e instanceof qd)n={delete:Ev(t,e.key)};else if(e instanceof rr)n={update:fT(t,e.key,e.data),updateMask:fU(e.fieldMask)};else{if(!(e instanceof dv))return V();n={verify:Ev(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Zs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ri)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ni)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:tU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:V()}(t,e.precondition)),n}function sU(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?kn(i.updateTime):kn(s);return o.isEqual(z.min())&&(o=kn(s)),new lv(o,i.transformResults||[])}(n,e))):[]}function oU(t,e){return{documents:[KT(t,e.path)]}}function aU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KT(t,i);let s=function(u){if(u.length!==0)return JT(Ln.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Ls(h.field),direction:lU(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=_v(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function cU(t){let e=nU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=YT(d);return h instanceof Ln&&AT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(_){return new Qs(js(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,ph(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Ks(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Ks(f,h)}(n.endAt)),Pj(e,i,o,s,a,"F",c,u)}function uU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=js(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=js(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=js(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=js(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>YT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return V()}}(n.compositeFilter.op))}(t):V()}function lU(t){return Zj[t]}function dU(t){return Xj[t]}function hU(t){return eU[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function js(t){return kt.fromServerFormat(t.fieldPath)}function JT(t){return t instanceof Ke?function(n){if(n.op==="=="){if(Xb(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(Zb(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xb(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(Zb(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:dU(n.op),value:n.value}}}(t):t instanceof Ln?function(n){let r=n.getFilters().map(i=>JT(i));return r.length===1?r[0]:{compositeFilter:{op:hU(n.op),filters:r}}}(t):V()}function fU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var sc=class t{constructor(e,n,r,i,s=z.min(),o=z.min(),a=It.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Cv=class{constructor(e){this.ct=e}};function pU(t){let e=cU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uv(e,e.limit,"L"):e}var Yd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),tc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Nr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?bT(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):V()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),O.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Yd.bt=new Yd;var Dv=class{constructor(){this._n=new bv}addToCollectionParentIndex(e,n){return this._n.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(xi.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}},bv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(qe.comparator)).toArray()}};var G6=new Uint8Array(0);var Mn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);var oc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Tv=class{constructor(){this.changes=new Pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Sv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Av=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ec(r.mutation,i,Rn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){let i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ya();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=nr(),o=Xa(),a=function(){return Xa()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof rr)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),ec(l.mutation,u,l.mutation.getFieldMask(),ct.now())):o.set(u.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Sv(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Xa(),i=new Oe((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Rn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||re()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=FT();l.forEach(h=>{if(!s.has(h)){let f=HT(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return O.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Oj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(Ci()),a=-1,c=s;return o.next(u=>E.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,re())).next(l=>({batchId:a,changes:kT(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(r=>{let i=Ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ya();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,c=>{let u=function(d,h){return new Ys(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,fn.newInvalidDocument(l)))});let a=Ya();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&ec(l.mutation,u,Rn.empty(),ct.now()),gh(n,u)&&(a=a.insert(c,u))}),a})}};var xv=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return E.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}}(n)),E.resolve()}getNamedQuery(e,n){return E.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:pU(i.bundledQuery),readTime:kn(i.readTime)}}(n)),E.resolve()}};var Mv=class{constructor(){this.overlays=new Oe(O.comparator),this.hr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ci();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){let i=Ci(),s=n.length+1,o=new O(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Ci(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Ci(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return E.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pv(n,r));let s=this.hr.get(n);s===void 0&&(s=re(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var ac=class{constructor(){this.Pr=new mt(He.Ir),this.Tr=new mt(He.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new He(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new He(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new O(new qe([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new O(new qe([])),r=new He(n,e),i=new He(n,e+1),s=re();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new He(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return O.comparator(e.key,n.key)||ue(e.pr,n.pr)}static Er(e,n){return ue(e.pr,n.pr)||O.comparator(e.key,n.key)}};var Rv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new mt(He.Ir)}checkEmpty(e){return E.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new hv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(ue);return n.forEach(i=>{let s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),E.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;O.isDocumentKey(s)||(s=s.child(""));let o=new He(new O(s),0),a=new mt(ue);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),E.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return E.forEach(n.mutations,i=>{let s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new He(n,0),i=this.wr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,E.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Nv=class{constructor(e){this.vr=e,this.docs=function(){return new Oe(O.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=nr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fn.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=nr(),o=n.path,a=new O(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Dj(Cj(l),r)<=0||(i.has(l.key)||gh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){V()}Fr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Pv(this)}getSize(e){return E.resolve(this.size)}},Pv=class extends Tv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Ov=class{constructor(e){this.persistence=e,this.Mr=new Pr(n=>I_(n),C_),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ac,this.targetCount=0,this.Br=oc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),E.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new oc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.qn(n),E.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),E.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Nr.containsKey(n))}};var kv=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new CT(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ov(this),this.indexManager=new Dv,this.remoteDocumentCache=function(i){return new Nv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Cv(n),this.$r=new xv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Rv(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);let i=new Fv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return E.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},Fv=class extends Gy{constructor(e){super(),this.currentSequenceNumber=e}},Vv=class t{constructor(e){this.persistence=e,this.zr=new ac,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw V()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),E.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Jr,r=>{let i=O.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return E.or([()=>E.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Lv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=re(),i=re();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var jv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Uv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return QC()?8:jd.v(dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new jv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Qa()<=ne.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),E.resolve()):(Qa()<=ne.DEBUG&&b("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Qa()<=ne.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(n))):E.resolve())}ji(e,n){if(rT(n))return E.resolve(null);let r=On(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uv(n,null,"F"),r=On(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=re(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,uv(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return rT(n)||i.isEqual(z.min())?E.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?E.resolve(null):(Qa()<=ne.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(n)),this.es(e,o,n,Ij(i,-1)).next(a=>a))})}Zi(e,n){let r=new mt(PT(e));return n.forEach((i,s)=>{gh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Qa()<=ne.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.zi.getDocumentsMatchingQuery(e,n,xi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Bv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Oe(ue),this.rs=new Pr(s=>I_(s),C_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Av(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function mU(t,e,n,r){return new Bv(t,e,n,r)}function XT(t,e){return g(this,null,function*(){let n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=re();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function gU(t,e){let n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=E.resolve();return h.forEach(_=>{f=f.next(()=>l.getEntry(c,_)).next(I=>{let v=u.docVersions.get(_);Ce(v!==null),I.version.compareTo(v)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),l.addEntry(I)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eS(t){let e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function yU(t,e){let n=G(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(It.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(I,v,C){return I.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=nr(),u=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(vU(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(z.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function vU(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=nr();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(z.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function _U(t,e){let n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wU(t,e){let n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new sc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function $v(t,e,n){return g(this,null,function*(){let r=G(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!pc(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function pT(t,e,n){let r=G(t),i=z.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=G(c),h=d.rs.get(l);return h!==void 0?E.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,On(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:re())).next(a=>(EU(r,Fj(e),a),{documents:a,hs:s})))}function EU(t,e,n){let r=t.ss.get(e)||z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Jd=class{constructor(){this.activeTargetIds=$j()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Hv=class{constructor(){this.no=new Jd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Jd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var qv=class{io(e){}shutdown(){}};var Zd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pd=null;function ky(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}var IU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var zv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var pt="WebChannelConnection",Gv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=ky(),c=this.bo(n,r.toUriEncodedString());b("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(b("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw qs("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=IU[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=ky();return new Promise((o,a)=>{let c=new Gb;c.setWithCredentials(!0),c.listenOnce(qb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Rd.NO_ERROR:let l=c.getResponseJson();b(pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Rd.TIMEOUT:b(pt,`RPC '${e}' ${s} timed out`),a(new M(w.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:let d=c.getStatus();if(b(pt,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let _=function(v){let C=v.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(C)>=0?C:w.UNKNOWN}(f.status);a(new M(_,f.message))}else a(new M(w.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new M(w.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{b(pt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);b(pt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=ky(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$b(),a=Hb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");b(pt,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,_=new zv({lo:v=>{f?b(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(b(pt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(pt,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},ho:()=>d.close()}),I=(v,C,L)=>{v.listen(C,J=>{try{L(J)}catch(W){setTimeout(()=>{throw W},0)}})};return I(d,Ka.EventType.OPEN,()=>{f||b(pt,`RPC '${e}' stream ${i} transport opened.`)}),I(d,Ka.EventType.CLOSE,()=>{f||(f=!0,b(pt,`RPC '${e}' stream ${i} transport closed`),_.Vo())}),I(d,Ka.EventType.ERROR,v=>{f||(f=!0,qs(pt,`RPC '${e}' stream ${i} transport errored:`,v),_.Vo(new M(w.UNAVAILABLE,"The operation could not be completed")))}),I(d,Ka.EventType.MESSAGE,v=>{var C;if(!f){let L=v.data[0];Ce(!!L);let J=L,W=J.error||((C=J[0])===null||C===void 0?void 0:C.error);if(W){b(pt,`RPC '${e}' stream ${i} received error:`,W);let ke=W.status,oe=function(kr){let Fi=$e[kr];if(Fi!==void 0)return zT(Fi)}(ke),Qe=W.message;oe===void 0&&(oe=w.INTERNAL,Qe="Unknown error status: "+ke+" with message "+W.message),f=!0,_.Vo(new M(oe,Qe)),d.close()}else b(pt,`RPC '${e}' stream ${i} received:`,L),_.mo(L)}}),I(a,zb.STAT_EVENT,v=>{v.stat===Py.PROXY?b(pt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Py.NOPROXY&&b(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.Ro()},0),_}};function Fy(){return typeof document<"u"?document:null}function yh(t){return new vv(t,!0)}var Xd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var eh=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Xd(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return g(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return g(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return g(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===w.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new M(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>g(this,null,function*(){this.state=0,this.start()}))}__(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Wv=class extends eh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=rU(this.serializer,e),r=function(s){if(!("targetChange"in s))return z.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?z.min():o.readTime?kn(o.readTime):z.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=Iv(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=cv(c)?{documents:oU(s,c)}:{query:aU(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GT(s,o.resumeToken);let u=_v(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(z.min())>0){a.readTime=Qd(s,o.snapshotVersion.toTimestamp());let u=_v(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=uU(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=Iv(this.serializer),n.removeTarget=e,this.t_(n)}},Kv=class extends eh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=sU(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.T_(r,n)}return Ce(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=Iv(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>iU(this.serializer,r))};this.t_(n)}};var Qv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,wv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(w.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,wv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(w.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Yv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Fn(n),this.g_=!1):b("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Jv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>g(this,null,function*(){Oi(this)&&(b("RemoteStore","Restarting streams for network reachability change."),yield function(c){return g(this,null,function*(){let u=G(c);u.v_.add(4),yield mc(u),u.x_.set("Unknown"),u.v_.delete(4),yield vh(u)})}(this))}))}),this.x_=new Yv(r,i)}};function vh(t){return g(this,null,function*(){if(Oi(t))for(let e of t.F_)yield e(!0)})}function mc(t){return g(this,null,function*(){for(let e of t.F_)yield e(!1)})}function tS(t,e){let n=G(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),A_(n)?S_(n):so(n).Jo()&&T_(n,e))}function nS(t,e){let n=G(t),r=so(n);n.C_.delete(e),r.Jo()&&rS(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Oi(n)&&n.x_.set("Unknown"))}function T_(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).c_(e)}function rS(t,e){t.O_.Oe(e),so(t).l_(e)}function S_(t){t.O_=new yv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),so(t).start(),t.x_.p_()}function A_(t){return Oi(t)&&!so(t).Ho()&&t.C_.size>0}function Oi(t){return G(t).v_.size===0}function iS(t){t.O_=void 0}function CU(t){return g(this,null,function*(){t.C_.forEach((e,n)=>{T_(t,e)})})}function DU(t,e){return g(this,null,function*(){iS(t),A_(t)?(t.x_.S_(e),S_(t)):t.x_.set("Unknown")})}function bU(t,e,n){return g(this,null,function*(){if(t.x_.set("Online"),e instanceof Wd&&e.state===2&&e.cause)try{yield function(i,s){return g(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield th(t,r)}else if(e instanceof Bs?t.O_.$e(e):e instanceof Gd?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(z.min()))try{let r=yield eS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(It.EMPTY_BYTE_STRING,l.snapshotVersion)),rS(s,c);let d=new sc(l.target,c,u,l.sequenceNumber);T_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield th(t,r)}})}function th(t,e,n){return g(this,null,function*(){if(!pc(e))throw e;t.v_.add(1),yield mc(t),t.x_.set("Offline"),n||(n=()=>eS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>g(this,null,function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield vh(t)}))})}function sS(t,e){return e().catch(n=>th(t,n,e))}function _h(t){return g(this,null,function*(){let e=G(t),n=Or(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;TU(e);)try{let i=yield _U(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,SU(e,i)}catch(i){yield th(e,i)}oS(e)&&aS(e)})}function TU(t){return Oi(t)&&t.D_.length<10}function SU(t,e){t.D_.push(e);let n=Or(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function oS(t){return Oi(t)&&!Or(t).Ho()&&t.D_.length>0}function aS(t){Or(t).start()}function AU(t){return g(this,null,function*(){Or(t).d_()})}function xU(t){return g(this,null,function*(){let e=Or(t);for(let n of t.D_)e.I_(n.mutations)})}function MU(t,e,n){return g(this,null,function*(){let r=t.D_.shift(),i=fv.from(r,e,n);yield sS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _h(t)})}function RU(t,e){return g(this,null,function*(){e&&Or(t).P_&&(yield function(r,i){return g(this,null,function*(){if(function(o){return Qj(o)&&o!==w.ABORTED}(i.code)){let s=r.D_.shift();Or(r).Zo(),yield sS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield _h(r)}})}(t,e)),oS(t)&&aS(t)})}function mT(t,e){return g(this,null,function*(){let n=G(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");let r=Oi(n);n.v_.add(3),yield mc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield vh(n)})}function NU(t,e){return g(this,null,function*(){let n=G(t);e?(n.v_.delete(2),yield vh(n)):e||(n.v_.add(2),yield mc(n),n.x_.set("Unknown"))})}function so(t){return t.N_||(t.N_=function(n,r,i){let s=G(n);return s.R_(),new Wv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:CU.bind(null,t),To:DU.bind(null,t),u_:bU.bind(null,t)}),t.F_.push(e=>g(this,null,function*(){e?(t.N_.Zo(),A_(t)?S_(t):t.x_.set("Unknown")):(yield t.N_.stop(),iS(t))}))),t.N_}function Or(t){return t.B_||(t.B_=function(n,r,i){let s=G(n);return s.R_(),new Kv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:AU.bind(null,t),To:RU.bind(null,t),E_:xU.bind(null,t),T_:MU.bind(null,t)}),t.F_.push(e=>g(this,null,function*(){e?(t.B_.Zo(),yield _h(t)):(yield t.B_.stop(),t.D_.length>0&&(b("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var Zv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function x_(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),pc(t))return new M(w.UNAVAILABLE,`${e}: ${t}`);throw t}var nh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=Ya(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var rh=class{constructor(){this.L_=new Oe(O.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):V():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},to=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,nh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Xv=class{constructor(){this.q_=void 0,this.Q_=[]}},e_=class{constructor(){this.queries=new Pr(e=>NT(e),mh),this.onlineState="Unknown",this.K_=new Set}};function PU(t,e){return g(this,null,function*(){let n=G(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Xv),i)try{s.q_=yield n.onListen(r)}catch(o){let a=x_(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&M_(n)})}function OU(t,e){return g(this,null,function*(){let n=G(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function kU(t,e){let n=G(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&M_(n)}function FU(t,e,n){let r=G(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function M_(t){t.K_.forEach(e=>{e.next()})}var t_=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new to(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var ih=class{constructor(e){this.key=e}},sh=class{constructor(e){this.key=e}},n_=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=re(),this.mutatedKeys=re(),this.ua=PT(e),this.ca=new nh(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new rh,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=gh(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),I=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;h&&f?h.data.isEqual(f.data)?_!==I&&(r.track({type:3,doc:f}),v=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),v=!0,(c&&this.ua(f,c)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(f?(o=o.add(f),s=I?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(f,_){let I=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return I(f)-I(_)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new to(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new rh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=re(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new sh(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new ih(r))}),n}Ra(e){this.oa=e.hs,this.aa=re();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return to.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},r_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},i_=class{constructor(e){this.key=e,this.ma=!1}},s_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Pr(a=>NT(a),mh),this.pa=new Map,this.ya=new Set,this.wa=new Oe(O.comparator),this.Sa=new Map,this.ba=new ac,this.Da={},this.Ca=new Map,this.va=oc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function VU(t,e){return g(this,null,function*(){let n=WU(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield wU(n.localStore,On(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield LU(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&tS(n.remoteStore,o)}return i})}function LU(t,e,n,r,i){return g(this,null,function*(){t.Ma=(d,h,f)=>function(I,v,C,L){return g(this,null,function*(){let J=v.view.ha(C);J.Xi&&(J=yield pT(I.localStore,v.query,!1).then(({documents:Qe})=>v.view.ha(Qe,J)));let W=L&&L.targetChanges.get(v.targetId),ke=L&&L.targetMismatches.get(v.targetId)!=null,oe=v.view.applyChanges(J,I.isPrimaryClient,W,ke);return yT(I,v.targetId,oe.da),oe.snapshot})}(t,d,h,f);let s=yield pT(t.localStore,e,!0),o=new n_(e,s.hs),a=o.ha(s.documents),c=ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);yT(t,n,u.da);let l=new r_(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function jU(t,e){return g(this,null,function*(){let n=G(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!mh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $v(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nS(n.remoteStore,r.targetId),o_(n,r.targetId)}).catch(fc))):(o_(n,r.targetId),yield $v(n.localStore,r.targetId,!0))})}function UU(t,e,n){return g(this,null,function*(){let r=KU(t);try{let i=yield function(o,a){let c=G(o),u=ct.now(),l=a.reduce((f,_)=>f.add(_.key),re()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let _=nr(),I=re();return c.os.getEntries(f,l).next(v=>{_=v,_.forEach((C,L)=>{L.isValidDocument()||(I=I.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,_)).next(v=>{d=v;let C=[];for(let L of a){let J=Kj(L,d.get(L.key).overlayedDocument);J!=null&&C.push(new rr(L.key,J,TT(J.value.mapValue),Si.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,C,a)}).next(v=>{h=v;let C=v.applyToLocalDocumentSet(d,I);return c.documentOverlayCache.saveOverlays(f,v.batchId,C)})}).then(()=>({batchId:h.batchId,changes:kT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new Oe(ue)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield gc(r,i.changes),yield _h(r.remoteStore)}catch(i){let s=x_(i,"Failed to persist write");n.reject(s)}})}function cS(t,e){return g(this,null,function*(){let n=G(t);try{let r=yield yU(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Ce(o.ma):i.removedDocuments.size>0&&(Ce(o.ma),o.ma=!1))}),yield gc(n,r,e)}catch(r){yield fc(r)}})}function gT(t,e,n){let r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=G(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&M_(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BU(t,e,n){return g(this,null,function*(){let r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Oe(O.comparator);o=o.insert(s,fn.newNoDocument(s,z.min()));let a=re().add(s),c=new zd(z.min(),new Map,new Oe(ue),o,a);yield cS(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),R_(r)}else yield $v(r.localStore,e,!1).then(()=>o_(r,e,n)).catch(fc)})}function $U(t,e){return g(this,null,function*(){let n=G(t),r=e.batch.batchId;try{let i=yield gU(n.localStore,e);lS(n,r,null),uS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield gc(n,i)}catch(i){yield fc(i)}})}function HU(t,e,n){return g(this,null,function*(){let r=G(t);try{let i=yield function(o,a){let c=G(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ce(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);lS(r,e,n),uS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield gc(r,i)}catch(i){yield fc(i)}})}function uS(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function lS(t,e,n){let r=G(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function o_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||dS(t,r)})}function dS(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(nS(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),R_(t))}function yT(t,e,n){for(let r of n)r instanceof ih?(t.ba.addReference(r.key,e),qU(t,r)):r instanceof sh?(b("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||dS(t,r.key)):V()}function qU(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(b("SyncEngine","New document in limbo: "+n),t.ya.add(r),R_(t))}function R_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new O(qe.fromString(e)),r=t.va.next();t.Sa.set(r,new i_(n)),t.wa=t.wa.insert(n,r),tS(t.remoteStore,new sc(On(D_(n.path)),r,"TargetPurposeLimboResolution",CT._e))}}function gc(t,e,n){return g(this,null,function*(){let r=G(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Lv.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return g(this,null,function*(){let l=G(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(u,h=>E.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!pc(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),_=f.snapshotVersion,I=f.withLastLimboFreeSnapshotVersion(_);l.ns=l.ns.insert(h,I)}}})}(r.localStore,s))})}function zU(t,e){return g(this,null,function*(){let n=G(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());let r=yield XT(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new M(w.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gc(n,r.us)}})}function GU(t,e){let n=G(t),r=n.Sa.get(e);if(r&&r.ma)return re().add(r.key);{let i=re(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function WU(t){let e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BU.bind(null,e),e.fa.u_=kU.bind(null,e.eventManager),e.fa.xa=FU.bind(null,e.eventManager),e}function KU(t){let e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$U.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HU.bind(null,e),e}var oh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return g(this,null,function*(){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mU(this.persistence,new Uv,e.initialUser,this.serializer)}createPersistence(e){return new kv(Vv.Hr,this.serializer)}createSharedClientState(e){return new Hv}terminate(){return g(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var a_=class{initialize(e,n){return g(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zU.bind(null,this.syncEngine),yield NU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new e_}()}createDatastore(e){let n=yh(e.databaseInfo.databaseId),r=function(s){return new Gv(s)}(e.databaseInfo);return function(s,o,a,c){return new Qv(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Jv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gT(this.syncEngine,n,0),function(){return Zd.D()?new Zd:new qv}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new s_(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return g(this,null,function*(){var e;yield function(r){return g(this,null,function*(){let i=G(r);b("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield mc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var c_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var u_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=Vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>g(this,null,function*(){b("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(b("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=x_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Vy(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>g(this,null,function*(){r.isEqual(i)||(yield XT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function vT(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield YU(t);b("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mT(e.remoteStore,i)),t._onlineComponents=e})}function QU(t){return t.name==="FirebaseError"?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function YU(t){return g(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!QU(n))throw n;qs("Error using user provided cache. Falling back to memory cache: "+n),yield Vy(t,new oh)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Vy(t,new oh);return t._offlineComponents})}function hS(t){return g(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield vT(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield vT(t,new a_))),t._onlineComponents})}function JU(t){return hS(t).then(e=>e.syncEngine)}function _T(t){return g(this,null,function*(){let e=yield hS(t),n=e.eventManager;return n.onListen=VU.bind(null,e.syncEngine),n.onUnlisten=jU.bind(null,e.syncEngine),n})}function fS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var wT=new Map;function ZU(t,e,n){if(!n)throw new M(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XU(t,e,n,r){if(e===!0&&r===!0)throw new M(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ET(t){if(!O.isDocumentKey(t))throw new M(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":V()}function $s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=N_(t);throw new M(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ah=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new M(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new M(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ah({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ah(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ly;switch(r.type){case"firstParty":return new $y(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=wT.get(n);r&&(b("ComponentProvider","Removing Datastore"),wT.delete(n),r.terminate())}(this),Promise.resolve()}};function pS(t,e,n,r={}){var i;let s=(t=$s(t,cc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=et.MOCK_USER;else{a=zC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new M(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new et(u)}t._authCredentials=new jy(new Fd(a,c))}}var ch=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Kt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},uc=class t extends ch{constructor(e,n,r){super(e,n,D_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new O(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function mS(t,e,...n){if(t=un(t),arguments.length===1&&(e=Vd.newId()),ZU("doc","path",e),t instanceof cc){let r=qe.fromString(e,...n);return ET(r),new Kt(t,null,new O(r))}{if(!(t instanceof Kt||t instanceof uc))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return ET(r),new Kt(t.firestore,t instanceof uc?t.converter:null,new O(r))}}var l_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Xd(this,"async_queue_retry"),this._u=()=>{let n=Fy();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Fy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Nn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return g(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!pc(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=Zv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&V()}verifyOperationInProgress(){}hu(){return g(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function IT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var no=class extends cc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new l_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vS(this),this._firestoreClient.terminate()}};function gS(t,e){let n=typeof t=="object"?t:_a(),r=typeof t=="string"?t:e||"(default)",i=bg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=HC("firestore");s&&pS(i,...s)}return i}function yS(t){return t._firestoreClient||vS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Yy(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,fS(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new u_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var lc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(It.fromBase64String(e))}catch(n){throw new M(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var dc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new M(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var uh=class{constructor(e){this._methodName=e}};var hc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}};var eB=/^__.*__$/,d_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pi(e,this.data,n,this.fieldTransforms)}};function _S(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}var h_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return lh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(_S(this.du)&&eB.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},f_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yh(e)}Su(e,n,r,i=!1){return new h_({du:e,methodName:n,wu:r,path:kt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tB(t){let e=t._freezeSettings(),n=yh(t._databaseId);return new f_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nB(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);CS("Data must be an object, but it was:",o,r);let a=ES(r,o),c,u;if(s.merge)c=new Rn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=rB(e,d,n);if(!o.contains(h))throw new M(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sB(l,h)||l.push(h)}c=new Rn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new d_(new hn(a),c,u)}function wS(t,e){if(IS(t=un(t)))return CS("Unsupported field value:",e,t),ES(t,e);if(t instanceof uh)return function(r,i){if(!_S(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=wS(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ct.fromDate(r);return{timestampValue:Qd(i.serializer,s)}}if(r instanceof ct){let s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(i.serializer,s)}}if(r instanceof hc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lc)return{bytesValue:GT(i.serializer,r._byteString)};if(r instanceof Kt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${N_(r)}`)}(t,e)}function ES(t,e){let n={};return DT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(r,i)=>{let s=wS(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof hc||t instanceof lc||t instanceof Kt||t instanceof uh)}function CS(t,e,n){if(!IS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=N_(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function rB(t,e,n){if((e=un(e))instanceof dc)return e._internalPath;if(typeof e=="string")return DS(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}var iB=new RegExp("[~\\*/\\[\\]]");function DS(t,e,n){if(e.search(iB)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dc(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new M(w.INVALID_ARGUMENT,a+t+c)}function sB(t,e){return t.some(n=>n.isEqual(e))}var dh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new p_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(bS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},p_=class extends dh{data(){return super.data()}};function bS(t,e){return typeof e=="string"?DS(t,e):e instanceof dc?e._internalPath:e._delegate._internalPath}function oB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new M(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var m_=class{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return io(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new hc(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=w_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){let n=Rr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=qe.fromString(e);Ce(ZT(r));let i=new $d(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||Fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function aB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var bi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hh=class extends dh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(bS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Hs=class extends hh{data(e={}){return super.data(e)}},g_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hs(this._firestore,this._userDataWriter,r.key,r,new bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:cB(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function cB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}var fh=class extends m_{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}};function TS(t,e,n){t=$s(t,Kt);let r=$s(t.firestore,no),i=aB(t.converter,e,n);return uB(r,[nB(tB(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Si.none())])}function P_(t,...e){var n,r,i;t=un(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||IT(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(IT(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof Kt)u=$s(t.firestore,no),l=D_(t._key.path),c={next:d=>{e[o]&&e[o](lB(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=$s(t,ch);u=$s(d.firestore,no),l=d._query;let h=new fh(u);c={next:f=>{e[o]&&e[o](new g_(u,h,d,f))},error:e[o+1],complete:e[o+2]},oB(t._query)}return function(h,f,_,I){let v=new c_(I),C=new t_(f,v,_);return h.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return PU(yield _T(h),C)})),()=>{v.La(),h.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return OU(yield _T(h),C)}))}}(yS(u),l,a,c)}function uB(t,e){return function(r,i){let s=new Nn;return r.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return UU(yield JU(r),i,s)})),s.promise}(yS(t),e)}function lB(t,e,n){let r=n.docs.get(e._key),i=new fh(t);return new hh(t,i,e._key,r,new bi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ro=i})(As),Tr(new Gt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new no(new Uy(r.getProvider("auth-internal")),new qy(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new M(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Je(Kb,"4.4.2",e),Je(Kb,"4.4.2","esm2017")})();var wh=function(){return wh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wh.apply(this,arguments)};var fB={includeMetadataChanges:!1};function SS(t,e){return e===void 0&&(e=fB),new K(function(n){var r=P_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function AS(t){return SS(t,{includeMetadataChanges:!0})}function xS(t,e){return e===void 0&&(e={}),AS(t).pipe(H(function(n){return MS(n,e)}))}function MS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:wh(wh({},r),(n={},n[e.idField]=t.id,n))}var ki=class{constructor(e){return e}},RS="firestore",O_=class{constructor(){return Ea(RS)}};var k_=new x("angularfire2.firestore-instances");function pB(t,e){let n=Ag(RS,t,e);return n&&new ki(n)}function mB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ki(r)}}var gB={provide:O_,deps:[[new In,k_]]},yB={provide:ki,useFactory:pB,deps:[[new In,k_],pi]},vB=(()=>{class t{constructor(){Je("angularfire",Ms.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mt({type:t});static \u0275inj=xt({providers:[yB,gB]})}return t})();function NS(t,...e){return{ngModule:vB,providers:[{provide:k_,useFactory:mB(t),multi:!0,deps:[ge,nn,Ia,Ca,[new In,nd],[new In,wa],...e]}]}}var PS=Sr(xS,!0);var F_=Sr(mS,!0);var OS=Sr(gS,!0);var kS=Sr(TS,!0);var Eh=(()=>{let e=class e{constructor(){this.url="https://script.google.com/macros/s/AKfycbxPgcff46jONx9cQJkE_Ypbo2NDDulxkDfVI3K0TB1kIa3BUR6MLql4PTkgLb4x4gBcGg/exec?",this.http=T(Xp)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jn=(()=>{let e=class e extends Eh{constructor(r){super(),this.firestore=r,this.subject=new tt,this.$inventory=new Me([]),this.$workloadTransactions=new Me([])}firestoreDocToBehaviorSubject(r,i,s){PS(F_(this.firestore,r)).subscribe(o=>{o&&s.next(JSON.parse(o[i]))})}deleteWorkloadTrans(r){let i=this.$workloadTransactions.getValue(),s=JSON.stringify(i.filter(o=>o.id!=r))}doGet(r){return this.http.get(this.url+r)}setFirebaseDoc(r,i){return kS(F_(this.firestore,r),i)}doPost(r,i,s){let o=this.http.post(this.url+"sheetName="+r+"&method="+i,JSON.stringify(s));return co(o)}getUtils(){let r=this.doGet("utils=true").pipe(Ft(1));return co(r).then(i=>i)}getNextTally(r,i){let s=this.doGet(r).pipe(H(o=>o.reduce((a,c)=>{let u=c;if(new Date(u.Date).toLocaleDateString()==new Date().toLocaleDateString()&&u.Cartegory==i){let l=parseInt(u.tallyNo.replace(/\D/g,""));return l>a?l:a}return a},0)));return co(s).then(o=>o+1)}saveOutpatient(r){this.doPost("outpatients","update",[r])}};e.\u0275fac=function(i){return new(i||e)(P(ki))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wB=["billTimein"],EB=["billTimeout"],IB=["dispenseTimein"],CB=["dispenseTimeout"],Ih=(()=>{let e=class e{constructor(r){this.service=r,this.onModalClose=new Ve,this.newDate=new Date}ngOnInit(){}ngAfterViewInit(){switch(this.activeRow.editField){case"billTimein":this.billStart.nativeElement.value=new Date().toLocaleString(),this.billStart.nativeElement.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.billStart.nativeElement.focus();break;case"billTimeout":this.billEnd.nativeElement.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.billEnd.nativeElement.focus();break;case"dispenseTimein":this.dispStart.nativeElement.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.dispStart.nativeElement.focus();break;case"dispenseTimeout":this.dispEnd.nativeElement.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.dispEnd.nativeElement.focus();break}}save(r){this.service.saveOutpatient(this.activeRow.prescription);let i=r.target;i.disabled=!0,this.close()}close(){this.onModalClose.emit(!0)}};e.\u0275fac=function(i){return new(i||e)(Y(jn))},e.\u0275cmp=we({type:e,selectors:[["app-time-edit-modal"]],viewQuery:function(i,s){if(i&1&&(ii(wB,5),ii(EB,5),ii(IB,5),ii(CB,5)),i&2){let o;yr(o=vr())&&(s.billStart=o.first),yr(o=vr())&&(s.billEnd=o.first),yr(o=vr())&&(s.dispStart=o.first),yr(o=vr())&&(s.dispEnd=o.first)}},inputs:{activeRow:"activeRow"},outputs:{onModalClose:"onModalClose"},standalone:!0,features:[Ee],decls:59,vars:16,consts:[["tabindex","-1",1,"app-modal-backdrop"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"height","60px","overflow-y","auto"],["action",""],[1,"py-2"],["for","",1,"me-2"],["type","datetime-local","name","billStart",1,"form-control",3,"ngModel","ngModelChange"],["billTimein",""],[1,"btn","btn-primary","ms-3",3,"click"],["type","datetime-local","name","billEnd",1,"form-control",3,"ngModel","ngModelChange"],["billTimeout",""],["type","datetime-local","name","dispenseStart",1,"form-control",3,"ngModel","ngModelChange"],["dispenseTimein",""],["type","datetime-local","name","dispenseEnd",1,"form-control",3,"ngModel","ngModelChange"],["dispenseTimeout",""],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,s){i&1&&(se(0,"div",0),m(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),y(5,"Update Process"),p(),m(6,"button",5),F("click",function(){return s.close()}),p()(),m(7,"div",6)(8,"form",7)(9,"table")(10,"tr",8)(11,"th")(12,"label",9),y(13,"Billing Start: "),p()(),m(14,"td",8)(15,"input",10,11),F("ngModelChange",function(a){return s.activeRow.prescription.billStart=a}),We(17,"date"),p()(),m(18,"td")(19,"button",12),F("click",function(){return s.activeRow.prescription.billStart=s.newDate}),y(20,"Now"),p()()(),m(21,"tr",8)(22,"th")(23,"label",9),y(24,"Billing End: "),p()(),m(25,"td",8)(26,"input",13,14),F("ngModelChange",function(a){return s.activeRow.prescription.billEnd=a}),We(28,"date"),p()(),m(29,"td")(30,"button",12),F("click",function(){return s.activeRow.prescription.billEnd=s.newDate}),y(31,"Now"),p()()(),m(32,"tr",8)(33,"th")(34,"label",9),y(35," Dispense Start: "),p()(),m(36,"td",8)(37,"input",15,16),F("ngModelChange",function(a){return s.activeRow.prescription.dispensStart=a}),We(39,"date"),p()(),m(40,"td")(41,"button",12),F("click",function(){return s.activeRow.prescription.dispenseStart=s.newDate}),y(42,"Now"),p()()(),m(43,"tr",8)(44,"th")(45,"label",9),y(46,"Dispense End: "),p()(),m(47,"td",8)(48,"input",17,18),F("ngModelChange",function(a){return s.activeRow.prescription.dispenseEnd=a}),We(50,"date"),p()(),m(51,"td")(52,"button",12),F("click",function(){return s.activeRow.prescription.dispenseEnd=s.newDate}),y(53,"Now"),p()()()()()(),m(54,"div",19)(55,"button",20),F("click",function(){return s.close()}),y(56,"Close"),p(),m(57,"button",21),F("click",function(a){return s.save(a)}),y(58,"Save changes"),p()()()()),i&2&&(A(15),Ae("ngModel",st(17,4,s.activeRow.prescription.billStart,"yyyy-MM-ddThh:mm")),A(11),Ae("ngModel",st(28,7,s.activeRow.prescription.billEnd,"yyyy-MM-ddThh:mm")),A(11),Ae("ngModel",st(39,10,s.activeRow.prescription.dispenseStart,"yyyy-MM-ddThh:mm")),A(11),Ae("ngModel",st(50,13,s.activeRow.prescription.dispenseEnd,"yyyy-MM-ddThh:mm")))},dependencies:[kl,Ol,Ts,Rl,Nl,ma,pa,_r],styles:[".app-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:1}.modal-dialog[_ngcontent-%COMP%]{z-index:3;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:500px;height:auto;border:olive 1px solid;background-color:#fff;border-radius:5px;padding:20px}"]});let t=e;return t})();var DB=["osDialog"];function bB(t,e){if(t&1){let n=Re();m(0,"tr")(1,"td"),y(2),p(),m(3,"td",20),y(4),p(),m(5,"td"),y(6),p(),m(7,"td")(8,"input",21),F("change",function(i){Te(n);let s=q();return Se(s.updateSubstitute(i))}),p()(),m(9,"td")(10,"i",22),F("click",function(){let s=Te(n).$index,o=q();return Se(o.osList.splice(s,1))}),p()()()}if(t&2){let n=e.$implicit,r=e.$index;A(2),de(r+1),A(2),de(n.GenericDescription),A(2),de(n.BrandName?n.BrandName:"Generic")}}function TB(t,e){if(t&1){let n=Re();m(0,"li",23),F("click",function(){let s=Te(n).$implicit,o=q();return Se(o.onInventoryDropdownClick(s))}),m(1,"a")(2,"span",24),y(3),p(),m(4,"span"),y(5),p()()()}if(t&2){let n=e.$implicit;A(3),de(n.Code+" "+n.GenericDescription),A(2),de(n.BrandName?" "+n.BrandName:"")}}function SB(t,e){t&1&&(m(0,"li"),y(1,"Loading ..."),p())}function AB(t,e){if(t&1){let n=Re();m(0,"button",25),F("click",function(i){Te(n);let s=q();return Se(s.save(i))}),y(1,"Save New"),p()}}function xB(t,e){t&1&&(m(0,"button",26),y(1,"Saving ..."),p())}var Ch=(()=>{let e=class e{constructor(r,i){this.appService=r,this.el=i,this.osList=[],this.billStart=new Date,this.itemsSubstituted=0,this.saving=!1,this.inventory=[],this.filteredInventory=[],this.invetoryFetching=!0,this.onModalClose=new Ve,this.fetchInventory()}ngOnInit(){this.searchInput=document.getElementById("searchbox")}fetchInventory(){this.invetoryFetching=!0,this.appService.$inventory.subscribe(r=>{this.inventory=r,this.filteredInventory=r,this.invetoryFetching=!1})}filterInventory(){let r=this.searchInput.value;this.filteredInventory=this.inventory.filter(i=>{let s=new RegExp("^"+r+"| "+r+"|\\("+r,"i");return!!(s.test(i.Code)||s.test(i.BrandName)||s.test(i.GenericDescription))})}updateSubstitute(r){r.target.checked?this.itemsSubstituted+=1:this.itemsSubstituted-=1}save(r){return g(this,null,function*(){this.saving=!0;let i=yield this.appService.getUtils(),s=this.tallyPrefix+(yield this.appService.getNextTally("sheetName=outpatients",this.cartegory)),o=this.itemsOrdered-this.osList.length+this.itemsSubstituted,a=o/this.itemsOrdered*100,c=[{id:i.id,Date:i.timestamp,Cartegory:this.cartegory,tallyNo:s,noOfDocs:this.numberOfDocs,itemsOrdered:this.itemsOrdered,itemsOs:this.osList.length||0,osSubstituted:this.itemsSubstituted,itemsIssued:o,fillRatePercent:a,billStart:this.billStart}];yield this.appService.doPost("outpatients","create",c),this.saving=!1,this.onModalClose.emit()})}onSearchClick(){this.osDialog.nativeElement.show()}onInventoryDropdownClick(r){this.osList.push(r),this.searchInput.value=""}close(){this.onModalClose.emit(!0)}};e.\u0275fac=function(i){return new(i||e)(Y(jn),Y(Ut))},e.\u0275cmp=we({type:e,selectors:[["app-prescriptions-new"]],viewQuery:function(i,s){if(i&1&&ii(DB,7),i&2){let o;yr(o=vr())&&(s.osDialog=o.first)}},inputs:{cartegory:"cartegory",tallyPrefix:"tallyPrefix"},outputs:{onModalClose:"onModalClose"},standalone:!0,features:[Ee],decls:45,vars:4,consts:[[1,"modal-dialog"],["action","","method","post",1,"modal-content"],[1,"modal-header"],["id","addNewModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3","d-inline-flex","align-items-center"],["for","no-of-docs",1,"mx-2","form-label"],["required","","min","1","type","number","name","number-of-docs","id","number-of-docs","onclick","this.select()",1,"form-control",2,"width","150px",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],["for","no-of-items",1,"mx-2","form-label"],["required","","min","1","type","number","name","number-of-items","id","number-of-items","onclick","this.select()",1,"form-control",2,"width","150px",3,"ngModel","ngModelChange"],[1,"mb-3"],[1,"table","table-striped","bg-light"],[1,"dropdown"],["id","searchbox","data-bs-toggle","dropdown","autocomplete","false","placeholder","search and select os item(s)",1,"dropdown-toggle","form-control",3,"input"],["aria-expanded","false",1,"dropdown-menu",2,"width","100%","height","300px","overflow","auto"],[1,"modal-footer"],["type","button","class","btn btn-primary"],[1,"app-modal-backdrop"],[1,"text-wrap",2,"width","300px"],["type","checkbox","name","","id","",3,"change"],["title","Remove Row","role","banner","id","deleteOs",1,"bi","bi-trash",3,"click"],["role","button",1,"dropdown-item",3,"click"],[1,"text-wrap"],["type","button",1,"btn","btn-primary",3,"click"],["disabled","disabled",1,"btn","btn-primary"],["class","dropdown-item ","role","button"]],template:function(i,s){i&1&&(m(0,"div")(1,"div",0)(2,"form",1)(3,"div",2)(4,"h5",3),y(5,"Add new"),p(),m(6,"button",4),F("click",function(){return s.close()}),p()(),m(7,"div",5)(8,"div",6)(9,"label",7),y(10,"No. of Doc(s)"),p(),m(11,"input",8),F("ngModelChange",function(a){return s.numberOfDocs=a}),p(),m(12,"div",9),y(13,"This field is required"),p()(),m(14,"div",6)(15,"label",10),y(16,"No. of Item(s) Ordered"),p(),m(17,"input",11),F("ngModelChange",function(a){return s.itemsOrdered=a}),p(),m(18,"div",9),y(19,"This field is required"),p()(),m(20,"p",12),y(21,"Add out of stock item(s) below and indicate is subsitituted: "),p(),m(22,"table",13)(23,"tr")(24,"th"),y(25,"#"),p(),m(26,"th"),y(27,"Generic Description"),p(),m(28,"th"),y(29,"BrandName"),p(),m(30,"th"),y(31,"Subsitituted"),p(),se(32,"th"),p(),on(33,bB,11,3,"tr",null,sn),p(),m(35,"div",14)(36,"input",15),F("input",function(){return s.filterInventory()}),p(),m(37,"ul",16),on(38,TB,6,2,"li",27,sn),rt(40,SB,2,0,"li"),p()()(),m(41,"div",17),rt(42,AB,2,0,"button",18)(43,xB,2,0),p()()(),se(44,"div",19),p()),i&2&&(A(11),Ae("ngModel",s.numberOfDocs),A(6),Ae("ngModel",s.itemsOrdered),A(16),an(s.osList),A(5),an(s.filteredInventory),A(2),Bt(40,s.invetoryFetching?40:-1),A(2),Bt(42,s.saving?43:42))},dependencies:[kl,Ol,Ts,ng,Rl,Nl,ig,rg,ma,pa,Uo],styles:[".app-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:1}.modal-dialog[_ngcontent-%COMP%]{z-index:3;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:500px;height:auto;border:olive 1px solid;background-color:#fff;border-radius:5px;padding:20px}"]});let t=e;return t})();function MB(t,e){if(t&1){let n=Re();m(0,"button",7),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("billTimein",i))}),y(1,"Add"),p()}}function RB(t,e){}function NB(t,e){if(t&1){let n=Re();m(0,"button",7),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("billTimeout",i))}),y(1,"Add"),p()}}function PB(t,e){if(t&1){let n=Re();m(0,"button",5),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("billTimeout",i))}),y(1),We(2,"date"),p()}if(t&2){let n=q().$implicit;A(1),de(st(2,1,n.billEnd,"h:mm"))}}function OB(t,e){if(t&1){let n=Re();m(0,"button",7),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("dispenseTimein",i))}),y(1,"Add"),p()}}function kB(t,e){if(t&1){let n=Re();m(0,"button",5),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("dispenseTimein",i))}),y(1),We(2,"date"),p()}if(t&2){let n=q().$implicit;A(1),de(st(2,1,n.dispenseStart,"h:mm"))}}function FB(t,e){if(t&1){let n=Re();m(0,"button",7),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("dispenseTimeout",i))}),y(1,"Add"),p()}}function VB(t,e){if(t&1){let n=Re();m(0,"button",5),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("dispenseTimeout",i))}),y(1),We(2,"date"),p()}if(t&2){let n=q().$implicit;A(1),de(st(2,1,n.dispenseEnd,"h:mm"))}}function LB(t,e){if(t&1){let n=Re();m(0,"tr")(1,"td"),y(2),p(),m(3,"td"),y(4),p(),m(5,"td"),y(6),p(),m(7,"td"),rt(8,MB,2,0,"button",4)(9,RB,0,0),m(10,"button",5),F("click",function(){let s=Te(n).$implicit,o=q();return Se(o.activePresc("billTimein",s))}),y(11),We(12,"date"),p()(),m(13,"td"),rt(14,NB,2,0,"button",4)(15,PB,3,4),p(),m(16,"td"),rt(17,OB,2,0,"button",4)(18,kB,3,4),p(),m(19,"td"),rt(20,FB,2,0,"button",4)(21,VB,3,4),p(),m(22,"td")(23,"button",6),F("click",function(){let s=Te(n).$implicit,o=q();return Se(o.onDeletePresc(s))}),p()()()}if(t&2){let n=e.$implicit;A(2),de(n.tallyNo),A(2),de(n.itemsOrdered),A(2),de(n.itemsAvailable),A(2),Bt(8,n.billStart?9:8),A(3),de(st(12,8,n.billStart,"h:mm")),A(3),Bt(14,n.billEnd?15:14),A(3),Bt(17,n.dispenseStart?18:17),A(3),Bt(20,n.dispenseEnd?21:20)}}function jB(t,e){if(t&1){let n=Re();m(0,"app-prescriptions-new",8),F("onModalClose",function(){Te(n);let i=q();return Se(i.onCreateModalClose())}),p()}if(t&2){let n=q();Ae("cartegory",n.cartegory)("tallyPrefix",n.tallyPrefix)}}function UB(t,e){if(t&1){let n=Re();m(0,"app-time-edit-modal",9),F("onModalClose",function(i){Te(n);let s=q();return Se(s.closeModal(i))}),p()}if(t&2){let n=q();Ae("activeRow",n.activeRow)}}var FS=(()=>{let e=class e{constructor(r){this.dataService=r,this.cartegory="prescription",this.tallyPrefix="P",this.prescriptions=[],this.showUpdateModal=!1,this.showCreateModal=!1}ngOnInit(){this.fetchPrescriptions()}fetchPrescriptions(){}activePresc(r,i){this.activeRow={editField:r,prescription:i},this.showUpdateModal=!0}onDeletePresc(r){return g(this,null,function*(){yield this.dataService.doPost("outpatients","delete",[r]).then(i=>{this.fetchPrescriptions()})})}onCreateModalClose(){this.fetchPrescriptions(),this.showCreateModal=!1}closeModal(r){this.showUpdateModal=!1}};e.\u0275fac=function(i){return new(i||e)(Y(jn))},e.\u0275cmp=we({type:e,selectors:[["app-prescriptions"]],standalone:!0,features:[Ee],decls:34,vars:2,consts:[[1,"table"],["colspan","2"],[1,"btn","btn-primary",3,"click"],[3,"ngIf"],["class","btn btn-outline-primary"],["title","click to Edit",1,"btn",3,"click"],["title","Delete Row",1,"bi","bi-trash","btn","text-danger",3,"click"],[1,"btn","btn-outline-primary",3,"click"],[3,"cartegory","tallyPrefix","onModalClose"],[3,"activeRow","onModalClose"]],template:function(i,s){i&1&&(m(0,"div")(1,"table",0)(2,"thead")(3,"tr")(4,"th",1)(5,"button",2),F("click",function(){return s.showCreateModal=!0}),y(6,"Add new"),p()(),se(7,"th")(8,"th"),m(9,"th",1),y(10,"Billing Turnaround"),p(),m(11,"th",1),y(12,"Dispensing Turnaround"),p()(),m(13,"tr")(14,"th"),y(15,"Presc. No"),p(),m(16,"th"),y(17,"No. Items Ordered"),p(),m(18,"th"),y(19,"No. Items Availabe"),p(),m(20,"th"),y(21,"Time-in"),p(),m(22,"th"),y(23,"Time-out"),p(),m(24,"th"),y(25,"time-in"),p(),m(26,"th"),y(27,"time-out"),p(),se(28,"th"),p()(),m(29,"tbody"),on(30,LB,24,11,"tr",null,sn),p()(),rt(32,jB,1,2,"ng-template",3)(33,UB,1,1,"ng-template",3),p()),i&2&&(A(30),an(s.prescriptions),A(2),Ae("ngIf",s.showCreateModal),A(1),Ae("ngIf",s.showUpdateModal))},dependencies:[Ih,_r,Ch,el]});let t=e;return t})();function BB(t,e){if(t&1){let n=Re();m(0,"button",7),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("dispenseTimein",i))}),y(1,"Add"),p()}}function $B(t,e){if(t&1){let n=Re();m(0,"button",8),F("click",function(){Te(n);let i=q().$implicit,s=q();return Se(s.activePresc("dispenseTimein",i))}),y(1),We(2,"date"),p()}if(t&2){let n=q().$implicit;A(1),de(st(2,1,n.dispenseStart,"h:mm"))}}function HB(t,e){if(t&1&&(m(0,"tr")(1,"td"),y(2),p(),m(3,"td"),y(4),p(),m(5,"td"),y(6),p(),m(7,"td"),y(8),p(),m(9,"td"),rt(10,BB,2,0,"button",4)(11,$B,3,4),p(),m(12,"td")(13,"button",5),y(14),p()(),m(15,"td"),se(16,"a",6),p()()),t&2){let n=e.$implicit;A(2),de(n.tallyNo),A(2),de(n.noOfDocs),A(2),de(n.itemsOrdered),A(2),de(n.itemsIssued),A(2),Bt(10,n.dispenseStart?11:10),A(4),de(n.dispenseEnd)}}function qB(t,e){if(t&1){let n=Re();m(0,"app-prescriptions-new",9),F("onModalClose",function(){Te(n);let i=q();return Se(i.onCreateModalClose())}),p()}if(t&2){let n=q();Ae("cartegory",n.cartegory)("tallyPrefix",n.tallyPrefix)}}function zB(t,e){if(t&1){let n=Re();m(0,"app-time-edit-modal",10),F("onModalClose",function(i){Te(n);let s=q();return Se(s.closeModal(i))}),p()}if(t&2){let n=q();Ae("activeRow",n.activeRow)}}var VS=(()=>{let e=class e{constructor(r){this.dataService=r,this.cartegory="tsheet",this.tallyPrefix="T",this.cartegoryList=[],this.showUpdateModal=!1,this.showCreateModal=!1}ngOnInit(){this.fetchTWorkloadList()}fetchTWorkloadList(){}activePresc(r,i){this.activeRow={editField:r,prescription:i},this.showUpdateModal=!0}onDeletePresc(r){return g(this,null,function*(){yield this.dataService.doPost("outpatients","delete",[r]).then(i=>{this.fetchTWorkloadList()})})}onCreateModalClose(){this.fetchTWorkloadList(),this.showCreateModal=!1}closeModal(r){this.showUpdateModal=!1}};e.\u0275fac=function(i){return new(i||e)(Y(jn))},e.\u0275cmp=we({type:e,selectors:[["app-tsheet-orders"]],standalone:!0,features:[Ee],decls:31,vars:2,consts:[[1,"table"],["colspan","2"],[1,"btn","btn-primary",3,"click"],[3,"ngIf"],["class","btn btn-outline-primary"],["title","click to Edit",1,"btn"],["href","#",1,"bi","bi-trash"],[1,"btn","btn-outline-primary",3,"click"],["title","click to Edit",1,"btn",3,"click"],[3,"cartegory","tallyPrefix","onModalClose"],[3,"activeRow","onModalClose"]],template:function(i,s){i&1&&(m(0,"div")(1,"table",0)(2,"thead")(3,"tr")(4,"th",1)(5,"button",2),F("click",function(){return s.showCreateModal=!0}),y(6,"Add new"),p()(),se(7,"th")(8,"th"),m(9,"th",1),y(10,"Turnaround time"),p(),se(11,"th"),p(),m(12,"tr")(13,"th"),y(14,"Order. No"),p(),m(15,"th"),y(16,"No. T.Sheets"),p(),m(17,"th"),y(18,"No. Items Ordered"),p(),m(19,"th"),y(20,"No. Items Availabe"),p(),m(21,"th"),y(22,"time started"),p(),m(23,"th"),y(24,"time finished"),p(),se(25,"th"),p()(),m(26,"tbody"),on(27,HB,17,6,"tr",null,sn),p()(),rt(29,qB,1,2,"ng-template",3)(30,zB,1,1,"ng-template",3),p()),i&2&&(A(27),an(s.cartegoryList),A(2),Ae("ngIf",s.showCreateModal),A(1),Ae("ngIf",s.showUpdateModal))},dependencies:[Ch,Ih,_r,el]});let t=e;return t})();function GB(t,e){if(t&1&&(m(0,"tr")(1,"td"),y(2),p(),m(3,"td"),y(4),p(),m(5,"td"),y(6),p(),m(7,"td")(8,"button",3),y(9),We(10,"date"),p()(),m(11,"td",4)(12,"button",3),y(13),We(14,"date"),p()(),m(15,"td")(16,"button",3),y(17),We(18,"date"),p()(),m(19,"td")(20,"button",3),y(21),We(22,"date"),p()(),m(23,"td"),se(24,"a",5),p()()),t&2){let n=e.$implicit;A(2),de(n.tallyNo),A(2),de(n.itemsOrdered),A(2),de(n.itemsIssued),A(3),de(st(10,7,n.billStart,"h:mm")),A(4),de(st(14,10,n.billEnd,"h:mm")),A(4),de(st(18,13,n.dispenseStart,"h:mm")),A(4),de(st(22,16,n.dispenseEnd,"h:mm"))}}var LS=(()=>{let e=class e{constructor(r){this.appService=r,this.emergencyOrders=[],this.appService.$workloadTransactions.subscribe(i=>{this.emergencyOrders=i.filter(s=>s.Cartegory=="emergency")})}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(Y(jn))},e.\u0275cmp=we({type:e,selectors:[["app-emergency-orders"]],standalone:!0,features:[Ee],decls:32,vars:0,consts:[[1,"table"],["colspan","2"],[1,"btn","btn-primary"],["title","click to Edit",1,"btn"],["title","Click to Edit"],["href","#",1,"bi","bi-trash"]],template:function(i,s){i&1&&(m(0,"div")(1,"table",0)(2,"thead")(3,"tr")(4,"th",1)(5,"button",2),y(6,"Add new"),p()(),se(7,"th")(8,"th"),m(9,"th",1),y(10,"Billing Turnaround"),p(),m(11,"th",1),y(12,"Dispensing Turnaround"),p()(),m(13,"tr")(14,"th"),y(15,"Doc. No"),p(),m(16,"th"),y(17,"No. Items Ordered"),p(),m(18,"th"),y(19,"No. Items Availabe"),p(),m(20,"th"),y(21,"Billing Start"),p(),m(22,"th"),y(23,"Billing End"),p(),m(24,"th"),y(25,"Dispense Start"),p(),m(26,"th"),y(27,"Dispense End"),p(),se(28,"th"),p()(),m(29,"tbody"),on(30,GB,25,19,"tr",null,sn),p()()()),i&2&&(A(30),an(s.emergencyOrders))},dependencies:[_r]});let t=e;return t})();var jS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=we({type:e,selectors:[["app-home-page"]],standalone:!0,features:[Ee],decls:22,vars:0,consts:[[1,"container","my-5"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-prescription-tab","data-bs-toggle","tab","data-bs-target","#nav-prescription","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link"],["id","nav-tsheet-tab","data-bs-toggle","tab","data-bs-target","#nav-tsheet","type","button","role","tab","aria-controls","nav-tsheet","aria-selected","false",1,"nav-link"],["id","nav-emergency-tab","data-bs-toggle","tab","data-bs-target","#nav-emergency","type","button","role","tab","aria-controls","nav-emergency","aria-selected","false",1,"nav-link"],["id","nav-tabContent",1,"tab-content"],["id","nav-prescription","role","tabpanel","aria-labelledby","nav-prescription-tab",1,"tab-pane","fade","show","p-3"],["id","nav-tsheet","role","tabpanel","aria-labelledby","nav-tsheet-tab",1,"tab-pane","fade","p-3"],["id","nav-emergency","role","tabpanel","aria-labelledby","nav-emergency-tab",1,"tab-pane","fade","p-3"]],template:function(i,s){i&1&&(m(0,"div",0)(1,"nav")(2,"div",1)(3,"button",2),y(4," Prescriptions "),p(),m(5,"button",3),y(6," T.sheet Orders "),p(),m(7,"button",4),y(8," Emergency Orders "),p()()(),m(9,"div",5)(10,"div",6)(11,"h2"),y(12,"Prescriptions"),p(),se(13,"app-prescriptions"),p(),m(14,"div",7)(15,"h2"),y(16,"Treatment Sheets"),p(),se(17,"app-tsheet-orders"),p(),m(18,"div",8)(19,"h2"),y(20,"Emergency"),p(),se(21,"app-emergency-orders"),p()()())},dependencies:[FS,VS,LS]});let t=e;return t})();var Dh=(()=>{let e=class e extends Eh{constructor(){super(),this.tracerList=[],this.$tracerList=new Me([])}getAllTracerList(){return this.http.get(this.url+"collection=tracer")}editTracer(r,i){let s={Id:r,value:i};return this.http.post(this.url+"collection=tracer&method=update",JSON.stringify(s))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WB(t,e){t&1&&se(0,"span",1)}function KB(t,e){if(t&1){let n=Re();m(0,"div",2)(1,"input",3),F("click",function(){Te(n);let i=q();return Se(i.statusChange())}),p()()}if(t&2){let n=q();A(1),Ae("checked",n.item.IsAvailable==1)}}var US=(()=>{let e=class e{constructor(){this.loadingState=!1,this.tracerService=T(Dh)}statusChange(){this.loadingState=!0;let r=this.item.IsAvailable==1?0:1;this.tracerService.editTracer(this.item.Id,r).subscribe(i=>{console.log(i),this.tracerService.$tracerList.next(i),this.loadingState=!1})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=we({type:e,selectors:[["app-tracer-status"]],inputs:{item:"item"},standalone:!0,features:[Ee],decls:2,vars:1,consts:[["class","spinner-border spinner-border-sm","role","status","aria-hidden","true"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"form-check","form-switch"],["id","availability","type","checkbox",1,"form-check-input",3,"checked","click"]],template:function(i,s){i&1&&rt(0,WB,1,0,"span",0)(1,KB,2,1),i&2&&Bt(0,s.loadingState?0:1)}});let t=e;return t})();function QB(t,e){if(t&1&&(m(0,"tr",1)(1,"td",4),y(2),p(),m(3,"td",5),y(4),p(),m(5,"td",4),se(6,"app-tracer-status",6),p(),m(7,"td",4),y(8),p()()),t&2){let n=e.$implicit;A(2),ls(" ",n.Code," "),A(2),ls(" ",n.GenericDescription," "),A(2),Ae("item",n),A(2),ls(" ",n.IsAvailable==1?"Available":"Out of stock"," ")}}var BS=(()=>{let e=class e{constructor(){this.tracerService=T(Dh)}ngOnInit(){this.tracerService.getAllTracerList().subscribe(r=>this.tracerService.$tracerList.next(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=we({type:e,selectors:[["app-tracer-list"]],standalone:!0,features:[Ee],decls:14,vars:2,consts:[[1,"table","table-sm","table-hover"],[1,"row"],["scope","col",1,"col-1"],["scope","col",1,"col-4"],[1,"col-1"],[1,"col-4"],[3,"item"],["class","row"]],template:function(i,s){i&1&&(m(0,"table",0)(1,"thead")(2,"tr",1)(3,"th",2),y(4,"Code"),p(),m(5,"th",3),y(6,"Name"),p(),m(7,"th",2),y(8,"Status"),p(),se(9,"th",2),p()(),m(10,"tbody"),on(11,QB,9,4,"tr",7,sn),We(13,"async"),p()()),i&2&&(A(11),an(zI(13,0,s.tracerService.$tracerList)))},dependencies:[US,f0]});let t=e;return t})();var $S=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=we({type:e,selectors:[["app-bincard-page"]],standalone:!0,features:[Ee],decls:20,vars:0,consts:[[1,"container"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","home-tab","data-bs-toggle","tab","data-bs-target","#home-tab-pane","type","button","role","tab","aria-controls","home-tab-pane","aria-selected","true",1,"nav-link","active"],["id","profile-tab","data-bs-toggle","tab","data-bs-target","#profile-tab-pane","type","button","role","tab","aria-controls","profile-tab-pane","aria-selected","false",1,"nav-link"],["id","contact-tab","data-bs-toggle","tab","data-bs-target","#contact-tab-pane","type","button","role","tab","aria-controls","contact-tab-pane","aria-selected","false",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","home-tab-pane","role","tabpanel","aria-labelledby","home-tab","tabindex","0",1,"tab-pane","fade","show","active"],[1,"text-center"],["id","profile-tab-pane","role","tabpanel","aria-labelledby","profile-tab","tabindex","0",1,"tab-pane","fade"],["id","contact-tab-pane","role","tabpanel","aria-labelledby","contact-tab","tabindex","0",1,"tab-pane","fade"]],template:function(i,s){i&1&&(m(0,"div",0)(1,"ul",1)(2,"li",2)(3,"button",3),y(4,"TracerList"),p()(),m(5,"li",2)(6,"button",4),y(7,"Profile"),p()(),m(8,"li",2)(9,"button",5),y(10,"Contact "),p()()(),m(11,"div",6)(12,"div",7)(13,"h2",8),y(14,"Tracer List "),p(),se(15,"app-tracer-list"),p(),m(16,"div",9),y(17," ... "),p(),m(18,"div",10),y(19," ... "),p()()())},dependencies:[BS]});let t=e;return t})();var HS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=we({type:e,selectors:[["app-receive-page"]],standalone:!0,features:[Ee],decls:2,vars:0,template:function(i,s){i&1&&(m(0,"p"),y(1,"receive-page works!"),p())}});let t=e;return t})();var V_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=we({type:e,selectors:[["app-issue-page"]],standalone:!0,features:[Ee],decls:2,vars:0,template:function(i,s){i&1&&(m(0,"p"),y(1,"issue-page works!"),p())}});let t=e;return t})();var qS=[{path:"",component:jS},{path:"receive",component:HS},{path:"issue",component:V_},{path:"issue",component:V_},{path:"bincard",component:$S},{path:"**",redirectTo:""}];var zS={providers:[mC(qS),Po(b0),Po(dD(()=>hD({projectId:"mmuh-pharmacy",appId:"1:42159664167:web:c43d934018b73daf533202",storageBucket:"mmuh-pharmacy.appspot.com",apiKey:"AIzaSyCFha3ImxAokO3hF40pjxWrWzeCY0ZgkBg",authDomain:"mmuh-pharmacy.firebaseapp.com",messagingSenderId:"42159664167",measurementId:"G-FHB2LSCWZW"}))),Po(NS(()=>OS()))]};var GS=(()=>{let e=class e{constructor(){this.title="template-17"}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=we({type:e,selectors:[["app-root"]],standalone:!0,features:[Ee],decls:27,vars:0,consts:[[1,"container"],[1,"bg-primary","text-white","text-center"],[1,"d-flex"],[1,"flex-grow-1"],[1,"list","list-unstyled","d-flex","align-items-center","gap-2"],["href","",1,"btn"],["href","/bincard",1,"btn"],["name","","id","user",1,"form-control"],["selected","","disabled","","value",""],["value","Philip"],["value","Judy"],["value","Lambert"],["value","Cliff"],["value","Betty"]],template:function(i,s){i&1&&(m(0,"nav",0)(1,"h3",1),y(2,"MMUH PharmaTool"),p(),m(3,"div",2)(4,"div",3)(5,"ul",4)(6,"li")(7,"a",5),y(8,"Workload Tracking"),p()(),m(9,"li")(10,"a",6),y(11,"Inventory Tracking"),p()()()(),m(12,"div")(13,"select",7)(14,"option",8),y(15,"...Select User..."),p(),m(16,"option",9),y(17,"Philip"),p(),m(18,"option",10),y(19,"Judy"),p(),m(20,"option",11),y(21,"Lambert"),p(),m(22,"option",12),y(23,"Cliff"),p(),m(24,"option",13),y(25,"Betty"),p()()()()(),se(26,"router-outlet"))},dependencies:[Uo,$m],styles:["h1[_ngcontent-%COMP%]{color:#ff0}"]});let t=e;return t})();P0(GS,zS).catch(t=>console.error(t));
