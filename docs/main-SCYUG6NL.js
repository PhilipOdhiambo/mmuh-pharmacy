var NS=Object.defineProperty,PS=Object.defineProperties;var OS=Object.getOwnPropertyDescriptors;var M_=Object.getOwnPropertySymbols;var kS=Object.prototype.hasOwnProperty,FS=Object.prototype.propertyIsEnumerable;var R_=(t,e,n)=>e in t?NS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})kS.call(e,n)&&R_(t,n,e[n]);if(M_)for(var n of M_(e))FS.call(e,n)&&R_(t,n,e[n]);return t},fe=(t,e)=>PS(t,OS(e));var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var N_=null;var Ih=1;function Xe(t){let e=N_;return N_=t,e}var P_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function VS(t){if(!(Th(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ih)){if(!t.producerMustRecompute(t)&&!Dh(t)){t.dirty=!1,t.lastCleanEpoch=Ih;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ih}}function O_(t){return t&&(t.nextProducerIndex=0),Xe(t)}function k_(t,e){if(Xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Th(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ch(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Dh(t){yc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(VS(n),r!==n.version))return!0}return!1}function F_(t){if(yc(t),Th(t))for(let e=0;e<t.producerNode.length;e++)Ch(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ch(t,e){if(LS(t),yc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ch(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];yc(i),i.producerIndexOfThis[r]=e}}function Th(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function yc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function LS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function US(){throw new Error}var jS=US;function V_(t){jS=t}function $(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vc=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Rr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if($(r))try{r()}catch(s){e=s instanceof vc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{L_(s)}catch(o){e=e??[],o instanceof vc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new vc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)L_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rr(n,e)}remove(e){let{_finalizers:n}=this;n&&Rr(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var bh=ke.EMPTY;function _c(t){return t instanceof ke||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function L_(t){$(t)?t():t.unsubscribe()}var Kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(t,e,...n){let{delegate:r}=Fi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wc(t){Fi.setTimeout(()=>{let{onUnhandledError:e}=Kt;if(e)e(t);else throw t})}function oo(){}var U_=(()=>Sh("C",void 0,void 0))();function j_(t){return Sh("E",void 0,t)}function B_(t){return Sh("N",t,void 0)}function Sh(t,e,n){return{kind:t,value:e,error:n}}var Nr=null;function Vi(t){if(Kt.useDeprecatedSynchronousErrorHandling){let e=!Nr;if(e&&(Nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nr;if(Nr=null,n)throw r}}else t()}function $_(t){Kt.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=t)}var Pr=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_c(e)&&e.add(this)):this.destination=HS}static create(e,n,r){return new Vn(e,n,r)}next(e){this.isStopped?xh(B_(e),this):this._next(e)}error(e){this.isStopped?xh(j_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xh(U_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BS=Function.prototype.bind;function Ah(t,e){return BS.call(t,e)}var Mh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ec(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ec(r)}else Ec(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ec(n)}}},Vn=class extends Pr{constructor(e,n,r){super();let i;if($(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Kt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ah(e.next,s),error:e.error&&Ah(e.error,s),complete:e.complete&&Ah(e.complete,s)}):i=e}this.destination=new Mh(i)}};function Ec(t){Kt.useDeprecatedSynchronousErrorHandling?$_(t):wc(t)}function $S(t){throw t}function xh(t,e){let{onStoppedNotification:n}=Kt;n&&Fi.setTimeout(()=>n(t,e))}var HS={closed:!0,next:oo,error:$S,complete:oo};var Li=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function ft(t){return t}function Ic(...t){return Rh(t)}function Rh(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var W=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=zS(n)?n:new Vn(n,r,i);return Vi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=H_(r),new r((i,s)=>{let o=new Vn({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Li](){return this}pipe(...n){return Rh(n)(this)}toPromise(n){return n=H_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function H_(t){var e;return(e=t??Kt.Promise)!==null&&e!==void 0?e:Promise}function qS(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function zS(t){return t&&t instanceof Pr||qS(t)&&_c(t)}function Nh(t){return $(t?.lift)}function Z(t){return e=>{if(Nh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,n,r,i){return new Ph(t,e,n,r,i)}var Ph=class extends Pr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ui(){return Z((t,e)=>{let n=null;t._refCount++;let r=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ji=class extends W{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Nh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Ui()(this)}};var q_=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class t extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Dc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new q_}next(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?bh:(this.currentObservers=null,s.push(n),new ke(()=>{this.currentObservers=null,Rr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new W;return n.source=this,n}}return t.create=(e,n)=>new Dc(e,n),t})(),Dc=class extends et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:bh}};var Fe=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Oh={now(){return(Oh.delegate||Date).now()},delegate:void 0};var Cc=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var ao={setInterval(t,e,...n){let{delegate:r}=ao;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ao;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bi=class extends Cc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ao.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ao.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $i=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$i.now=Oh.now;var Hi=class extends $i{constructor(e,n=$i.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var kh=new Hi(Bi);var Tc=class extends Bi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var bc=class extends Hi{};var Fh=new bc(Tc);var Et=new W(t=>t.complete());function z_(t){return t&&$(t.schedule)}function Vh(t){return t[t.length-1]}function Sc(t){return $(Vh(t))?t.pop():void 0}function dn(t){return z_(Vh(t))?t.pop():void 0}function G_(t,e){return typeof Vh(t)=="number"?t.pop():e}function Lh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function W_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(t){return this instanceof Or?(this.v=t,this):new Or(t)}function Q_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(v,I){s.push([h,f,v,I])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(v){d(s[0][3],v)}}function c(h){h.value instanceof Or?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Y_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof W_=="function"?W_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ac=t=>t&&typeof t.length=="number"&&typeof t!="function";function xc(t){return $(t?.then)}function Mc(t){return $(t[Li])}function Rc(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function Nc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pc=GS();function Oc(t){return $(t?.[Pc])}function kc(t){return Q_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Or(n.read());if(i)return yield Or(void 0);yield yield Or(r)}}finally{n.releaseLock()}})}function Fc(t){return $(t?.getReader)}function Ee(t){if(t instanceof W)return t;if(t!=null){if(Mc(t))return WS(t);if(Ac(t))return KS(t);if(xc(t))return QS(t);if(Rc(t))return J_(t);if(Oc(t))return YS(t);if(Fc(t))return JS(t)}throw Nc(t)}function WS(t){return new W(e=>{let n=t[Li]();if($(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KS(t){return new W(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function QS(t){return new W(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wc)})}function YS(t){return new W(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function J_(t){return new W(e=>{ZS(t,e).catch(n=>e.error(n))})}function JS(t){return J_(kc(t))}function ZS(t,e){var n,r,i,s;return K_(this,void 0,void 0,function*(){try{for(n=Y_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function er(t,e=0){return Z((n,r)=>{n.subscribe(X(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function tr(t,e=0){return Z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Z_(t,e){return Ee(t).pipe(tr(e),er(e))}function X_(t,e){return Ee(t).pipe(tr(e),er(e))}function ew(t,e){return new W(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tw(t,e){return new W(n=>{let r;return It(n,e,()=>{r=t[Pc](),It(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>$(r?.return)&&r.return()})}function Vc(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nw(t,e){return Vc(kc(t),e)}function rw(t,e){if(t!=null){if(Mc(t))return Z_(t,e);if(Ac(t))return ew(t,e);if(xc(t))return X_(t,e);if(Rc(t))return Vc(t,e);if(Oc(t))return tw(t,e);if(Fc(t))return nw(t,e)}throw Nc(t)}function ve(t,e){return e?rw(t,e):Ee(t)}function O(...t){let e=dn(t);return ve(t,e)}function qi(t,e){let n=$(t)?t:()=>t,r=i=>i.error(n());return new W(e?i=>e.schedule(r,0,i):r)}function Uh(t){return!!t&&(t instanceof W||$(t.lift)&&$(t.subscribe))}var Qt=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zi(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=!1,o;t.subscribe({next:a=>{o=a,s=!0},error:i,complete:()=>{s?r(o):n?r(e.defaultValue):i(new Qt)}})})}function j(t,e){return Z((n,r)=>{let i=0;n.subscribe(X(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:XS}=Array;function eA(t,e){return XS(e)?t(...e):t(e)}function Lc(t){return j(e=>eA(t,e))}var{isArray:tA}=Array,{getPrototypeOf:nA,prototype:rA,keys:iA}=Object;function Uc(t){if(t.length===1){let e=t[0];if(tA(e))return{args:e,keys:null};if(sA(e)){let n=iA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function sA(t){return t&&typeof t=="object"&&nA(t)===rA}function jc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bc(...t){let e=dn(t),n=Sc(t),{args:r,keys:i}=Uc(t);if(r.length===0)return ve([],e);let s=new W(oA(r,e,i?o=>jc(i,o):ft));return n?s.pipe(Lc(n)):s}function oA(t,e,n=ft){return r=>{iw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)iw(e,()=>{let u=ve(t[c],e),l=!1;u.subscribe(X(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function iw(t,e,n){t?It(n,t,e):e()}function sw(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=I=>u<r?v(I):c.push(I),v=I=>{s&&e.next(I),u++;let y=!1;Ee(n(I,l++)).subscribe(X(e,D=>{i?.(D),s?f(D):e.next(D)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let D=c.shift();o?It(e,o,()=>v(D)):v(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(X(e,f,()=>{d=!0,h()})),()=>{a?.()}}function He(t,e,n=1/0){return $(e)?He((r,i)=>j((s,o)=>e(r,s,i,o))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),Z((r,i)=>sw(r,i,t,n)))}function co(t=1/0){return He(ft,t)}function ow(){return co(1)}function Gi(...t){return ow()(ve(t,dn(t)))}function $c(t){return new W(e=>{Ee(t()).subscribe(e)})}function jh(...t){let e=Sc(t),{args:n,keys:r}=Uc(t),i=new W(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Ee(n[l]).subscribe(X(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?jc(r,a):a),s.complete())}))}});return e?i.pipe(Lc(e)):i}function Bh(...t){let e=dn(t),n=G_(t,1/0),r=t;return r.length?r.length===1?Ee(r[0]):co(n)(ve(r,e)):Et}function Dt(t,e){return Z((n,r)=>{let i=0;n.subscribe(X(r,s=>t.call(e,s,i++)&&r.next(s)))})}function nr(t){return Z((e,n)=>{let r=null,i=!1,s;r=e.subscribe(X(n,void 0,void 0,o=>{s=Ee(t(o,nr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function aw(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(X(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function rr(t,e){return $(e)?He(t,e,1):He(t,1)}function ir(t){return Z((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ot(t){return t<=0?()=>Et:Z((e,n)=>{let r=0;e.subscribe(X(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $h(t){return j(()=>t)}function Hc(t,e=ft){return t=t??aA,Z((n,r)=>{let i,s=!0;n.subscribe(X(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function aA(t,e){return t===e}function qc(t=cA){return Z((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cA(){return new Qt}function sr(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,s)=>t(i,s,r)):ft,Ot(1),n?ir(e):qc(()=>new Qt))}function Wi(t){return t<=0?()=>Et:Z((e,n)=>{let r=[];e.subscribe(X(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,s)=>t(i,s,r)):ft,Wi(1),n?ir(e):qc(()=>new Qt))}function zc(t,e){return Z(aw(t,e,arguments.length>=2,!0))}function Gc(t={}){let{connector:e=()=>new et,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},v=()=>{let I=o;f(),I?.unsubscribe()};return Z((I,y)=>{u++,!d&&!l&&h();let D=c=c??e();y.add(()=>{u--,u===0&&!d&&!l&&(a=qh(v,i))}),D.subscribe(y),!o&&u>0&&(o=new Vn({next:F=>D.next(F),error:F=>{d=!0,h(),a=qh(f,n,F),D.error(F)},complete:()=>{l=!0,h(),a=qh(f,r),D.complete()}}),Ee(I).subscribe(o))})(s)}}function qh(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Vn({next:()=>{r.unsubscribe(),t()}});return Ee(e(...n)).subscribe(r)}function Wc(...t){let e=dn(t);return Z((n,r)=>{(e?Gi(t,n,e):Gi(t,n)).subscribe(r)})}function pt(t,e){return Z((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(X(r,c=>{i?.unsubscribe();let u=0,l=s++;Ee(t(c,l)).subscribe(i=X(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function zh(t){return Z((e,n)=>{Ee(t).subscribe(X(n,()=>n.complete(),oo)),!n.closed&&e.subscribe(n)})}function Ne(t,e,n){let r=$(t)||e||n?{next:t,error:e,complete:n}:t;return r?Z((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(X(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ft}function me(t){for(let e in t)if(t[e]===me)return e;throw Error("Could not find renamed property on target object.")}function Kc(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function cw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var uA=me({__forward_ref__:me});function $n(t){return t.__forward_ref__=$n,t.toString=function(){return ot(this())},t}function mt(t){return Hw(t)?t():t}function Hw(t){return typeof t=="function"&&t.hasOwnProperty(uA)&&t.__forward_ref__===$n}function qw(t){return t&&!!t.\u0275providers}var lA="https://g.co/ng/security#xss",M=class extends Error{constructor(e,n){super(Du(e,n)),this.code=e}};function Du(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var dA=me({\u0275cmp:me}),hA=me({\u0275dir:me}),fA=me({\u0275pipe:me}),pA=me({\u0275mod:me}),iu=me({\u0275fac:me}),uo=me({__NG_ELEMENT_ID__:me}),uw=me({__NG_ENV_ID__:me});function tp(t){return typeof t=="string"?t:t==null?"":String(t)}function mA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():tp(t)}function gA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,`Circular dependency in DI detected for ${t}${n}`)}function np(t,e){let n=e?` in ${e}`:"";throw new M(-201,!1)}function yA(t,e){t==null&&vA(e,t,null,"!=")}function vA(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cu(t){return lw(t,Gw)||lw(t,Ww)}function zw(t){return Cu(t)!==null}function lw(t,e){return t.hasOwnProperty(e)?t[e]:null}function _A(t){let e=t&&(t[Gw]||t[Ww]);return e||null}function dw(t){return t&&(t.hasOwnProperty(hw)||t.hasOwnProperty(wA))?t[hw]:null}var Gw=me({\u0275prov:me}),hw=me({\u0275inj:me}),Ww=me({ngInjectableDef:me}),wA=me({ngInjectorDef:me}),ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),lf;function EA(){return lf}function Ct(t){let e=lf;return lf=t,e}function Kw(t,e,n){let r=Cu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;np(ot(t),"Injector")}var Ln=globalThis;var A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var IA={},fo=IA,df="__NG_DI_FLAG__",su="ngTempTokenPath",DA="ngTokenPath",CA=/\n/gm,TA="\u0275",fw="__source",lo;function or(t){let e=lo;return lo=t,e}function bA(t,e=ee.Default){if(lo===void 0)throw new M(-203,!1);return lo===null?Kw(t,void 0,e):lo.get(t,e&ee.Optional?null:void 0,e)}function R(t,e=ee.Default){return(EA()||bA)(mt(t),e)}function b(t,e=ee.Default){return R(t,Tu(e))}function Tu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hf(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,s=ee.Default;for(let o=0;o<r.length;o++){let a=r[o],c=AA(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function SA(t,e){return t[df]=e,t.prototype[df]=e,t}function AA(t){return t[df]}function xA(t,e,n,r){let i=t[su];throw e[fw]&&i.unshift(e[fw]),t.message=MA(`
`+t.message,i,n,r),t[DA]=i,t[su]=null,t}function MA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==TA?t.slice(2):t;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ot(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(CA,`
  `)}`}function bo(t){return{toString:t}.toString()}var Qw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Qw||{}),gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gn||{}),Zi={},kt=[];function Yw(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ff(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];NA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function RA(t){return t===3||t===4||t===6}function NA(t){return t.charCodeAt(0)===64}function po(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?pw(t,n,i,null,e[++r]):pw(t,n,i,null,null))}}return t}function pw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Jw="ng-template";function PA(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&Yw(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function Zw(t){return t.type===4&&t.value!==Jw}function OA(t,e,n){let r=t.type===4&&!n?Jw:t.value;return e===r}function kA(t,e,n){let r=4,i=t.attrs||[],s=LA(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Yt(r)&&!Yt(c))return!1;if(o&&Yt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!OA(t,c,n)||c===""&&e.length===1){if(Yt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!PA(t.attrs,u,n)){if(Yt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=FA(l,i,Zw(t),n);if(d===-1){if(Yt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&Yw(f,u,0)!==-1||r&2&&u!==h){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function FA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return UA(e,t)}function VA(t,e,n=!1){for(let r=0;r<e.length;r++)if(kA(t,e[r],n))return!0;return!1}function LA(t){for(let e=0;e<t.length;e++){let n=t[e];if(RA(n))return e}return t.length}function UA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function mw(t,e){return t?":not("+e.trim()+")":e}function jA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=mw(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=mw(s,i)),e}function BA(t){return t.map(jA).join(",")}function $A(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function De(t){return bo(()=>{let e=iE(t),n=fe(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});sE(n);let r=t.dependencies;return n.directiveDefs=yw(r,!1),n.pipeDefs=yw(r,!0),n.id=zA(n),n})}function HA(t){return Vr(t)||eE(t)}function qA(t){return t!==null}function St(t){return bo(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gw(t,e){if(t==null)return Zi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function nt(t){return bo(()=>{let e=iE(t);return sE(e),e})}function Xw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vr(t){return t[dA]||null}function eE(t){return t[hA]||null}function tE(t){return t[fA]||null}function nE(t){let e=Vr(t)||eE(t)||tE(t);return e!==null?e.standalone:!1}function rE(t,e){let n=t[pA]||null;if(!n&&e===!0)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return n}function iE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gw(t.inputs,e),outputs:gw(t.outputs),debugInfo:null}}function sE(t){t.features?.forEach(e=>e(t))}function yw(t,e){if(!t)return null;let n=e?tE:HA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(qA)}function zA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Hn=0,B=1,V=2,Ve=3,Jt=4,en=5,ou=6,mo=7,tt=8,Xi=9,go=10,Ke=11,yo=12,vw=13,ss=14,Zt=15,So=16,Ki=17,mn=18,bu=19,oE=20,ho=21,Gh=22,Lr=23,xt=25,aE=1;var Ur=7,au=8,es=9,at=10,ts=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(ts||{});function ar(t){return Array.isArray(t)&&typeof t[aE]=="object"}function Xt(t){return Array.isArray(t)&&t[aE]===!0}function cE(t){return(t.flags&4)!==0}function Su(t){return t.componentOffset>-1}function rp(t){return(t.flags&1)===1}function cr(t){return!!t.template}function GA(t){return(t[V]&512)!==0}function jr(t,e){let n=t.hasOwnProperty(iu);return n?t[iu]:null}var pf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Wr(){return uE}function uE(t){return t.type.prototype.ngOnChanges&&(t.setInput=KA),WA}Wr.ngInherit=!0;function WA(){let t=dE(this),e=t?.current;if(e){let n=t.previous;if(n===Zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function KA(t,e,n,r){let i=this.declaredInputs[n],s=dE(t)||QA(t,{previous:Zi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new pf(c&&c.currentValue,e,a===Zi),t[r]=e}var lE="__ngSimpleChanges__";function dE(t){return t[lE]||null}function QA(t,e){return t[lE]=e}var _w=null;var fn=function(t,e,n){_w?.(t,e,n)},YA="svg",JA="math";function yn(t){for(;Array.isArray(t);)t=t[Hn];return t}function hE(t,e){return yn(e[t])}function Ft(t,e){return yn(e[t.index])}function ip(t,e){return t.data[e]}function ZA(t,e){return t[e]}function dr(t,e){let n=e[t];return ar(n)?n:n[Hn]}function XA(t){return(t[V]&4)===4}function sp(t){return(t[V]&128)===128}function ex(t){return Xt(t[Ve])}function cu(t,e){return e==null?null:t[e]}function fE(t){t[Ki]=0}function tx(t){t[V]&1024||(t[V]|=1024,sp(t)&&Au(t))}function nx(t,e){for(;t>0;)e=e[ss],t--;return e}function pE(t){return t[V]&9216||t[Lr]?.dirty}function mE(t){pE(t)&&Au(t)}function Au(t){let e=t[Ve];for(;e!==null&&!(Xt(e)&&e[V]&ts.HasChildViewsToRefresh||ar(e)&&e[V]&8192);){if(Xt(e))e[V]|=ts.HasChildViewsToRefresh;else if(e[V]|=8192,!sp(e))break;e=e[Ve]}}function rx(t,e){if((t[V]&256)===256)throw new M(911,!1);t[ho]===null&&(t[ho]=[]),t[ho].push(e)}var te={lFrame:IE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ix(){return te.lFrame.elementDepthCount}function sx(){te.lFrame.elementDepthCount++}function ox(){te.lFrame.elementDepthCount--}function gE(){return te.bindingsEnabled}function ax(){return te.skipHydrationRootTNode!==null}function cx(t){return te.skipHydrationRootTNode===t}function ux(){te.skipHydrationRootTNode=null}function le(){return te.lFrame.lView}function At(){return te.lFrame.tView}function Ce(t){return te.lFrame.contextLView=t,t[tt]}function Te(t){return te.lFrame.contextLView=null,t}function Vt(){let t=yE();for(;t!==null&&t.type===64;)t=t.parent;return t}function yE(){return te.lFrame.currentTNode}function lx(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ao(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function vE(){return te.lFrame.isParent}function dx(){te.lFrame.isParent=!1}function hx(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fx(t){return te.lFrame.bindingIndex=t}function xo(){return te.lFrame.bindingIndex++}function px(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mx(){return te.lFrame.inI18n}function gx(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,mf(e)}function yx(){return te.lFrame.currentDirectiveIndex}function mf(t){te.lFrame.currentDirectiveIndex=t}function vx(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function _E(){return te.lFrame.currentQueryIndex}function op(t){te.lFrame.currentQueryIndex=t}function _x(t){let e=t[B];return e.type===2?e.declTNode:e.type===1?t[en]:null}function wE(t,e,n){if(n&ee.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=_x(s),i===null||(s=s[ss],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=EE();return r.currentTNode=e,r.lView=t,!0}function ap(t){let e=EE(),n=t[B];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function EE(){let t=te.lFrame,e=t===null?null:t.child;return e===null?IE(t):e}function IE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function DE(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var CE=DE;function cp(){let t=DE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wx(t){return(te.lFrame.contextLView=nx(t,te.lFrame.contextLView))[tt]}function Kr(){return te.lFrame.selectedIndex}function Br(t){te.lFrame.selectedIndex=t}function TE(){let t=te.lFrame;return ip(t.tView,t.selectedIndex)}function Ex(){return te.lFrame.currentNamespace}var bE=!0;function up(){return bE}function lp(t){bE=t}function Ix(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=uE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function dp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Zc(t,e,n){SE(t,e,3,n)}function Xc(t,e,n,r){(t[V]&3)===n&&SE(t,e,n,r)}function Wh(t,e){let n=t[V];(n&3)===e&&(n&=16383,n+=1,t[V]=n)}function SE(t,e,n,r){let i=r!==void 0?t[Ki]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ki]+=65536),(a<s||s==-1)&&(Dx(t,n,e,c),t[Ki]=(t[Ki]&4294901760)+c+2),c++}function ww(t,e){fn(4,t,e);let n=Xe(null);try{e.call(t)}finally{Xe(n),fn(5,t,e)}}function Dx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[V]>>14<t[Ki]>>16&&(t[V]&3)===e&&(t[V]+=16384,ww(a,s)):ww(a,s)}var Ji=-1,$r=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Cx(t){return t instanceof $r}function Tx(t){return(t.flags&8)!==0}function bx(t){return(t.flags&16)!==0}function AE(t){return t!==Ji}function uu(t){let e=t&32767;return t&32767}function Sx(t){return t>>16}function lu(t,e){let n=Sx(t),r=e;for(;n>0;)r=r[ss],n--;return r}var gf=!0;function du(t){let e=gf;return gf=t,e}var Ax=256,xE=Ax-1,ME=5,xx=0,pn={};function Mx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(uo)&&(r=n[uo]),r==null&&(r=n[uo]=xx++);let i=r&xE,s=1<<i;e.data[t+(i>>ME)]|=s}function hu(t,e){let n=RE(t,e);if(n!==-1)return n;let r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,Kh(r.data,t),Kh(e,null),Kh(r.blueprint,null));let i=hp(t,e),s=t.injectorIndex;if(AE(i)){let o=uu(i),a=lu(i,e),c=a[B].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Kh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function RE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function hp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=FE(i),r===null)return Ji;if(n++,i=i[ss],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function yf(t,e,n){Mx(t,e,n)}function NE(t,e,n){if(n&ee.Optional||t!==void 0)return t;np(e,"NodeInjector")}function PE(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),!(n&(ee.Self|ee.Host))){let i=t[Xi],s=Ct(void 0);try{return i?i.get(e,r,n&ee.Optional):Kw(e,r,n&ee.Optional)}finally{Ct(s)}}return NE(r,e,n)}function OE(t,e,n,r=ee.Default,i){if(t!==null){if(e[V]&2048&&!(r&ee.Self)){let o=Ox(t,e,n,r,pn);if(o!==pn)return o}let s=kE(t,e,n,r,pn);if(s!==pn)return s}return PE(e,n,r,i)}function kE(t,e,n,r,i){let s=Nx(n);if(typeof s=="function"){if(!wE(e,t,r))return r&ee.Host?NE(i,n,r):PE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ee.Optional))np(n);else return o}finally{CE()}}else if(typeof s=="number"){let o=null,a=RE(t,e),c=Ji,u=r&ee.Host?e[Zt][en]:null;for((a===-1||r&ee.SkipSelf)&&(c=a===-1?hp(t,e):e[a+8],c===Ji||!Iw(r,!1)?a=-1:(o=e[B],a=uu(c),e=lu(c,e)));a!==-1;){let l=e[B];if(Ew(s,a,l.data)){let d=Rx(a,e,n,o,r,u);if(d!==pn)return d}c=e[a+8],c!==Ji&&Iw(r,e[B].data[a+8]===u)&&Ew(s,a,e)?(o=l,a=uu(c),e=lu(c,e)):a=-1}}return i}function Rx(t,e,n,r,i,s){let o=e[B],a=o.data[t+8],c=r==null?Su(a)&&gf:r!=o&&(a.type&3)!==0,u=i&ee.Host&&s===a,l=eu(a,o,n,c,u);return l!==null?Hr(e,o,l,a):pn}function eu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let v=o[f];if(f<c&&n===v||f>=c&&v.type===n)return f}if(i){let f=o[c];if(f&&cr(f)&&f.type===n)return c}return null}function Hr(t,e,n,r){let i=t[n],s=e.data;if(Cx(i)){let o=i;o.resolving&&gA(mA(s[n]));let a=du(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Ct(o.injectImpl):null,l=wE(t,r,ee.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ix(n,s[n],e)}finally{u!==null&&Ct(u),du(a),o.resolving=!1,CE()}}return i}function Nx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(uo)?t[uo]:void 0;return typeof e=="number"?e>=0?e&xE:Px:e}function Ew(t,e,n){let r=1<<t;return!!(n[e+(t>>ME)]&r)}function Iw(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var Fr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OE(this._tNode,this._lView,e,Tu(r),n)}};function Px(){return new Fr(Vt(),le())}function hr(t){return bo(()=>{let e=t.prototype.constructor,n=e[iu]||vf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[iu]||vf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function vf(t){return Hw(t)?()=>{let e=vf(mt(t));return e&&e()}:jr(t)}function Ox(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[V]&2048&&!(o[V]&512);){let a=kE(s,o,n,r|ee.Self,pn);if(a!==pn)return a;let c=s.parent;if(!c){let u=o[oE];if(u){let l=u.get(n,pn,r);if(l!==pn)return l}c=FE(o),o=o[ss]}s=c}return i}function FE(t){let e=t[B],n=e.type;return n===2?e.declTNode:n===1?t[en]:null}var Qc="__parameters__";function kx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Fx(t,e,n){return bo(()=>{let r=kx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Qc)?c[Qc]:Object.defineProperty(c,Qc,{value:[]})[Qc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Vx(t){return typeof t=="function"}function Lx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Ux(t){return t.flat(Number.POSITIVE_INFINITY)}function fp(t,e){t.forEach(n=>Array.isArray(n)?fp(n,e):e(n))}function VE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function jx(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Bx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function $x(t,e,n){let r=Mo(t,e);return r>=0?t[r|1]=n:(r=~r,Bx(t,r,e,n)),r}function Qh(t,e){let n=Mo(t,e);if(n>=0)return t[n|1]}function Mo(t,e){return Hx(t,e,1)}function Hx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var vn=SA(Fx("Optional"),8);var Ro=new A("ENVIRONMENT_INITIALIZER"),LE=new A("INJECTOR",-1),UE=new A("INJECTOR_DEF_TYPES"),pu=class{get(e,n=fo){if(n===fo){let r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return n}};function os(t){return{\u0275providers:t}}function No(...t){return{\u0275providers:jE(!0,t),\u0275fromNgModule:!0}}function jE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return fp(e,o=>{let a=o;_f(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&BE(i,s),n}function BE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];pp(i,s=>{e(s,r)})}}function _f(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,s=dw(t),o=!s&&Vr(t);if(!s&&!o){let c=t.ngModule;if(s=dw(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)_f(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{fp(s.imports,l=>{_f(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&BE(u,e)}if(!a){let u=jr(i)||(()=>new i);e({provide:i,useFactory:u,deps:kt},i),e({provide:UE,useValue:i,multi:!0},i),e({provide:Ro,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;pp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function pp(t,e){for(let n of t)qw(n)&&(n=n.\u0275providers),Array.isArray(n)?pp(n,e):e(n)}var qx=me({provide:String,useValue:me});function $E(t){return t!==null&&typeof t=="object"&&qx in t}function zx(t){return!!(t&&t.useExisting)}function Gx(t){return!!(t&&t.useFactory)}function ns(t){return typeof t=="function"}function Wx(t){return!!t.useClass}var xu=new A("Set Injector scope."),tu={},Kx={},Yh;function mp(){return Yh===void 0&&(Yh=new pu),Yh}var Tt=class{},vo=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ef(e,o=>this.processProvider(o)),this.records.set(LE,Qi(void 0,this)),i.has("environment")&&this.records.set(Tt,Qi(void 0,this));let s=this.records.get(xu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(UE,kt,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=or(this),r=Ct(void 0),i;try{return e()}finally{or(n),Ct(r)}}get(e,n=fo,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(uw))return e[uw](this);r=Tu(r);let i,s=or(this),o=Ct(void 0);try{if(!(r&ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=Xx(e)&&Cu(e);u&&this.injectableDefInScope(u)?c=Qi(wf(e),tu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ee.Self?mp():this.parent;return n=r&ee.Optional&&n===fo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[su]=a[su]||[]).unshift(ot(e)),s)throw a;return xA(a,e,"R3InjectorError",this.source)}else throw a}finally{Ct(o),or(s)}}resolveInjectorInitializers(){let e=or(this),n=Ct(void 0),r;try{let i=this.get(Ro,kt,ee.Self);for(let s of i)s()}finally{or(e),Ct(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=mt(e);let n=ns(e)?e:mt(e&&e.provide),r=Yx(e);if(!ns(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,tu,!0),i.factory=()=>hf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===tu&&(n.value=Kx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Zx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function wf(t){let e=Cu(t),n=e!==null?e.factory:jr(t);if(n!==null)return n;if(t instanceof A)throw new M(204,!1);if(t instanceof Function)return Qx(t);throw new M(204,!1)}function Qx(t){let e=t.length;if(e>0){let r=jx(e,"?");throw new M(204,!1)}let n=_A(t);return n!==null?()=>n.factory(t):()=>new t}function Yx(t){if($E(t))return Qi(void 0,t.useValue);{let e=HE(t);return Qi(e,tu)}}function HE(t,e,n){let r;if(ns(t)){let i=mt(t);return jr(i)||wf(i)}else if($E(t))r=()=>mt(t.useValue);else if(Gx(t))r=()=>t.useFactory(...hf(t.deps||[]));else if(zx(t))r=()=>R(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(Jx(t))r=()=>new i(...hf(t.deps));else return jr(i)||wf(i)}return r}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Jx(t){return!!t.deps}function Zx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Xx(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function Ef(t,e){for(let n of t)Array.isArray(n)?Ef(n,e):n&&qw(n)?Ef(n.\u0275providers,e):e(n)}function qn(t,e){t instanceof vo&&t.assertNotDestroyed();let n,r=or(t),i=Ct(void 0);try{return e()}finally{or(r),Ct(i)}}function Dw(t,e=null,n=null,r){let i=qE(t,e,n,r);return i.resolveInjectorInitializers(),i}function qE(t,e=null,n=null,r,i=new Set){let s=[n||kt,No(t)];return r=r||(typeof t=="object"?void 0:ot(t)),new vo(s,e||mp(),r||null,i)}var tn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Dw({name:""},i,r,"");{let s=r.name??"";return Dw({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=fo,e.NULL=new pu,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>R(LE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var If;function zE(t){If=t}function eM(){if(If!==void 0)return If;if(typeof document<"u")return document;throw new M(210,!1)}var gp=new A("AppId",{providedIn:"root",factory:()=>tM}),tM="ng",yp=new A("Platform Initializer"),_n=new A("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var vp=new A("CSP nonce",{providedIn:"root",factory:()=>eM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function GE(t){return t instanceof Function?t():t}function WE(t){return(t.flags&128)===128}var Un=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Un||{});var KE=new Map,nM=0;function rM(){return nM++}function iM(t){KE.set(t[bu],t)}function sM(t){KE.delete(t[bu])}var Cw="__ngContext__";function qr(t,e){ar(e)?(t[Cw]=e[bu],iM(e)):t[Cw]=e}var oM;function _p(t,e){return oM(t,e)}function wp(t){let e=t[Ve];return Xt(e)?e[Ve]:e}function QE(t){return JE(t[yo])}function YE(t){return JE(t[Jt])}function JE(t){for(;t!==null&&!Xt(t);)t=t[Jt];return t}function Yi(t,e,n,r,i){if(r!=null){let s,o=!1;Xt(r)?s=r:ar(r)&&(o=!0,r=r[Hn]);let a=yn(r);t===0&&n!==null?i==null?eI(e,n,a):mu(e,n,a,i||null,!0):t===1&&n!==null?mu(e,n,a,i||null,!0):t===2?CM(e,a,o):t===3&&e.destroyNode(a),s!=null&&bM(e,t,s,n,i)}}function aM(t,e){return t.createText(e)}function cM(t,e,n){t.setValue(e,n)}function ZE(t,e,n){return t.createElement(e,n)}function uM(t,e){let n=e[Ke];Po(t,e,n,2,null,null),e[Hn]=null,e[en]=null}function lM(t,e,n,r,i,s){r[Hn]=i,r[en]=e,Po(t,r,n,1,i,s)}function dM(t,e){Po(t,e,e[Ke],2,null,null)}function hM(t){let e=t[yo];if(!e)return Jh(t[B],t);for(;e;){let n=null;if(ar(e))n=e[yo];else{let r=e[at];r&&(n=r)}if(!n){for(;e&&!e[Jt]&&e!==t;)ar(e)&&Jh(e[B],e),e=e[Ve];e===null&&(e=t),ar(e)&&Jh(e[B],e),n=e&&e[Jt]}e=n}}function fM(t,e,n,r){let i=at+r,s=n.length;r>0&&(n[i-1][Jt]=e),r<s-at?(e[Jt]=n[i],VE(n,at+r,e)):(n.push(e),e[Jt]=null),e[Ve]=n;let o=e[So];o!==null&&n!==o&&pM(o,e);let a=e[mn];a!==null&&a.insertView(t),mE(e),e[V]|=128}function pM(t,e){let n=t[es],i=e[Ve][Ve][Zt];e[Zt]!==i&&(t[V]|=ts.HasTransplantedViews),n===null?t[es]=[e]:n.push(e)}function XE(t,e){let n=t[es],r=n.indexOf(e),i=e[Ve];n.splice(r,1)}function _o(t,e){if(t.length<=at)return;let n=at+e,r=t[n];if(r){let i=r[So];i!==null&&i!==t&&XE(i,r),e>0&&(t[n-1][Jt]=r[Jt]);let s=fu(t,at+e);uM(r[B],r);let o=s[mn];o!==null&&o.detachView(s[B]),r[Ve]=null,r[Jt]=null,r[V]&=-129}return r}function Mu(t,e){if(!(e[V]&256)){let n=e[Ke];e[Lr]&&F_(e[Lr]),n.destroyNode&&Po(t,e,n,3,null,null),hM(e)}}function Jh(t,e){if(!(e[V]&256)){e[V]&=-129,e[V]|=256,gM(t,e),mM(t,e),e[B].type===1&&e[Ke].destroy();let n=e[So];if(n!==null&&Xt(e[Ve])){n!==e[Ve]&&XE(n,e);let r=e[mn];r!==null&&r.detachView(t)}sM(e)}}function mM(t,e){let n=t.cleanup,r=e[mo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[mo]=null);let i=e[ho];if(i!==null){e[ho]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function gM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof $r)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];fn(4,a,c);try{c.call(a)}finally{fn(5,a,c)}}else{fn(4,i,s);try{s.call(i)}finally{fn(5,i,s)}}}}}function yM(t,e,n){return vM(t,e.parent,n)}function vM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Hn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===gn.None||s===gn.Emulated)return null}return Ft(r,n)}}function mu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eI(t,e,n){t.appendChild(e,n)}function Tw(t,e,n,r,i){r!==null?mu(t,e,n,r,i):eI(t,e,n)}function _M(t,e,n,r){t.removeChild(e,n,r)}function Ep(t,e){return t.parentNode(e)}function wM(t,e){return t.nextSibling(e)}function EM(t,e,n){return DM(t,e,n)}function IM(t,e,n){return t.type&40?Ft(t,n):null}var DM=IM,bw;function Ip(t,e,n,r){let i=yM(t,r,e),s=e[Ke],o=r.parent||e[en],a=EM(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Tw(s,i,n[c],a,!1);else Tw(s,i,n,a,!1);bw!==void 0&&bw(s,r,e,n,i)}function nu(t,e){if(e!==null){let n=e.type;if(n&3)return Ft(e,t);if(n&4)return Df(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return nu(t,r);{let i=t[e.index];return Xt(i)?Df(-1,i):yn(i)}}else{if(n&32)return _p(e,t)()||yn(t[e.index]);{let r=tI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=wp(t[Zt]);return nu(i,r)}else return nu(t,e.next)}}}return null}function tI(t,e){if(e!==null){let r=t[Zt][en],i=e.projection;return r.projection[i]}return null}function Df(t,e){let n=at+t+1;if(n<e.length){let r=e[n],i=r[B].firstChild;if(i!==null)return nu(r,i)}return e[Ur]}function CM(t,e,n){let r=Ep(t,e);r&&_M(t,r,e,n)}function Dp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&qr(yn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Dp(t,e,n.child,r,i,s,!1),Yi(e,t,i,a,s);else if(c&32){let u=_p(n,r),l;for(;l=u();)Yi(e,t,i,l,s);Yi(e,t,i,a,s)}else c&16?TM(t,e,r,n,i,s):Yi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Po(t,e,n,r,i,s){Dp(n,r,t.firstChild,e,i,s,!1)}function TM(t,e,n,r,i,s){let o=n[Zt],c=o[en].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Yi(e,t,i,l,s)}else{let u=c,l=o[Ve];WE(r)&&(u.flags|=128),Dp(t,e,u,l,i,s,!0)}}function bM(t,e,n,r,i){let s=n[Ur],o=yn(n);s!==o&&Yi(e,t,r,s,i);for(let a=at;a<n.length;a++){let c=n[a];Po(c[B],c,t,e,r,s)}}function SM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Un.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Un.Important),t.setStyle(n,r,i,s))}}function AM(t,e,n){t.setAttribute(e,"style",n)}function nI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ff(t,e,r),i!==null&&nI(t,e,i),s!==null&&AM(t,e,s)}var Cf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lA})`}};function Cp(t){return t instanceof Cf?t.changingThisBreaksApplicationSecurity:t}var xM="h",MM="b";var RM=(t,e,n)=>null;function Tp(t,e,n=!1){return RM(t,e,n)}var Tf=class{},gu=class{};function NM(t){let e=Error(`No component factory found for ${ot(t)}.`);return e[PM]=t,e}var PM="ngComponent";var bf=class{resolveComponentFactory(e){throw NM(e)}},Ru=(()=>{let e=class e{};e.NULL=new bf;let t=e;return t})();function OM(){return as(Vt(),le())}function as(t,e){return new Lt(Ft(t,e))}var Lt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=OM;let t=e;return t})();function kM(t){return t instanceof Lt?t.nativeElement:t}var wo=class{},cs=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>FM();let t=e;return t})();function FM(){let t=le(),e=Vt(),n=dr(e.index,t);return(ar(n)?n:t)[Ke]}var VM=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),jn=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},bp=new jn("17.0.5"),Zh={};function yu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(yn(s)),Xt(s)&&LM(s,r);let o=n.type;if(o&8)yu(t,e,n.child,r);else if(o&32){let a=_p(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=tI(e,n);if(Array.isArray(a))r.push(...a);else{let c=wp(e[Zt]);yu(c[B],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function LM(t,e){for(let n=at;n<t.length;n++){let r=t[n],i=r[B].firstChild;i!==null&&yu(r[B],r,i,e)}t[Ur]!==t[Hn]&&e.push(t[Ur])}var iI=[];function UM(t){return t[Lr]??jM(t)}function jM(t){let e=iI.pop()??Object.create($M);return e.lView=t,e}function BM(t){t.lView[Lr]!==t&&(t.lView=null,iI.push(t))}var $M=fe(S({},P_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Au(t.lView)},consumerOnSignalRead(){this.lView[Lr]=this}}),HM="ngOriginalError";function Xh(t){return t[HM]}var Bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Xh(e);for(;n&&Xh(n);)n=Xh(n);return n||null}};var sI=!1,qM=new A("",{providedIn:"root",factory:()=>sI});var Qr={};function H(t){oI(At(),le(),Kr()+t,!1)}function oI(t,e,n,r){if(!r)if((e[V]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Zc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Xc(e,s,0,n)}Br(n)}function Y(t,e=ee.Default){let n=le();if(n===null)return R(t,e);let r=Vt();return OE(r,n,mt(t),e)}function zM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Br(~i);else{let s=i,o=n[++r],a=n[++r];gx(o,s);let c=e[s];a(2,c)}}}finally{Br(-1)}}function Nu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Hn]=i,d[V]=r|4|128|8,(u!==null||t&&t[V]&2048)&&(d[V]|=2048),fE(d),d[Ve]=d[ss]=t,d[tt]=n,d[go]=o||t&&t[go],d[Ke]=a||t&&t[Ke],d[Xi]=c||t&&t[Xi]||null,d[en]=s,d[bu]=rM(),d[ou]=l,d[oE]=u,d[Zt]=e.type==2?t[Zt]:d,d}function Pu(t,e,n,r,i){let s=t.data[e];if(s===null)s=GM(t,e,n,r,i),mx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=lx();s.injectorIndex=o===null?-1:o.injectorIndex}return Ao(s,!0),s}function GM(t,e,n,r,i){let s=yE(),o=vE(),a=o?s:s&&s.parent,c=t.data[e]=ZM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function aI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cI(t,e,n,r,i){let s=Kr(),o=r&2;try{Br(-1),o&&e.length>xt&&oI(t,e,xt,!1),fn(o?2:0,i),n(r,i)}finally{Br(s),fn(o?3:1,i)}}function uI(t,e,n){if(cE(e)){let r=Xe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Xe(r)}}}function lI(t,e,n){gE()&&(sR(t,e,n,Ft(n,e)),(n.flags&64)===64&&mI(t,e,n))}function dI(t,e,n=Ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function hI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Sp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sp(t,e,n,r,i,s,o,a,c,u,l){let d=xt+r,h=d+i,f=WM(d,h),v=typeof u=="function"?u():u;return f[B]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:l}}function WM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qr);return n}function KM(t,e,n,r){let s=r.get(qM,sI)||n===gn.ShadowDom,o=t.selectRootElement(e,s);return QM(o),o}function QM(t){YM(t)}var YM=t=>null;function JM(t,e,n,r){let i=_I(e);i.push(n),t.firstCreatePass&&wI(t).push(r,i.length-1)}function ZM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ax()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Sw(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?Aw(n,e,i,s):r.hasOwnProperty(i)&&Aw(n,e,r[i],s)}return n}function Aw(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function XM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,v=h?h.outputs:null;c=Sw(d.inputs,l,c,f),u=Sw(d.outputs,l,u,v);let I=c!==null&&o!==null&&!Zw(e)?gR(c,l,o):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function eR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function tR(t,e,n,r,i,s,o,a){let c=Ft(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Ap(t,n,l,r,i),Su(e)&&nR(n,e.index)):e.type&3?(r=eR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function nR(t,e){let n=dr(e,t);n[V]&16||(n[V]|=64)}function fI(t,e,n,r){if(gE()){let i=r===null?null:{"":-1},s=aR(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&pI(t,e,n,o,i,a),i&&cR(n,r,i)}n.mergedAttrs=po(n.mergedAttrs,n.attrs)}function pI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)yf(hu(n,e),t,r[u].type);lR(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=aI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=po(n.mergedAttrs,l.hostAttrs),dR(t,n,e,c,l),uR(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}XM(t,n,s)}function rR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;iR(o)!=a&&o.push(a),o.push(n,r,s)}}function iR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Su(n)&&hR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||hu(n,e),qr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Hr(e,t,a,n);if(qr(u,e),o!==null&&mR(e,a-i,u,c,n,o),cr(c)){let l=dr(n.index,e);l[tt]=Hr(e,t,a,n)}}}function mI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=yx();try{Br(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];mf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&oR(c,u)}}finally{Br(-1),mf(o)}}function oR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function aR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(VA(e,o.selectors,!1))if(r||(r=[]),cr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Sf(t,e,c)}else r.unshift(o),Sf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Sf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function cR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new M(-301,!1);r.push(e[i],s)}}}function uR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cr(e)&&(n[""]=t)}}function lR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=jr(i.type,!0)),o=new $r(s,cr(i),Y);t.blueprint[r]=o,n[r]=o,rR(t,e,r,aI(t,n,i.hostVars,Qr),i)}function hR(t,e,n){let r=Ft(e,t),i=hI(n),s=t[go].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ou(t,Nu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function fR(t,e,n,r,i,s){let o=Ft(t,e);pR(e[Ke],o,s,t.value,n,r,i)}function pR(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?tp(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function mR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];gI(r,n,c,u,l)}}function gI(t,e,n,r,i){let s=Xe(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{Xe(s)}}function gR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function yI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vI(t,e){let n=t.contentQueries;if(n!==null){let r=Xe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];op(s),a.contentQueries(2,e[o],o)}}}finally{Xe(r)}}}function Ou(t,e){return t[yo]?t[vw][Jt]=e:t[yo]=e,t[vw]=e,e}function Af(t,e,n){op(0);let r=Xe(null);try{e(t,n)}finally{Xe(r)}}function _I(t){return t[mo]||(t[mo]=[])}function wI(t){return t.cleanup||(t.cleanup=[])}function EI(t,e){let n=t[Xi],r=n?n.get(Bn,null):null;r&&r.handleError(e)}function Ap(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];gI(u,c,r,a,i)}}function yR(t,e,n){let r=hE(e,t);cM(t[Ke],r,n)}var vR=100;function _R(t,e=!0){let n=t[go],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{let o=t[B],a=t[tt];II(o,t,o.template,a),wR(t)}catch(o){throw e&&EI(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function wR(t){let e=0;for(;pE(t);){if(e===vR)throw new M(103,!1);e++,TI(t,1)}}function II(t,e,n,r){let i=e[V];if((i&256)===256)return;let s=!1;!s&&e[go].inlineEffectRunner?.flush(),ap(e);let o=null,a=null;!s&&ER(t)&&(a=UM(e),o=O_(a));try{fE(e),fx(t.bindingStartIndex),n!==null&&cI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Zc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Xc(e,d,0,null),Wh(e,0)}if(IR(e),DI(e,0),t.contentQueries!==null&&vI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Zc(e,d)}else{let d=t.contentHooks;d!==null&&Xc(e,d,1),Wh(e,1)}zM(t,e);let u=t.components;u!==null&&bI(e,u,0);let l=t.viewQuery;if(l!==null&&Af(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Zc(e,d)}else{let d=t.viewHooks;d!==null&&Xc(e,d,2),Wh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gh]){for(let d of e[Gh])d();e[Gh]=null}s||(e[V]&=-73)}catch(c){throw Au(e),c}finally{a!==null&&(k_(a,o),BM(a)),cp()}}function ER(t){return t.type!==2}function DI(t,e){for(let n=QE(t);n!==null;n=YE(n)){n[V]&=~ts.HasChildViewsToRefresh;for(let r=at;r<n.length;r++){let i=n[r];CI(i,e)}}}function IR(t){for(let e=QE(t);e!==null;e=YE(e)){if(!(e[V]&ts.HasTransplantedViews))continue;let n=e[es];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ve];tx(i)}}}function DR(t,e,n){let r=dr(e,t);CI(r,n)}function CI(t,e){sp(t)&&TI(t,e)}function TI(t,e){let r=t[B],i=t[V],s=t[Lr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Dh(s)),s&&(s.dirty=!1),t[V]&=-9217,o)II(r,t,r.template,t[tt]);else if(i&8192){DI(t,1);let a=r.components;a!==null&&bI(t,a,1)}}function bI(t,e,n){for(let r=0;r<e.length;r++)DR(t,e[r],n)}function xp(t){for(;t;){t[V]|=64;let e=wp(t);if(GA(t)&&!e)return t;t=e}return null}var zr=class{get rootNodes(){let e=this._lView,n=e[B];return yu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return(this._lView[V]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ve];if(Xt(e)){let n=e[au],r=n?n.indexOf(this):-1;r>-1&&(_o(e,r),fu(n,r))}this._attachedToViewContainer=!1}Mu(this._lView[B],this._lView)}onDestroy(e){rx(this._lView,e)}markForCheck(){xp(this._cdRefInjectingView||this._lView)}detach(){this._lView[V]&=-129}reattach(){mE(this._lView),this._lView[V]|=128}detectChanges(){_R(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,dM(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e}},us=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CR;let t=e;return t})();function CR(t){return TR(Vt(),le(),(t&16)===16)}function TR(t,e,n){if(Su(t)&&!n){let r=dr(t.index,e);return new zr(r,r)}else if(t.type&47){let r=e[Zt];return new zr(r,e)}return null}var xw=new Set;function Oo(t){xw.has(t)||(xw.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var xf=class extends et{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=ef(s),i&&(i=ef(i)),o&&(o=ef(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ke&&e.add(a),a}};function ef(t){return e=>{setTimeout(t,void 0,e)}}var Pe=xf;function Mw(...t){}function bR(){let t=typeof Ln.requestAnimationFrame=="function",e=Ln[t?"requestAnimationFrame":"setTimeout"],n=Ln[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var pe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=bR().nativeRequestAnimationFrame,xR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,SR,Mw,Mw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SR={};function Mp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ln,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mf(t),t.isCheckStableRunning=!0,Mp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mf(t))}function xR(t){let e=()=>{AR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(MR(a))return n.invokeTask(i,s,o,a);try{return Rw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Nw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Rw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Nw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Mf(t),Mp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Mf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Rw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nw(t){t._nesting--,Mp(t)}var SI=new A("",{providedIn:"root",factory:AI});function AI(){let t=b(pe),e=!0,n=new W(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new W(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{pe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return Bh(n,r.pipe(Gc()))}function MR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var RR=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function NR(t,e){let n=dr(e,t),r=n[B];PR(r,n);let i=n[Hn];i!==null&&n[ou]===null&&(n[ou]=Tp(i,n[Xi])),Rp(r,n,n[tt])}function PR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Rp(t,e,n){ap(e);try{let r=t.viewQuery;r!==null&&Af(1,r,n);let i=t.template;i!==null&&cI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vI(t,e),t.staticViewQueries&&Af(2,t.viewQuery,n);let s=t.components;s!==null&&OR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[V]&=-5,cp()}}function OR(t,e){for(let n=0;n<e.length;n++)NR(t,e[n])}function Rf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=cw(i,a);else if(s==2){let c=a,u=e[++o];r=cw(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vu=class extends Ru{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Vr(e);return new Eo(n,this.ngModule)}};function Pw(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function kR(t){let e=t.toLowerCase();return e==="svg"?YA:e==="math"?JA:null}var Nf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Tu(r);let i=this.injector.get(e,Zh,r);return i!==Zh||n===Zh?i:this.parentInjector.get(e,n,r)}},Eo=class extends gu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Pw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Pw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=BA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Nf(e,s):e,a=o.get(wo,null);if(a===null)throw new M(407,!1);let c=o.get(VM,null),u=o.get(RR,null),l={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?KM(d,r,this.componentDef.encapsulation,o):ZE(d,h,kR(h)),v=4608,I=this.componentDef.onPush?576:528,y=this.componentDef.signals?v:I,D=null;f!==null&&(D=Tp(f,o,!0));let F=Sp(0,null,null,1,0,null,null,null,null,null,null),Q=Nu(null,F,null,y,null,null,l,d,o,null,D);ap(Q);let G,Re;try{let se=this.componentDef,We,ln=null;se.findHostDirectiveDefs?(We=[],ln=new Map,se.findHostDirectiveDefs(se,We,ln),We.push(se)):We=[se];let Mr=FR(Q,f),Oi=VR(Mr,f,se,We,Q,l,d);Re=ip(F,xt),f&&jR(d,se,f,r),n!==void 0&&BR(Re,this.ngContentSelectors,n),G=UR(Oi,se,We,ln,Q,[$R]),Rp(F,Q,null)}finally{cp()}return new Pf(this.componentType,G,as(Re,Q),Q,Re)}},Pf=class extends Tf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ap(s[B],s,i,e,n),this.previousInputValues.set(e,n);let o=dr(this._tNode.index,s);xp(o)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FR(t,e){let n=t[B],r=xt;return t[r]=e,Pu(n,r,2,"#host",null)}function VR(t,e,n,r,i,s,o){let a=i[B];LR(r,t,e,o);let c=null;e!==null&&(c=Tp(e,i[Xi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Nu(i,hI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Sf(a,t,r.length-1),Ou(i,d),i[t.index]=d}function LR(t,e,n,r){for(let i of t)e.mergedAttrs=po(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Rf(e,e.mergedAttrs,!0),n!==null&&rI(r,n,e))}function UR(t,e,n,r,i,s){let o=Vt(),a=i[B],c=Ft(o,i);pI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Hr(i,a,d,o);qr(h,i)}mI(a,i,o),c&&qr(c,i);let u=Hr(i,a,o.directiveStart+o.componentOffset,o);if(t[tt]=i[tt]=u,s!==null)for(let l of s)l(u,e);return uI(a,o,t),u}function jR(t,e,n,r){if(r)ff(t,n,["ng-version",bp.full]);else{let{attrs:i,classes:s}=$A(e.selectors[0]);i&&ff(t,n,i),s&&s.length>0&&nI(t,n,s.join(" "))}}function BR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function $R(){let t=Vt();dp(le()[B],t)}function HR(t){return Object.getPrototypeOf(t.prototype).constructor}function nn(t){let e=HR(t.type),n=!0,r=[t];for(;e;){let i;if(cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Yc(t.inputs),o.inputTransforms=Yc(t.inputTransforms),o.declaredInputs=Yc(t.declaredInputs),o.outputs=Yc(t.outputs);let a=i.hostBindings;a&&WR(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&zR(t,c),u&&GR(t,u),Kc(t.inputs,i.inputs),Kc(t.declaredInputs,i.declaredInputs),Kc(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),Kc(o.inputTransforms,i.inputTransforms)),cr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===nn&&(n=!1)}}e=Object.getPrototypeOf(e)}qR(r)}function qR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=po(i.hostAttrs,n=po(n,i.hostAttrs))}}function Yc(t){return t===Zi?{}:t===kt?[]:t}function zR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function GR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function WR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function KR(t,e,n){return t[e]=n}function ur(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function QR(t,e,n,r){let i=ur(t,e,n);return ur(t,e+1,r)||i}function ko(t,e,n,r){let i=le(),s=xo();if(ur(i,s,e)){let o=At(),a=TE();fR(a,i,t,e,n,r)}return ko}function YR(t,e,n,r){return ur(t,xo(),n)?e+tp(n)+r:Qr}function Jc(t,e){return t<<17|e<<2}function Gr(t){return t>>17&32767}function JR(t){return(t&2)==2}function ZR(t,e){return t&131071|e<<17}function Of(t){return t|2}function rs(t){return(t&131068)>>2}function tf(t,e){return t&-131069|e<<2}function XR(t){return(t&1)===1}function kf(t){return t|1}function eN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Gr(o),c=rs(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Mo(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Gr(t[a+1]);t[r+1]=Jc(h,a),h!==0&&(t[h+1]=tf(t[h+1],r)),t[a+1]=ZR(t[a+1],r)}else t[r+1]=Jc(a,0),a!==0&&(t[a+1]=tf(t[a+1],r)),a=r;else t[r+1]=Jc(c,0),a===0?a=r:t[c+1]=tf(t[c+1],r),c=r;u&&(t[r+1]=Of(t[r+1])),Ow(t,l,r,!0,s),Ow(t,l,r,!1,s),tN(e,l,t,r,s),o=Jc(a,c),s?e.classBindings=o:e.styleBindings=o}function tN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Mo(s,e)>=0&&(n[r+1]=kf(n[r+1]))}function Ow(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?Gr(s):rs(s),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],l=t[a+1];nN(u,e)&&(c=!0,t[a+1]=r?kf(l):Of(l)),a=r?Gr(l):rs(l)}c&&(t[n+1]=r?Of(s):kf(s))}function nN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Mo(t,e)>=0:!1}function qe(t,e,n){let r=le(),i=xo();if(ur(r,i,e)){let s=At(),o=TE();tR(s,o,r,t,e,r[Ke],n,!1)}return qe}function kw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ap(t,n,s[o],o,r)}function ku(t,e){return rN(t,e,null,!0),ku}function rN(t,e,n,r){let i=le(),s=At(),o=px(2);if(s.firstUpdatePass&&sN(s,t,o,r),e!==Qr&&ur(i,o,e)){let a=s.data[Kr()];lN(s,a,i,i[Ke],t,i[o+1]=dN(e,n),r,o)}}function iN(t,e){return e>=t.expandoStartIndex}function sN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Kr()],o=iN(t,n);hN(s,r)&&e===null&&!o&&(e=!1),e=oN(i,s,e,r),eN(i,s,e,n,o,r)}}function oN(t,e,n,r){let i=vx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=nf(null,t,e,n,r),n=Io(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=nf(i,t,e,n,r),s===null){let c=aN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=nf(null,t,e,c[1],r),c=Io(c,e.attrs,r),cN(t,e,r,c))}else s=uN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function aN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[Gr(r)]}function cN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Gr(i)]=r}function uN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Io(r,o,n)}return Io(r,e.attrs,n)}function nf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Io(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Io(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),$x(t,o,n?!0:e[++s]))}return t===void 0?null:t}function lN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=XR(u)?Fw(c,e,n,i,rs(u),o):void 0;if(!_u(l)){_u(s)||JR(u)&&(s=Fw(c,null,n,i,a,o));let d=hE(Kr(),n);SM(r,o,d,i,s)}}function Fw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Qr&&(h=d?kt:void 0);let f=d?Qh(h,r):l===r?h:void 0;if(u&&!_u(f)&&(f=Qh(c,r)),_u(f)&&(a=f,o))return a;let v=t[i+1];i=o?Gr(v):rs(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Qh(c,r))}return a}function _u(t){return t!==void 0}function dN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ot(Cp(t)))),t}function hN(t,e){return(t.flags&(e?8:16))!==0}var TG=new RegExp(`^(\\d+)*(${MM}|${xM})*(.*)`);var fN=(t,e)=>null;function Do(t,e){return fN(t,e)}var Ff=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function rf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function pN(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=rf(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=rf(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let v=n(s,c),I=n(o,d),y=n(s,u);if(Object.is(y,I)){let D=n(a,h);Object.is(D,v)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new wu,i??=Lw(t,s,o,n),Vf(t,r,s,y))t.updateValue(s,u),s++,o++;else if(i.has(y))r.set(v,t.detach(s)),o--;else{let D=t.create(s,e[s]);t.attach(s,D),s++,o++}}for(;s<=a;)Vw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=rf(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new wu,i??=Lw(t,s,o,n);let h=n(s,l);if(Vf(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)Vw(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Vf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Vw(t,e,n,r,i){if(Vf(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function Lw(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var wu=class{constructor(){this.map=new Map}has(e){let n=this.map.get(e);return n!==void 0&&n.length>0}delete(e){let n=this.map.get(e);return n!==void 0?(n.shift(),!0):!1}get(e){let n=this.map.get(e);return n!==void 0&&n.length>0?n[0]:void 0}set(e,n){if(!this.map.has(e)){this.map.set(e,[n]);return}this.map.get(e)?.push(n)}forEach(e){for(let[n,r]of this.map)for(let i of r)e(i,n)}};function Fu(t,e,n,r){let i=e.tView,o=t[V]&4096?4096:16,a=Nu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[So]=c;let u=t[mn];return u!==null&&(a[mn]=u.createEmbeddedView(i)),Rp(i,a,n),a}function xI(t,e){let n=at+e;if(n<t.length)return t[n]}function Co(t,e){return!e||WE(t)}function Vu(t,e,n,r=!0){let i=e[B];if(fM(i,e,t,n),r){let s=Df(n,t),o=e[Ke],a=Ep(o,t[Ur]);a!==null&&lM(i,t[en],o,e,a,s)}}function MI(t,e){let n=_o(t,e);return n!==void 0&&Mu(n[B],n),n}var Yr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mN;let t=e;return t})();function mN(){let t=Vt();return NI(t,le())}var gN=Yr,RI=class extends gN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return as(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let e=hp(this._hostTNode,this._hostLView);if(AE(e)){let n=lu(e,this._hostLView),r=uu(e),i=n[B].data[r+8];return new Fr(i,n)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Uw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Do(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Co(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Vx(e),a;if(o)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let c=o?e:new Eo(Vr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let I=(o?u:this.parentInjector).get(Tt,null);I&&(s=I)}let l=Vr(c.componentType??{}),d=Do(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,Co(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ex(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ve],u=new RI(c,c[en],c[Ve]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Vu(o,i,s,r),e.attachToViewContainerRef(),VE(sf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Uw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=_o(this._lContainer,n);r&&(fu(sf(this._lContainer),n),Mu(r[B],r))}detach(e){let n=this._adjustIndex(e,-1),r=_o(this._lContainer,n);return r&&fu(sf(this._lContainer),n)!=null?new zr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Uw(t){return t[au]}function sf(t){return t[au]||(t[au]=[])}function NI(t,e){let n,r=e[t.index];return Xt(r)?n=r:(n=yI(r,e,null,t),e[t.index]=n,Ou(e,n)),vN(n,e,t,r),new RI(n,t,e)}function yN(t,e){let n=t[Ke],r=n.createComment(""),i=Ft(e,t),s=Ep(n,i);return mu(n,s,r,wM(n,i),!1),r}var vN=EN,_N=(t,e,n)=>!1;function wN(t,e,n){return _N(t,e,n)}function EN(t,e,n,r){if(t[Ur])return;let i;n.type&8?i=yn(r):i=yN(e,n),t[Ur]=i}function IN(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Pu(e,t,4,o||null,cu(u,a));fI(e,n,l,cu(u,c)),dp(e,l);let d=l.tView=Sp(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function gt(t,e,n,r,i,s,o,a){let c=le(),u=At(),l=t+xt,d=u.firstCreatePass?IN(l,u,c,e,n,r,i,s,o):u.data[l];Ao(d,!1);let h=DN(u,c,d,t);up()&&Ip(u,c,h,d),qr(h,c);let f=yI(h,c,h,d);return c[l]=f,Ou(c,f),wN(f,d,c),rp(d)&&lI(u,c,d),o!=null&&dI(c,d,a),gt}var DN=CN;function CN(t,e,n,r){return lp(!0),e[Ke].createComment("")}function wn(t,e,n){Oo("NgControlFlow");let r=le(),i=xo(),s=Bf(r,xt+t),o=0;if(ur(r,i,e)){let a=Xe(null);try{if(MI(s,o),e!==-1){let c=$f(r[B],xt+e),u=Do(s,c.tView.ssrId),l=Fu(r,c,n,{dehydratedView:u});Vu(s,l,o,Co(c,u))}}finally{Xe(a)}}else{let a=xI(s,o);a!==void 0&&(a[tt]=n)}}var Lf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-at}};function Jr(t){return t}var Uf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Zr(t,e,n,r,i,s,o,a,c,u,l){Oo("NgControlFlow");let d=c!==void 0,h=le(),f=a?o.bind(h[Zt][tt]):o,v=new Uf(d,f);h[xt+t]=v,gt(t+1,e,n,r,i,s),d&&gt(t+2,c,u,l)}var jf=class extends Ff{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-at}at(e){return this.getLView(e)[tt].$implicit}attach(e,n){let r=n[ou];this.needsIndexUpdate||=e!==this.length,Vu(this.lContainer,n,e,Co(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,TN(this.lContainer,e)}create(e,n){let r=Do(this.lContainer,this.templateTNode.tView.ssrId);return Fu(this.hostLView,this.templateTNode,new Lf(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Mu(e[B],e)}updateValue(e,n){this.getLView(e)[tt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[tt].$index=e}getLView(e){return bN(this.lContainer,e)}};function Xr(t){let e=Xe(null),n=Kr();try{let r=le(),i=r[B],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Bf(r,a),u=$f(i,a);s.liveCollection=new jf(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(pN(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=xo(),c=o.length===0;if(ur(r,a,c)){let u=n+2,l=Bf(r,u);if(c){let d=$f(i,u),h=Do(l,d.tView.ssrId),f=Fu(r,d,void 0,{dehydratedView:h});Vu(l,f,0,Co(d,h))}else MI(l,0)}}}finally{Xe(e)}}function Bf(t,e){return t[e]}function TN(t,e){return _o(t,e)}function bN(t,e){return xI(t,e)}function $f(t,e){return ip(t,e)}function SN(t,e,n,r,i,s){let o=e.consts,a=cu(o,i),c=Pu(e,t,2,r,a);return fI(e,n,c,cu(o,s)),c.attrs!==null&&Rf(c,c.attrs,!1),c.mergedAttrs!==null&&Rf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(t,e,n,r){let i=le(),s=At(),o=xt+t,a=i[Ke],c=s.firstCreatePass?SN(o,s,i,e,n,r):s.data[o],u=AN(s,i,c,a,e,t);i[o]=u;let l=rp(c);return Ao(c,!0),rI(a,u,c),(c.flags&32)!==32&&up()&&Ip(s,i,u,c),ix()===0&&qr(u,i),sx(),l&&(lI(s,i,c),uI(s,c,i)),r!==null&&dI(i,c),g}function p(){let t=Vt();vE()?dx():(t=t.parent,Ao(t,!1));let e=t;cx(e)&&ux(),ox();let n=At();return n.firstCreatePass&&(dp(n,t),cE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Tx(e)&&kw(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bx(e)&&kw(n,e,le(),e.stylesWithoutHost,!1),p}function ge(t,e,n,r){return g(t,e,n,r),p(),ge}var AN=(t,e,n,r,i,s)=>(lp(!0),ZE(r,i,Ex()));function Le(){return le()}var kr=void 0;function xN(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var MN=["en",[["a","p"],["AM","PM"],kr],[["AM","PM"],kr,kr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kr,"{1} 'at' {0}",kr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xN],of={};function Ut(t){let e=RN(t),n=jw(e);if(n)return n;let r=e.split("-")[0];if(n=jw(r),n)return n;if(r==="en")return MN;throw new M(701,!1)}function jw(t){return t in of||(of[t]=Ln.ng&&Ln.ng.common&&Ln.ng.common.locales&&Ln.ng.common.locales[t]),of[t]}var Oe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Oe||{});function RN(t){return t.toLowerCase().replace(/_/g,"-")}var Eu="en-US";var NN=Eu;function PN(t){yA(t,"Expected localeId to be defined"),typeof t=="string"&&(NN=t.toLowerCase().replace(/_/g,"-"))}function ei(t){return!!t&&typeof t.then=="function"}function PI(t){return!!t&&typeof t.subscribe=="function"}function L(t,e,n,r){let i=le(),s=At(),o=Vt();return kN(s,i,i[Ke],o,t,e,r),L}function ON(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[mo],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function kN(t,e,n,r,i,s,o){let a=rp(r),u=t.firstCreatePass&&wI(t),l=e[tt],d=_I(e),h=!0;if(r.type&3||o){let I=Ft(r,e),y=o?o(I):I,D=d.length,F=o?G=>o(yn(G[r.index])):r.index,Q=null;if(!o&&a&&(Q=ON(t,e,i,r.index)),Q!==null){let G=Q.__ngLastListenerFn__||Q;G.__ngNextListenerFn__=s,Q.__ngLastListenerFn__=s,h=!1}else{s=$w(r,e,l,s,!1);let G=n.listen(y,i,s);d.push(s,G),u&&u.push(i,F,D,D+1)}}else s=$w(r,e,l,s,!1);let f=r.outputs,v;if(h&&f!==null&&(v=f[i])){let I=v.length;if(I)for(let y=0;y<I;y+=2){let D=v[y],F=v[y+1],Re=e[D][F].subscribe(s),se=d.length;d.push(s,Re),u&&u.push(i,r.index,se,-(se+1))}}}function Bw(t,e,n,r){try{return fn(6,e,n),n(r)!==!1}catch(i){return EI(t,i),!1}finally{fn(7,e,n)}}function $w(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?dr(t.index,e):e;xp(a);let c=Bw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Bw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function J(t=1){return wx(t)}function FN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function _(t,e=""){let n=le(),r=At(),i=t+xt,s=r.firstCreatePass?Pu(r,i,1,e,null):r.data[i],o=VN(r,n,s,e,t);n[i]=o,up()&&Ip(r,n,o,s),Ao(s,!1)}var VN=(t,e,n,r,i)=>(lp(!0),aM(e[Ke],r));function be(t){return OI("",t,""),be}function OI(t,e,n){let r=le(),i=YR(r,t,e,n);return i!==Qr&&yR(r,Kr(),i),OI}function LN(t,e,n){let r=At();if(r.firstCreatePass){let i=cr(t);Hf(n,r.data,r.blueprint,i,!0),Hf(e,r.data,r.blueprint,i,!1)}}function Hf(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Hf(t[s],e,n,r,i);else{let s=At(),o=le(),a=Vt(),c=ns(t)?t:mt(t.provide),u=HE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ns(t)||!t.multi){let f=new $r(u,i,Y),v=cf(c,e,i?l:l+h,d);v===-1?(yf(hu(a,o),s,c),af(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[v]=f,o[v]=f)}else{let f=cf(c,e,l+h,d),v=cf(c,e,l,l+h),I=f>=0&&n[f],y=v>=0&&n[v];if(i&&!y||!i&&!I){yf(hu(a,o),s,c);let D=BN(i?jN:UN,n.length,i,r,u);!i&&y&&(n[v].providerFactory=D),af(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=kI(n[i?v:f],u,!i&&r);af(s,t,f>-1?f:v,D)}!i&&r&&y&&n[v].componentProviders++}}}function af(t,e,n,r){let i=ns(e),s=Wx(e);if(i||s){let c=(s?mt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function kI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function UN(t,e,n,r){return qf(this.multi,[])}function jN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Hr(n,n[B],this.providerFactory.index,r);s=a.slice(0,o),qf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],qf(i,s);return s}function qf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function BN(t,e,n,r,i){let s=new $r(t,n,Y);return s.multi=[],s.index=e,s.componentProviders=0,kI(s,i,r&&!n),s}function ti(t,e=[]){return n=>{n.providersResolver=(r,i)=>LN(r,i?i(t):t,e)}}var lr=class{},To=class{};var zf=class extends lr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vu(this);let i=rE(e);this._bootstrapComponents=GE(i.bootstrap),this._r3Injector=qE(e,n,[{provide:lr,useValue:this},{provide:Ru,useValue:this.componentFactoryResolver},...r],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gf=class extends To{constructor(e){super(),this.moduleType=e}create(e){return new zf(this.moduleType,e,[])}};var Iu=class extends lr{constructor(e){super(),this.componentFactoryResolver=new vu(this),this.instance=null;let n=new vo([...e.providers,{provide:lr,useValue:this},{provide:Ru,useValue:this.componentFactoryResolver}],e.parent||mp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Np(t,e,n=null){return new Iu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var $N=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=jE(!1,r.type),s=i.length>0?Np([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(R(Tt))});let t=e;return t})();function Se(t){Oo("NgStandalone"),t.getStandaloneInjector=e=>e.get($N).getOrCreateStandaloneInjector(t)}function HN(t,e){let n=t[e];return n===Qr?void 0:n}function qN(t,e,n,r,i,s,o){let a=e+n;return QR(t,a,i,s)?KR(t,a+2,o?r.call(o,i,s):r(i,s)):HN(t,a+2)}function jt(t,e){let n=At(),r,i=t+xt;n.firstCreatePass?(r=zN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=jr(r.type,!0)),o,a=Ct(Y);try{let c=du(!1),u=s();return du(c),FN(n,le(),i,u),u}finally{Ct(a)}}function zN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Bt(t,e,n,r){let i=t+xt,s=le(),o=ZA(s,i);return GN(s,i)?qN(s,hx(),e,o.transform,n,r,o):o.transform(n,r)}function GN(t,e){return t[B].data[e].pure}function WN(){return this._results[Symbol.iterator]()}var Wf=class t{get changes(){return this._changes||(this._changes=new Pe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=WN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Ux(e);(this._changesDetected=!Lx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},is=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YN;let t=e;return t})(),KN=is,QN=class extends KN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Fu(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new zr(i)}};function YN(){return Pp(Vt(),le())}function Pp(t,e){return t.type&4?new QN(e,t,as(t,e)):null}var Kf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Qf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)VI(e,n).matches!==null&&this.queries[n].setDirty()}},Yf=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Jf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Zf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,JN(n,s)),this.matchTNodeWithReadOption(e,n,eu(n,e,s,!1,!1))}else r===is?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,eu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Lt||i===Yr||i===is&&n.type&4)this.addMatch(n.index,-2);else{let s=eu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function JN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function ZN(t,e){return t.type&11?as(t,e):t.type&4?Pp(t,e):null}function XN(t,e,n,r){return n===-1?ZN(e,t):n===-2?eP(t,e,r):Hr(t,t[B],n,e)}function eP(t,e,n){if(n===Lt)return as(e,t);if(n===is)return Pp(e,t);if(n===Yr)return NI(e,t)}function FI(t,e,n,r){let i=e[mn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(XN(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Xf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=FI(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=at;d<l.length;d++){let h=l[d];h[So]===h[Ve]&&Xf(h[B],h,u,r)}if(l[es]!==null){let d=l[es];for(let h=0;h<d.length;h++){let f=d[h];Xf(f[B],f,u,r)}}}}}return r}function fr(t){let e=le(),n=At(),r=_E();op(r+1);let i=VI(n,r);if(t.dirty&&XA(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Xf(n,e,r,[]):FI(n,e,i,r);t.reset(s,kM),t.notifyOnChanges()}return!0}return!1}function ni(t,e,n){let r=At();r.firstCreatePass&&(rP(r,new Yf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),nP(r,le(),e)}function pr(){return tP(le(),_E())}function tP(t,e){return t[mn].queries[e].queryList}function nP(t,e,n){let r=new Wf((n&4)===4);JM(t,e,r,r.destroy),e[mn]===null&&(e[mn]=new Qf),e[mn].queries.push(new Kf(r))}function rP(t,e,n){t.queries===null&&(t.queries=new Jf),t.queries.track(new Zf(e,n))}function VI(t,e){return t.queries.getByIndex(e)}var LI=new A("Application Initializer"),UI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=b(LI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ei(o))r.push(o);else if(PI(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function iP(){return typeof $localize<"u"&&$localize.locale||Eu}var Uu=new A("LocaleId",{providedIn:"root",factory:()=>b(Uu,ee.Optional|ee.SkipSelf)||iP()});var ls=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fe(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ep=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Op=(()=>{let e=class e{compileModuleSync(r){return new Gf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=rE(r),o=GE(s.declarations).reduce((a,c)=>{let u=Vr(c);return u&&a.push(new Eo(u)),a},[]);return new ep(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jI=new A("");var ru=null;var BI=new A("PlatformDestroyListeners"),ju=new A("appBootstrapListener");function sP(){V_(()=>{throw new M(600,!1)})}function oP(t){return t.isBoundToModule}function aP(t=[]){if(ru)return ru;let e=uP(t);return ru=e,sP(),cP(e),e}function cP(t){t.get(yp,null)?.forEach(n=>n())}function $I(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=aP(r),s=[mP(),...n||[]],a=new Iu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(pe);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Bn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(BI);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),dP(u,c,()=>{let f=a.get(UI);return f.runInitializers(),f.donePromise.then(()=>{let v=a.get(Uu,Eu);PN(v||Eu);let I=a.get(ds);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function uP(t=[],e){return tn.create({name:e,providers:[{provide:xu,useValue:"platform"},{provide:BI,useValue:new Set([()=>ru=null])},...t]})}function lP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function dP(t,e,n){try{let r=n();return ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ds=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(HI),this.zoneIsStable=b(SI),this.componentTypes=[],this.components=[],this.isStable=b(ls).hasPendingTasks.pipe(pt(r=>r?O(!1):this.zoneIsStable),Hc(),Gc()),this._injector=b(Tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof gu;if(!this._injector.get(UI).done){let v="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&nE(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new M(405,!1)}let a;s?a=r:a=this._injector.get(Ru).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=oP(a)?void 0:this._injector.get(lr),u=i||a.selector,l=a.create(tn.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(jI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),uf(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;uf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ju,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new M(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var HI=new A("",{providedIn:"root",factory:()=>b(Bn).handleError.bind(void 0)});function hP(){let t=b(pe),e=b(Bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}var fP=(()=>{let e=class e{constructor(){this.zone=b(pe),this.applicationRef=b(ds)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pP(t){return[{provide:pe,useFactory:t},{provide:Ro,multi:!0,useFactory:()=>{let e=b(fP,{optional:!0});return()=>e.initialize()}},{provide:HI,useFactory:hP},{provide:SI,useFactory:AI}]}function mP(t){let e=pP(()=>new pe(lP(t)));return os([[],e])}function Fo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Lp=null;function Kn(){return Lp}function KI(t){Lp||(Lp=t)}var Ku=class{},vt=new A("DocumentToken"),QI=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(vP))(),providedIn:"platform"});let t=e;return t})();var vP=(()=>{let e=class e extends QI{constructor(){super(),this._doc=b(vt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kn().getBaseHref(this._doc)}onPopState(r){let i=Kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function YI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function qI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ri(t){return t&&t[0]!=="?"?"?"+t:t}var Yu=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(JI))(),providedIn:"root"});let t=e;return t})(),_P=new A("appBaseHref"),JI=(()=>{let e=class e extends Yu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return YI(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ri(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ri(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ri(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(QI),R(_P,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lo=(()=>{let e=class e{constructor(r){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=IP(qI(zI(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ri(i))}normalize(r){return e.stripTrailingSlash(EP(this._basePath,zI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ri(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ri(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ri,e.joinWithSlash=YI,e.stripTrailingSlash=qI,e.\u0275fac=function(i){return new(i||e)(R(Yu))},e.\u0275prov=N({token:e,factory:()=>wP(),providedIn:"root"});let t=e;return t})();function wP(){return new Lo(R(Yu))}function EP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zI(t){return t.replace(/\/index.html$/,"")}function IP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var yt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(yt||{}),ye=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ye||{}),Mt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Mt||{}),Gn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Gn||{});function DP(t){return Ut(t)[Oe.LocaleId]}function CP(t,e,n){let r=Ut(t),i=[r[Oe.DayPeriodsFormat],r[Oe.DayPeriodsStandalone]],s=$t(i,e);return $t(s,n)}function TP(t,e,n){let r=Ut(t),i=[r[Oe.DaysFormat],r[Oe.DaysStandalone]],s=$t(i,e);return $t(s,n)}function bP(t,e,n){let r=Ut(t),i=[r[Oe.MonthsFormat],r[Oe.MonthsStandalone]],s=$t(i,e);return $t(s,n)}function SP(t,e){let r=Ut(t)[Oe.Eras];return $t(r,e)}function Bu(t,e){let n=Ut(t);return $t(n[Oe.DateFormat],e)}function $u(t,e){let n=Ut(t);return $t(n[Oe.TimeFormat],e)}function Hu(t,e){let r=Ut(t)[Oe.DateTimeFormat];return $t(r,e)}function Ju(t,e){let n=Ut(t),r=n[Oe.NumberSymbols][e];if(typeof r>"u"){if(e===Gn.CurrencyDecimal)return n[Oe.NumberSymbols][Gn.Decimal];if(e===Gn.CurrencyGroup)return n[Oe.NumberSymbols][Gn.Group]}return r}function ZI(t){if(!t[Oe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Oe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function AP(t){let e=Ut(t);return ZI(e),(e[Oe.ExtraData][2]||[]).map(r=>typeof r=="string"?kp(r):[kp(r[0]),kp(r[1])])}function xP(t,e,n){let r=Ut(t);ZI(r);let i=[r[Oe.ExtraData][0],r[Oe.ExtraData][1]],s=$t(i,e)||[];return $t(s,n)||[]}function $t(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function kp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var MP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vo={},RP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Wn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Wn||{}),ae=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ae||{}),oe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(oe||{});function NP(t,e,n,r){let i=BP(t);e=zn(n,e)||e;let o=[],a;for(;e;)if(a=RP.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=e0(r,c),i=jP(i,r,!0));let u="";return o.forEach(l=>{let d=LP(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Qu(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function zn(t,e){let n=DP(t);if(Vo[n]=Vo[n]||{},Vo[n][e])return Vo[n][e];let r="";switch(e){case"shortDate":r=Bu(t,Mt.Short);break;case"mediumDate":r=Bu(t,Mt.Medium);break;case"longDate":r=Bu(t,Mt.Long);break;case"fullDate":r=Bu(t,Mt.Full);break;case"shortTime":r=$u(t,Mt.Short);break;case"mediumTime":r=$u(t,Mt.Medium);break;case"longTime":r=$u(t,Mt.Long);break;case"fullTime":r=$u(t,Mt.Full);break;case"short":let i=zn(t,"shortTime"),s=zn(t,"shortDate");r=qu(Hu(t,Mt.Short),[i,s]);break;case"medium":let o=zn(t,"mediumTime"),a=zn(t,"mediumDate");r=qu(Hu(t,Mt.Medium),[o,a]);break;case"long":let c=zn(t,"longTime"),u=zn(t,"longDate");r=qu(Hu(t,Mt.Long),[c,u]);break;case"full":let l=zn(t,"fullTime"),d=zn(t,"fullDate");r=qu(Hu(t,Mt.Full),[l,d]);break}return r&&(Vo[n][e]=r),r}function qu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function rn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function PP(t,e){return rn(t,3).substring(0,e)}function Ue(t,e,n=0,r=!1,i=!1){return function(s,o){let a=OP(t,s);if((n>0||a>-n)&&(a+=n),t===ae.Hours)a===0&&n===-12&&(a=12);else if(t===ae.FractionalSeconds)return PP(a,e);let c=Ju(o,Gn.MinusSign);return rn(a,e,c,r,i)}}function OP(t,e){switch(t){case ae.FullYear:return e.getFullYear();case ae.Month:return e.getMonth();case ae.Date:return e.getDate();case ae.Hours:return e.getHours();case ae.Minutes:return e.getMinutes();case ae.Seconds:return e.getSeconds();case ae.FractionalSeconds:return e.getMilliseconds();case ae.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function _e(t,e,n=yt.Format,r=!1){return function(i,s){return kP(i,s,t,e,n,r)}}function kP(t,e,n,r,i,s){switch(n){case oe.Months:return bP(e,i,r)[t.getMonth()];case oe.Days:return TP(e,i,r)[t.getDay()];case oe.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=AP(e),l=xP(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,v]=h,I=o>=f.hours&&a>=f.minutes,y=o<v.hours||o===v.hours&&a<v.minutes;if(f.hours<v.hours){if(I&&y)return!0}else if(I||y)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return CP(e,i,r)[o<12?0:1];case oe.Eras:return SP(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function zu(t){return function(e,n,r){let i=-1*r,s=Ju(n,Gn.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Wn.Short:return(i>=0?"+":"")+rn(o,2,s)+rn(Math.abs(i%60),2,s);case Wn.ShortGMT:return"GMT"+(i>=0?"+":"")+rn(o,1,s);case Wn.Long:return"GMT"+(i>=0?"+":"")+rn(o,2,s)+":"+rn(Math.abs(i%60),2,s);case Wn.Extended:return r===0?"Z":(i>=0?"+":"")+rn(o,2,s)+":"+rn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var FP=0,Wu=4;function VP(t){let e=Qu(t,FP,1).getDay();return Qu(t,0,1+(e<=Wu?Wu:Wu+7)-e)}function XI(t){return Qu(t.getFullYear(),t.getMonth(),t.getDate()+(Wu-t.getDay()))}function Fp(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=XI(n),o=VP(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return rn(i,t,Ju(r,Gn.MinusSign))}}function Gu(t,e=!1){return function(n,r){let s=XI(n).getFullYear();return rn(s,t,Ju(r,Gn.MinusSign),e)}}var Vp={};function LP(t){if(Vp[t])return Vp[t];let e;switch(t){case"G":case"GG":case"GGG":e=_e(oe.Eras,ye.Abbreviated);break;case"GGGG":e=_e(oe.Eras,ye.Wide);break;case"GGGGG":e=_e(oe.Eras,ye.Narrow);break;case"y":e=Ue(ae.FullYear,1,0,!1,!0);break;case"yy":e=Ue(ae.FullYear,2,0,!0,!0);break;case"yyy":e=Ue(ae.FullYear,3,0,!1,!0);break;case"yyyy":e=Ue(ae.FullYear,4,0,!1,!0);break;case"Y":e=Gu(1);break;case"YY":e=Gu(2,!0);break;case"YYY":e=Gu(3);break;case"YYYY":e=Gu(4);break;case"M":case"L":e=Ue(ae.Month,1,1);break;case"MM":case"LL":e=Ue(ae.Month,2,1);break;case"MMM":e=_e(oe.Months,ye.Abbreviated);break;case"MMMM":e=_e(oe.Months,ye.Wide);break;case"MMMMM":e=_e(oe.Months,ye.Narrow);break;case"LLL":e=_e(oe.Months,ye.Abbreviated,yt.Standalone);break;case"LLLL":e=_e(oe.Months,ye.Wide,yt.Standalone);break;case"LLLLL":e=_e(oe.Months,ye.Narrow,yt.Standalone);break;case"w":e=Fp(1);break;case"ww":e=Fp(2);break;case"W":e=Fp(1,!0);break;case"d":e=Ue(ae.Date,1);break;case"dd":e=Ue(ae.Date,2);break;case"c":case"cc":e=Ue(ae.Day,1);break;case"ccc":e=_e(oe.Days,ye.Abbreviated,yt.Standalone);break;case"cccc":e=_e(oe.Days,ye.Wide,yt.Standalone);break;case"ccccc":e=_e(oe.Days,ye.Narrow,yt.Standalone);break;case"cccccc":e=_e(oe.Days,ye.Short,yt.Standalone);break;case"E":case"EE":case"EEE":e=_e(oe.Days,ye.Abbreviated);break;case"EEEE":e=_e(oe.Days,ye.Wide);break;case"EEEEE":e=_e(oe.Days,ye.Narrow);break;case"EEEEEE":e=_e(oe.Days,ye.Short);break;case"a":case"aa":case"aaa":e=_e(oe.DayPeriods,ye.Abbreviated);break;case"aaaa":e=_e(oe.DayPeriods,ye.Wide);break;case"aaaaa":e=_e(oe.DayPeriods,ye.Narrow);break;case"b":case"bb":case"bbb":e=_e(oe.DayPeriods,ye.Abbreviated,yt.Standalone,!0);break;case"bbbb":e=_e(oe.DayPeriods,ye.Wide,yt.Standalone,!0);break;case"bbbbb":e=_e(oe.DayPeriods,ye.Narrow,yt.Standalone,!0);break;case"B":case"BB":case"BBB":e=_e(oe.DayPeriods,ye.Abbreviated,yt.Format,!0);break;case"BBBB":e=_e(oe.DayPeriods,ye.Wide,yt.Format,!0);break;case"BBBBB":e=_e(oe.DayPeriods,ye.Narrow,yt.Format,!0);break;case"h":e=Ue(ae.Hours,1,-12);break;case"hh":e=Ue(ae.Hours,2,-12);break;case"H":e=Ue(ae.Hours,1);break;case"HH":e=Ue(ae.Hours,2);break;case"m":e=Ue(ae.Minutes,1);break;case"mm":e=Ue(ae.Minutes,2);break;case"s":e=Ue(ae.Seconds,1);break;case"ss":e=Ue(ae.Seconds,2);break;case"S":e=Ue(ae.FractionalSeconds,1);break;case"SS":e=Ue(ae.FractionalSeconds,2);break;case"SSS":e=Ue(ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zu(Wn.Short);break;case"ZZZZZ":e=zu(Wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zu(Wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zu(Wn.Long);break;default:return null}return Vp[t]=e,e}function e0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function UP(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function jP(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=e0(e,i);return UP(t,r*(s-i))}function BP(t){if(GI(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Qu(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(MP))return $P(r)}let e=new Date(t);if(!GI(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function $P(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function GI(t){return t instanceof Date&&!isNaN(t.valueOf())}function Zu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Xu=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Up,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){WI("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){WI("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(Yr),Y(is))},e.\u0275dir=nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Up=class{constructor(){this.$implicit=null,this.ngIf=null}};function WI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ot(e)}'.`)}function HP(t,e){return new M(2100,!1)}var qP="mediumDate",zP=new A("DATE_PIPE_DEFAULT_TIMEZONE"),GP=new A("DATE_PIPE_DEFAULT_OPTIONS"),fs=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??qP,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return NP(r,a,o||this.locale,c)}catch(a){throw HP(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(Y(Uu,16),Y(zP,24),Y(GP,24))},e.\u0275pipe=Xw({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Uo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=St({type:e}),e.\u0275inj=bt({});let t=e;return t})(),t0="browser",WP="server";function jp(t){return t===WP}var hs=class{};var Bo=class{},tl=class{},ii=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var $p=class{encodeKey(e){return n0(e)}encodeValue(e){return n0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function JP(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var ZP=/%(\d[a-f0-9])/gi,XP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function n0(t){return encodeURIComponent(t).replace(ZP,(e,n)=>XP[n]??e)}function el(t){return`${t}`}var mr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $p,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=JP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(el):[el(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(el(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(el(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Hp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function eO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function r0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function i0(t){return typeof Blob<"u"&&t instanceof Blob}function s0(t){return typeof FormData<"u"&&t instanceof FormData}function tO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var jo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(eO(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new ii),this.context||(this.context=new Hp),!this.params)this.params=new mr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:r0(this.body)||i0(this.body)||s0(this.body)||tO(this.body)||typeof this.body=="string"?this.body:this.body instanceof mr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||s0(this.body)?null:i0(this.body)?this.body.type||null:r0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof mr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}},ps=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ps||{}),$o=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new ii,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},qp=class t extends $o{constructor(e={}){super(e),this.type=ps.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nl=class t extends $o{constructor(e={}){super(e),this.type=ps.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rl=class extends $o{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Bp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var zp=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof jo)o=r;else{let u;s.headers instanceof ii?u=s.headers:u=new ii(s.headers);let l;s.params&&(s.params instanceof mr?l=s.params:l=new mr({fromObject:s.params})),o=new jo(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=O(o).pipe(rr(u=>this.handler.handle(u)));if(r instanceof jo||s.observe==="events")return a;let c=a.pipe(Dt(u=>u instanceof nl));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(j(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(j(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(j(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(j(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new mr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Bp(s,i))}post(r,i,s={}){return this.request("POST",r,Bp(s,i))}put(r,i,s={}){return this.request("PUT",r,Bp(s,i))}};e.\u0275fac=function(i){return new(i||e)(R(Bo))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function u0(t,e){return e(t)}function nO(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function rO(t,e,n){return(r,i)=>qn(n,()=>e(r,s=>t(s,i)))}var iO=new A(""),Gp=new A(""),sO=new A(""),oO=new A("");function aO(){let t=null;return(e,n)=>{t===null&&(t=(b(iO,{optional:!0})??[]).reduceRight(nO,u0));let r=b(ls),i=r.add();return t(e,n).pipe(sr(()=>r.remove(i)))}}var o0=(()=>{let e=class e extends Bo{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=b(ls);let s=b(oO,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Gp),...this.injector.get(sO,[])]));this.chain=s.reduceRight((o,a)=>rO(o,a,this.injector),u0)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(sr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(R(tl),R(Tt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();var cO=/^\)\]\}',?\n/;function uO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var a0=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new M(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ve(i.\u0275loadImpl()):O(null)).pipe(pt(()=>new W(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,D)=>a.setRequestHeader(y,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let y=r.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(r.responseType){let y=r.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let y=a.statusText||"OK",D=new ii(a.getAllResponseHeaders()),F=uO(a)||r.url;return u=new qp({headers:D,status:a.status,statusText:y,url:F}),u},d=()=>{let{headers:y,status:D,statusText:F,url:Q}=l(),G=null;D!==204&&(G=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=G?200:0);let Re=D>=200&&D<300;if(r.responseType==="json"&&typeof G=="string"){let se=G;G=G.replace(cO,"");try{G=G!==""?JSON.parse(G):null}catch(We){G=se,Re&&(Re=!1,G={error:We,text:G})}}Re?(o.next(new nl({body:G,headers:y,status:D,statusText:F,url:Q||void 0})),o.complete()):o.error(new rl({error:G,headers:y,status:D,statusText:F,url:Q||void 0}))},h=y=>{let{url:D}=l(),F=new rl({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});o.error(F)},f=!1,v=y=>{f||(o.next(l()),f=!0);let D={type:ps.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(D.total=y.total),r.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),o.next(D)},I=y=>{let D={type:ps.UploadProgress,loaded:y.loaded};y.lengthComputable&&(D.total=y.total),o.next(D)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",v),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),o.next({type:ps.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",v),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(R(hs))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),l0=new A("XSRF_ENABLED"),lO="XSRF-TOKEN",dO=new A("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>lO}),hO="X-XSRF-TOKEN",fO=new A("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>hO}),il=class{},pO=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zu(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(R(vt),R(_n),R(dO))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function mO(t,e){let n=t.url.toLowerCase();if(!b(l0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=b(il).getToken(),i=b(fO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var d0=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(d0||{});function gO(t,e){return{\u0275kind:t,\u0275providers:e}}function yO(...t){let e=[zp,a0,o0,{provide:Bo,useExisting:o0},{provide:tl,useExisting:a0},{provide:Gp,useValue:mO,multi:!0},{provide:l0,useValue:!0},{provide:il,useClass:pO}];for(let n of t)e.push(...n.\u0275providers);return os(e)}var c0=new A("LEGACY_INTERCEPTOR_FN");function vO(){return gO(d0.LegacyInterceptors,[{provide:c0,useFactory:aO},{provide:Gp,useExisting:c0,multi:!0}])}var h0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=St({type:e}),e.\u0275inj=bt({providers:[yO(vO())]});let t=e;return t})();var Qp=class extends Ku{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Yp=class t extends Qp{static makeCurrent(){KI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=wO();return n==null?null:EO(n)}resetBaseElement(){Ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zu(document.cookie,e)}},Ho=null;function wO(){return Ho=Ho||document.querySelector("base"),Ho?Ho.getAttribute("href"):null}function EO(t){return new URL(t,"http://a").pathname}var IO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Jp=new A("EventManagerPlugins"),g0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new M(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(Jp),R(pe))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),sl=class{constructor(e){this._doc=e}},Wp="ng-app-id",y0=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Wp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Wp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Wp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(vt),R(gp),R(vp,8),R(_n))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Kp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xp=/%COMP%/g,v0="%COMP%",DO=`_nghost-${v0}`,CO=`_ngcontent-${v0}`,TO=!0,bO=new A("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>TO});function SO(t){return CO.replace(Xp,t)}function AO(t){return DO.replace(Xp,t)}function _0(t,e){return e.map(n=>n.replace(Xp,t))}var f0=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=jp(c),this.defaultRenderer=new qo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gn.ShadowDom&&(i=fe(S({},i),{encapsulation:gn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof ol?s.applyToHost(r):s instanceof zo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case gn.Emulated:o=new ol(u,l,i,this.appId,d,a,c,h);break;case gn.ShadowDom:return new Zp(u,l,r,i,a,c,this.nonce,h);default:o=new zo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(g0),R(y0),R(gp),R(bO),R(vt),R(_n),R(pe),R(vp))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),qo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Kp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(p0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(p0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Kp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Un.DashCase|Un.Important)?e.style.setProperty(n,r,i&Un.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Un.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Kn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function p0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Zp=class extends qo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=_0(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zo=class extends qo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?_0(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ol=class extends zo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=SO(u),this.hostAttr=AO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xO=(()=>{let e=class e extends sl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(vt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),m0=["alt","control","meta","shift"],MO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NO=(()=>{let e=class e extends sl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),m0.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=MO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),m0.forEach(a=>{if(a!==s){let c=RO[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(vt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function w0(t,e){return $I(S({rootComponent:t},PO(e)))}function PO(t){return{appProviders:[...LO,...t?.providers??[]],platformProviders:VO}}function OO(){Yp.makeCurrent()}function kO(){return new Bn}function FO(){return zE(document),document}var VO=[{provide:_n,useValue:t0},{provide:yp,useValue:OO,multi:!0},{provide:vt,useFactory:FO,deps:[]}];var LO=[{provide:xu,useValue:"root"},{provide:Bn,useFactory:kO,deps:[]},{provide:Jp,useClass:xO,multi:!0,deps:[vt,pe,_n]},{provide:Jp,useClass:NO,multi:!0,deps:[vt]},f0,y0,g0,{provide:wo,useExisting:f0},{provide:hs,useClass:IO,deps:[]},[]];function UO(){return new em(R(vt))}var em=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(vt))},e.\u0275prov=N({token:e,factory:function(i){let s=null;return i?s=new i:s=UO(),s},providedIn:"root"});let t=e;return t})();var K="primary",oa=Symbol("RouteTitle"),sm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new sm(t)}function BO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $O(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}function En(t,e){let n=t?om(t):void 0,r=e?om(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!S0(t[i],e[i]))return!1;return!0}function om(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function S0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function A0(t){return t.length>0?t[t.length-1]:null}function vr(t){return Uh(t)?t:ei(t)?ve(Promise.resolve(t)):O(t)}var HO={exact:M0,subset:R0},x0={exact:qO,subset:zO,ignored:()=>!0};function E0(t,e,n){return HO[n.paths](t.root,e.root,n.matrixParams)&&x0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function qO(t,e){return En(t,e)}function M0(t,e,n){if(!oi(t.segments,e.segments)||!ul(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!M0(t.children[r],e.children[r],n))return!1;return!0}function zO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>S0(t[n],e[n]))}function R0(t,e,n){return N0(t,e,e.segments,n)}function N0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!oi(i,n)||e.hasChildren()||!ul(i,n,r))}else if(t.segments.length===n.length){if(!oi(t.segments,n)||!ul(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!R0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!oi(t.segments,i)||!ul(t.segments,i,r)||!t.children[K]?!1:N0(t.children[K],e,s,r)}}function ul(t,e,n){return e.every((r,i)=>x0[n](t[i].parameters,r.parameters))}var gr=class{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_s(this.queryParams)),this._queryParamMap}toString(){return KO.serialize(this)}},ue=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ll(this)}},si=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=_s(this.parameters)),this._parameterMap}toString(){return O0(this)}};function GO(t,e){return oi(t,e)&&t.every((n,r)=>En(n.parameters,e[r].parameters))}function oi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function WO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var Rm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>new hl)(),providedIn:"root"});let t=e;return t})(),hl=class{parse(e){let n=new cm(e);return new gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Go(e.root,!0)}`,r=JO(e.queryParams),i=typeof e.fragment=="string"?`#${QO(e.fragment)}`:"";return`${n}${r}${i}`}},KO=new hl;function ll(t){return t.segments.map(e=>O0(e)).join("/")}function Go(t,e){if(!t.hasChildren())return ll(t);if(e){let n=t.children[K]?Go(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${Go(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=WO(t,(r,i)=>i===K?[Go(t.children[K],!1)]:[`${i}:${Go(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${ll(t)}/${n[0]}`:`${ll(t)}/(${n.join("//")})`}}function P0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function al(t){return P0(t).replace(/%3B/gi,";")}function QO(t){return encodeURI(t)}function am(t){return P0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dl(t){return decodeURIComponent(t)}function I0(t){return dl(t.replace(/\+/g,"%20"))}function O0(t){return`${am(t.path)}${YO(t.parameters)}`}function YO(t){return Object.keys(t).map(e=>`;${am(e)}=${am(t[e])}`).join("")}function JO(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${al(n)}=${al(i)}`).join("&"):`${al(n)}=${al(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var ZO=/^[^\/()?;#]+/;function tm(t){let e=t.match(ZO);return e?e[0]:""}var XO=/^[^\/()?;=#]+/;function e1(t){let e=t.match(XO);return e?e[0]:""}var t1=/^[^=?&#]+/;function n1(t){let e=t.match(t1);return e?e[0]:""}var r1=/^[^&#]+/;function i1(t){let e=t.match(r1);return e?e[0]:""}var cm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new ue(e,n)),r}parseSegment(){let e=tm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new si(dl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=e1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=tm(this.remaining);i&&(r=i,this.capture(r))}e[dl(n)]=dl(r)}parseQueryParam(e){let n=n1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=i1(this.remaining);o&&(r=o,this.capture(r))}let i=I0(n),s=I0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new ue([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};function k0(t){return t.segments.length>0?new ue([],{[K]:t}):t}function F0(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=F0(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ue(t.segments,e);return s1(n)}function s1(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new ue(t.segments.concat(e.segments),e.children)}return t}function ws(t){return t instanceof gr}function o1(t,e,n=null,r=null){let i=V0(t);return L0(i,e,n,r)}function V0(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ue(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=k0(r);return e??i}function L0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return nm(i,i,i,n,r);let s=a1(e);if(s.toRoot())return nm(i,i,new ue([],{}),n,r);let o=c1(s,i,t),a=o.processChildren?Qo(o.segmentGroup,o.index,s.commands):j0(o.segmentGroup,o.index,s.commands);return nm(i,o.segmentGroup,a,n,r)}function fl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zo(t){return typeof t=="object"&&t!=null&&t.outlets}function nm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=U0(t,e,n);let a=k0(F0(o));return new gr(a,s,i)}function U0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=U0(s,e,n)}),new ue(t.segments,r)}var pl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fl(r[0]))throw new M(4003,!1);let i=r.find(Zo);if(i&&i!==A0(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function a1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new pl(n,e,r)}var ys=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function c1(t,e,n){if(t.isAbsolute)return new ys(e,!0,0);if(!n)return new ys(e,!1,NaN);if(n.parent===null)return new ys(n,!0,0);let r=fl(t.commands[0])?0:1,i=n.segments.length-1+r;return u1(n,i,t.numberOfDoubleDots)}function u1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new ys(r,!1,i-s)}function l1(t){return Zo(t[0])?t[0].outlets:{[K]:t}}function j0(t,e,n){if(t||(t=new ue([],{})),t.segments.length===0&&t.hasChildren())return Qo(t,e,n);let r=d1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ue(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new ue(t.segments.slice(r.pathIndex),t.children),Qo(s,0,i)}else return r.match&&i.length===0?new ue(t.segments,{}):r.match&&!t.hasChildren()?um(t,e,n):r.match?Qo(t,0,i):um(t,e,n)}function Qo(t,e,n){if(n.length===0)return new ue(t.segments,{});{let r=l1(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=Qo(t.children[K],e,n);return new ue(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=j0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ue(t.segments,i)}}function d1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Zo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!C0(c,u,o))return s;r+=2}else{if(!C0(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function um(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Zo(s)){let c=h1(s.outlets);return new ue(r,c)}if(i===0&&fl(n[0])){let c=t.segments[e];r.push(new si(c.path,D0(n[0]))),i++;continue}let o=Zo(s)?s.outlets[K]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&fl(a)?(r.push(new si(o,D0(a))),i+=2):(r.push(new si(o,{})),i++)}return new ue(r,{})}function h1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=um(new ue([],{}),0,r))}),e}function D0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function C0(t,e,n){return t==n.path&&En(e,n.parameters)}var Yo="imperative",Ht=class{constructor(e,n){this.id=e,this.url=n}},Xo=class extends Ht{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ai=class extends Ht{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yr=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},ea=class extends Ht{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ml=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lm=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dm=class extends Ht{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hm=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fm=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pm=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mm=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gm=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ym=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vm=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_m=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ta=class{},na=class{constructor(e){this.url=e}};var wm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new El,this.attachRef=null}},El=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new wm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Em(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Em(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Im(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Im(e,this._root).map(n=>n.value)}};function Em(t,e){if(t===e.value)return e;for(let n of e.children){let r=Em(t,n);if(r)return r}return null}function Im(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Im(t,n);if(r.length)return r.unshift(e),r}return[]}var Rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yl=class extends gl{constructor(e,n){super(e),this.snapshot=n,Pm(this,e)}toString(){return this.snapshot.toString()}};function B0(t,e){let n=f1(t,e),r=new Fe([new si("",{})]),i=new Fe({}),s=new Fe({}),o=new Fe({}),a=new Fe(""),c=new Es(r,i,o,a,s,K,e,n.root);return c.snapshot=n.root,new yl(new Rt(c,[]),n)}function f1(t,e){let n={},r={},i={},s="",o=new ra([],n,i,s,r,K,e,null,{});return new vl("",new Rt(o,[]))}var Es=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(u=>u[oa]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(e=>_s(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(e=>_s(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:S(S({},t.data),t._resolvedData??{})},i&&H0(i)&&(r.resolve[oa]=i.title),r}var ra=class{get title(){return this.data?.[oa]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_s(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_s(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vl=class extends gl{constructor(e,n){super(n),this.url=e,Pm(this,n)}toString(){return $0(this._root)}};function Pm(t,e){e.value._routerState=t,e.children.forEach(n=>Pm(t,n))}function $0(t){let e=t.children.length>0?` { ${t.children.map($0).join(", ")} } `:"";return`${t.value}${e}`}function rm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),En(e.params,n.params)||t.paramsSubject.next(n.params),$O(e.url,n.url)||t.urlSubject.next(n.url),En(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Dm(t,e){let n=En(t.params,e.params)&&GO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Dm(t.parent,e.parent))}function H0(t){return typeof t.title=="string"||t.title===null}var Om=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=b(El),this.location=b(Yr),this.changeDetector=b(us),this.environmentInjector=b(Tt),this.inputBinder=b(km,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Cm(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wr]});let t=e;return t})(),Cm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Es?this.route:e===El?this.childContexts:this.parent.get(e,n)}},km=new A("");function p1(t,e,n){let r=ia(t,e._root,n?n._root:void 0);return new yl(r,e)}function ia(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=m1(t,e,n);return new Rt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ia(t,a)),o}}let r=g1(e.value),i=e.children.map(s=>ia(t,s));return new Rt(r,i)}}function m1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ia(t,r,i);return ia(t,r)})}function g1(t){return new Es(new Fe(t.url),new Fe(t.params),new Fe(t.queryParams),new Fe(t.fragment),new Fe(t.data),t.outlet,t.component,t)}var q0="ngNavigationCancelingError";function z0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ws(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=G0(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function G0(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[q0]=!0,r.cancellationCode=e,n&&(r.url=n),r}function y1(t){return W0(t)&&ws(t.url)}function W0(t){return t&&t[q0]}var v1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=De({type:e,selectors:[["ng-component"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(i,s){i&1&&ge(0,"router-outlet")},dependencies:[Om],encapsulation:2});let t=e;return t})();function _1(t,e){return t.providers&&!t._injector&&(t._injector=Np(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Fm(t){let e=t.children&&t.children.map(Fm),n=e?fe(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=v1),n}function In(t){return t.outlet||K}function w1(t,e){let n=t.filter(r=>In(r)===e);return n.push(...t.filter(r=>In(r)!==e)),n}function aa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var E1=(t,e,n,r)=>j(i=>(new Tm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _m(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ym(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(rm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=aa(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},_l=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{constructor(e,n){this.component=e,this.route=n}};function I1(t,e,n){let r=t._root,i=e?e._root:null;return Wo(r,i,n,[r.value])}function D1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ds(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!zw(t)?t:e.get(t):r}function Wo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=gs(e);return t.children.forEach(o=>{C1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Jo(a,n.getContext(o),i)),i}function C1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=T1(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new _l(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Wo(t,e,a?a.children:null,r,i):Wo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,o))}else o&&Jo(e,a,i),i.canActivateChecks.push(new _l(r)),s.component?Wo(t,null,a?a.children:null,r,i):Wo(t,null,n,r,i);return i}function T1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!oi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!oi(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dm(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!Dm(t,e)}}function Jo(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Jo(o,e.children.getContext(s),n):Jo(o,null,n):Jo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function ca(t){return typeof t=="function"}function b1(t){return typeof t=="boolean"}function S1(t){return t&&ca(t.canLoad)}function A1(t){return t&&ca(t.canActivate)}function x1(t){return t&&ca(t.canActivateChild)}function M1(t){return t&&ca(t.canDeactivate)}function R1(t){return t&&ca(t.canMatch)}function K0(t){return t instanceof Qt||t?.name==="EmptyError"}var cl=Symbol("INITIAL_VALUE");function Is(){return pt(t=>Bc(t.map(e=>e.pipe(Ot(1),Wc(cl)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===cl)return cl;if(n===!1||n instanceof gr)return n}return!0}),Dt(e=>e!==cl),Ot(1)))}function N1(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(fe(S({},n),{guardsResult:!0})):P1(o,r,i,t).pipe(He(a=>a&&b1(a)?O1(r,s,t,e):O(a)),j(a=>fe(S({},n),{guardsResult:a})))})}function P1(t,e,n,r){return ve(t).pipe(He(i=>U1(i.component,i.route,n,e,r)),hn(i=>i!==!0,!0))}function O1(t,e,n,r){return ve(e).pipe(rr(i=>Gi(F1(i.route.parent,r),k1(i.route,r),L1(t,i.path,n),V1(t,i.route,n))),hn(i=>i!==!0,!0))}function k1(t,e){return t!==null&&e&&e(new vm(t)),O(!0)}function F1(t,e){return t!==null&&e&&e(new gm(t)),O(!0)}function V1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>$c(()=>{let o=aa(e)??n,a=Ds(s,o),c=A1(a)?a.canActivate(e,t):qn(o,()=>a(e,t));return vr(c).pipe(hn())}));return O(i).pipe(Is())}function L1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>D1(o)).filter(o=>o!==null).map(o=>$c(()=>{let a=o.guards.map(c=>{let u=aa(o.node)??n,l=Ds(c,u),d=x1(l)?l.canActivateChild(r,t):qn(u,()=>l(r,t));return vr(d).pipe(hn())});return O(a).pipe(Is())}));return O(s).pipe(Is())}function U1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let c=aa(e)??i,u=Ds(a,c),l=M1(u)?u.canDeactivate(t,e,n,r):qn(c,()=>u(t,e,n,r));return vr(l).pipe(hn())});return O(o).pipe(Is())}function j1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=Ds(o,t),c=S1(a)?a.canLoad(e,n):qn(t,()=>a(e,n));return vr(c)});return O(s).pipe(Is(),Q0(r))}function Q0(t){return Ic(Ne(e=>{if(ws(e))throw z0(t,e)}),j(e=>e===!0))}function B1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=Ds(o,t),c=R1(a)?a.canMatch(e,n):qn(t,()=>a(e,n));return vr(c)});return O(s).pipe(Is(),Q0(r))}var sa=class{constructor(e){this.segmentGroup=e||null}},wl=class extends Error{constructor(e){super(),this.urlTree=e}};function ms(t){return qi(new sa(t))}function $1(t){return qi(new M(4e3,!1))}function H1(t){return qi(G0(!1,3))}var bm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new M(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[K])return $1(e.redirectTo);i=i.children[K]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new wl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new gr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ue(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Sm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q1(t,e,n,r,i){let s=Vm(t,e,n);return s.matched?(r=_1(e,r),B1(r,e,n,i).pipe(j(o=>o===!0?s:S({},Sm)))):O(s)}function Vm(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Sm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||BO)(n,t,e);if(!i)return S({},Sm);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function T0(t,e,n,r){return n.length>0&&W1(t,n,r)?{segmentGroup:new ue(e,G1(r,new ue(n,t.children))),slicedSegments:[]}:n.length===0&&K1(t,n,r)?{segmentGroup:new ue(t.segments,z1(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ue(t.segments,t.children),slicedSegments:n}}function z1(t,e,n,r,i){let s={};for(let o of r)if(Il(t,n,o)&&!i[In(o)]){let a=new ue([],{});s[In(o)]=a}return S(S({},i),s)}function G1(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&In(r)!==K){let i=new ue([],{});n[In(r)]=i}return n}function W1(t,e,n){return n.some(r=>Il(t,e,r)&&In(r)!==K)}function K1(t,e,n){return n.some(r=>Il(t,e,r))}function Il(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Q1(t,e,n,r){return In(t)!==r&&(r===K||!Il(e,n,t))?!1:t.path==="**"?!0:Vm(e,t,n).matched}function Y1(t,e,n){return e.length===0&&!t.children[n]}var Am=class{};function J1(t,e,n,r,i,s,o="emptyOnly"){return new xm(t,e,n,r,i,o,s).recognize()}var Z1=31,xm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new bm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,!1)}recognize(){let e=T0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(n=>{let r=new ra([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new Rt(r,n),s=new vl("",i),o=o1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,K).pipe(nr(r=>{if(r instanceof wl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Nm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(j(s=>s instanceof Rt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ve(i).pipe(rr(s=>{let o=r.children[s],a=w1(n,s);return this.processSegmentGroup(e,a,o,s)}),zc((s,o)=>(s.push(...o),s)),ir(null),Hh(),He(s=>{if(s===null)return ms(r);let o=Y0(s);return X1(o),O(o)}))}processSegment(e,n,r,i,s,o){return ve(n).pipe(rr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(nr(c=>{if(c instanceof sa)return O(null);throw c}))),hn(a=>!!a),nr(a=>{if(K0(a))return Y1(r,i,s)?O(new Am):ms(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Q1(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ms(i):ms(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=i.path==="**"?b0(s):Vm(n,i,s);if(!a)return ms(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Z1&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(He(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=O(b0(i)),n.children={}):o=q1(n,r,i,e,this.urlSerializer),o.pipe(pt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new ra(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,tk(r),In(r),r.component??r._loadedComponent??null,r,nk(r)),{segmentGroup:v,slicedSegments:I}=T0(n,l,d,c);if(I.length===0&&v.hasChildren())return this.processChildren(u,c,v).pipe(j(D=>D===null?null:new Rt(f,D)));if(c.length===0&&I.length===0)return O(new Rt(f,[]));let y=In(r)===s;return this.processSegment(u,c,v,I,y?K:s,!0).pipe(j(D=>new Rt(f,D instanceof Rt?[D]:[])))}))):ms(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):j1(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(Ne(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):H1(n))):O({routes:[],injector:e})}};function X1(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function ek(t){let e=t.value.routeConfig;return e&&e.path===""}function Y0(t){let e=[],n=new Set;for(let r of t){if(!ek(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Y0(r.children);e.push(new Rt(r.value,i))}return e.filter(r=>!n.has(r))}function tk(t){return t.data||{}}function nk(t){return t.resolve||{}}function b0(t){return{matched:!0,parameters:t.length>0?A0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function rk(t,e,n,r,i,s){return He(o=>J1(t,e,n,r,o.extractedUrl,i,s).pipe(j(({state:a,tree:c})=>fe(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function ik(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of J0(c))o.add(u);let a=0;return ve(o).pipe(rr(c=>s.has(c)?sk(c,r,t,e):(c.data=Nm(c,c.parent,t).resolve,O(void 0))),Ne(()=>a++),Wi(1),He(c=>a===o.size?O(n):Et))})}function J0(t){let e=t.children.map(n=>J0(n)).flat();return[t,...e]}function sk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!H0(i)&&(s[oa]=i.title),ok(s,t,e,r).pipe(j(o=>(t._resolvedData=o,t.data=Nm(t,t.parent,n).resolve,null)))}function ok(t,e,n,r){let i=om(t);if(i.length===0)return O({});let s={};return ve(i).pipe(He(o=>ak(t[o],e,n,r).pipe(hn(),Ne(a=>{s[o]=a}))),Wi(1),$h(s),nr(o=>K0(o)?Et:qi(o)))}function ak(t,e,n,r){let i=aa(e)??r,s=Ds(t,i),o=s.resolve?s.resolve(e,n):qn(i,()=>s(e,n));return vr(o)}function im(t){return pt(e=>{let n=t(e);return n?ve(n).pipe(j(()=>e)):O(e)})}var Z0=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(r){return r.data[oa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(ck))(),providedIn:"root"});let t=e;return t})(),ck=(()=>{let e=class e extends Z0{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(em))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lm=new A("",{providedIn:"root",factory:()=>({})}),Um=new A("ROUTES"),uk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(Op)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vr(r.loadComponent()).pipe(j(X0),Ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),sr(()=>{this.componentLoaders.delete(r)})),s=new ji(i,()=>new et).pipe(Ui());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=lk(i,this.compiler,r,this.onLoadEndListener).pipe(sr(()=>{this.childrenLoaders.delete(i)})),a=new ji(o,()=>new et).pipe(Ui());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lk(t,e,n,r){return vr(t.loadChildren()).pipe(j(X0),He(i=>i instanceof To||Array.isArray(i)?O(i):ve(e.compileModuleAsync(i))),j(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Um,[],{optional:!0,self:!0}).flat()),{routes:o.map(Fm),injector:s}}))}function dk(t){return t&&typeof t=="object"&&"default"in t}function X0(t){return dk(t)?t.default:t}var jm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(hk))(),providedIn:"root"});let t=e;return t})(),hk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fk=new A("");var pk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=b(uk),this.environmentInjector=b(Tt),this.urlSerializer=b(Rm),this.rootContexts=b(El),this.location=b(Lo),this.inputBindingEnabled=b(km,{optional:!0})!==null,this.titleStrategy=b(Z0),this.options=b(Lm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(jm),this.createViewTransition=b(fk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new pm(s)),i=s=>this.events.next(new mm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(fe(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Fe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(o=>o.id!==0),j(o=>fe(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pt(o=>{this.currentTransition=o;let a=!1,c=!1;return O(o).pipe(Ne(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?fe(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new ci(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Et}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return O(u).pipe(pt(h=>{let f=this.transitions?.getValue();return this.events.next(new Xo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Et:Promise.resolve(h)}),rk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=fe(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new ml(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:v,restoredState:I,extras:y}=u,D=new Xo(h,this.urlSerializer.serialize(f),v,I);this.events.next(D);let F=B0(f,this.rootComponentType).snapshot;return this.currentTransition=o=fe(S({},u),{targetSnapshot:F,urlAfterRedirects:f,extras:fe(S({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new ci(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Et}}),Ne(u=>{let l=new lm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),j(u=>(this.currentTransition=o=fe(S({},u),{guards:I1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),N1(this.environmentInjector,u=>this.events.next(u)),Ne(u=>{if(o.guardsResult=u.guardsResult,ws(u.guardsResult))throw z0(this.urlSerializer,u.guardsResult);let l=new dm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Dt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),im(u=>{if(u.guards.canActivateChecks.length)return O(u).pipe(Ne(l=>{let d=new hm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),pt(l=>{let d=!1;return O(l).pipe(ik(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Ne(l=>{let d=new fm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),im(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ne(f=>{d.component=f}),j(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Bc(l(u.targetSnapshot.root)).pipe(ir(),Ot(1))}),im(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ve(d).pipe(j(()=>o)):O(o)}),j(u=>{let l=p1(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=fe(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ne(()=>{this.events.next(new ta)}),E1(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ot(1),Ne({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ai(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),zh(this.transitionAbortSubject.pipe(Ne(u=>{throw u}))),sr(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),nr(u=>{if(c=!0,W0(u))this.events.next(new yr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),y1(u)?this.events.next(new na(u.url)):o.resolve(!1);else{this.events.next(new ea(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return Et}))}))}cancelNavigationTransition(r,i,s){let o=new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mk(t){return t!==Yo}var gk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(yk))(),providedIn:"root"});let t=e;return t})(),Mm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},yk=(()=>{let e=class e extends Mm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=hr(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>(()=>b(vk))(),providedIn:"root"});let t=e;return t})(),vk=(()=>{let e=class e extends eD{constructor(){super(...arguments),this.location=b(Lo),this.urlSerializer=b(Rm),this.options=b(Lm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(jm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=B0(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Xo)this.stateMemento=this.createStateMemento();else if(r instanceof ci)this.rawUrlTree=i.initialUrl;else if(r instanceof ml){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ta?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof yr&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof ea?this.restoreHistory(i,!0):r instanceof ai&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=hr(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ko=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ko||{});function _k(t,e){t.events.pipe(Dt(n=>n instanceof ai||n instanceof yr||n instanceof ea||n instanceof ci),j(n=>n instanceof ai||n instanceof ci?Ko.COMPLETE:(n instanceof yr?n.code===0||n.code===1:!1)?Ko.REDIRECTING:Ko.FAILED),Dt(n=>n!==Ko.REDIRECTING),Ot(1)).subscribe(()=>{e()})}function wk(t){throw t}var Ek={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ik={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},tD=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=b(Lu),this.stateManager=b(eD),this.options=b(Lm,{optional:!0})||{},this.pendingTasks=b(ls),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(pk),this.urlSerializer=b(Rm),this.location=b(Lo),this.urlHandlingStrategy=b(jm),this._events=new et,this.errorHandler=this.options.errorHandler||wk,this.navigated=!1,this.routeReuseStrategy=b(gk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(Um,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b(km,{optional:!0}),this.eventsSubscription=new ke,this.isNgZoneEnabled=b(pe)instanceof pe&&pe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof yr&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof ai)this.navigated=!0;else if(i instanceof na){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||mk(s.source)};this.scheduleNavigation(a,Yo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Ck(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=S({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Fm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=V0(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return L0(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ws(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Yo,null,i)}navigate(r,i={skipLocationChange:!1}){return Dk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=S({},Ek):i===!1?s=S({},Ik):s=i,ws(r))return E0(this.currentUrlTree,r,s);let o=this.parseUrl(r);return E0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return _k(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new M(4008,!1)}function Ck(t){return!(t instanceof ta)&&!(t instanceof na)}var Tk=new A("");function nD(t,...e){return os([{provide:Um,multi:!0,useValue:t},[],{provide:Es,useFactory:bk,deps:[tD]},{provide:ju,multi:!0,useFactory:Sk},e.map(n=>n.\u0275providers)])}function bk(t){return t.routerState.root}function Sk(){let t=b(tn);return e=>{let n=t.get(ds);if(e!==n.components[0])return;let r=t.get(tD),i=t.get(Ak);t.get(xk)===1&&r.initialNavigation(),t.get(Mk,null,ee.Optional)?.setUpPreloading(),t.get(Tk,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ak=new A("",{factory:()=>new et}),xk=new A("",{providedIn:"root",factory:()=>1});var Mk=new A("");var dD=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Y(cs),Y(Lt))},e.\u0275dir=nt({type:e});let t=e;return t})(),hD=(()=>{let e=class e extends dD{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=hr(e)))(s||e)}})(),e.\u0275dir=nt({type:e,features:[nn]});let t=e;return t})(),Hm=new A("NgValueAccessor");var Rk={provide:Hm,useExisting:$n(()=>bs),multi:!0};function Nk(){let t=Kn()?Kn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Pk=new A("CompositionEventMode"),bs=(()=>{let e=class e extends dD{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Nk())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Y(cs),Y(Lt),Y(Pk,8))},e.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&L("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ti([Rk]),nn]});let t=e;return t})();function Bm(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var xl=new A("NgValidators"),fD=new A("NgAsyncValidators");function Ok(t){return e=>{if(Bm(e.value)||Bm(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function kk(t){return Bm(t.value)?{required:!0}:null}function rD(t){return null}function pD(t){return t!=null}function mD(t){return ei(t)?ve(t):t}function gD(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function yD(t,e){return e.map(n=>n(t))}function Fk(t){return!t.validate}function vD(t){return t.map(e=>Fk(e)?e:n=>e.validate(n))}function Vk(t){if(!t)return null;let e=t.filter(pD);return e.length==0?null:function(n){return gD(yD(n,e))}}function qm(t){return t!=null?Vk(vD(t)):null}function Lk(t){if(!t)return null;let e=t.filter(pD);return e.length==0?null:function(n){let r=yD(n,e).map(mD);return jh(r).pipe(j(gD))}}function zm(t){return t!=null?Lk(vD(t)):null}function iD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Uk(t){return t._rawValidators}function jk(t){return t._rawAsyncValidators}function $m(t){return t?Array.isArray(t)?t:[t]:[]}function Cl(t,e){return Array.isArray(t)?t.includes(e):t===e}function sD(t,e){let n=$m(e);return $m(t).forEach(i=>{Cl(n,i)||n.push(i)}),n}function oD(t,e){return $m(e).filter(n=>!Cl(t,n))}var Tl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ts=class extends Tl{get formDirective(){return null}get path(){return null}},ha=class extends Tl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Bk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},CW=fe(S({},Bk),{"[class.ng-submitted]":"isSubmitted"}),Ml=(()=>{let e=class e extends bl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(ha,2))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&ku("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[nn]});let t=e;return t})(),Rl=(()=>{let e=class e extends bl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Ts,10))},e.\u0275dir=nt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&ku("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[nn]});let t=e;return t})();var ua="VALID",Dl="INVALID",Cs="PENDING",la="DISABLED";function _D(t){return(Nl(t)?t.validators:t)||null}function $k(t){return Array.isArray(t)?qm(t):t||null}function wD(t,e){return(Nl(e)?e.asyncValidators:t)||null}function Hk(t){return Array.isArray(t)?zm(t):t||null}function Nl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function qk(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[n])throw new M(1001,"")}function zk(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new M(1002,"")})}var Sl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ua}get invalid(){return this.status===Dl}get pending(){return this.status==Cs}get disabled(){return this.status===la}get enabled(){return this.status!==la}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oD(e,this._rawAsyncValidators))}hasValidator(e){return Cl(this._rawValidators,e)}hasAsyncValidator(e){return Cl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Cs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=la,this.errors=null,this._forEachChild(r=>{r.disable(fe(S({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ua,this._forEachChild(r=>{r.enable(fe(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ua||this.status===Cs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?la:ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Cs,this._hasOwnPendingAsyncValidator=!0;let n=mD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?la:this.errors?Dl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cs)?Cs:this._anyControlsHaveStatus(Dl)?Dl:ua}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$k(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Hk(this._rawAsyncValidators)}},Al=class extends Sl{constructor(e,n,r){super(_D(n),wD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){zk(this,!0,e),Object.keys(e).forEach(r=>{qk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Gm=new A("CallSetDisabledState",{providedIn:"root",factory:()=>Wm}),Wm="always";function Gk(t,e){return[...e.path,t]}function ED(t,e,n=Wm){ID(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Kk(t,e),Yk(t,e),Qk(t,e),Wk(t,e)}function aD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Wk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ID(t,e){let n=Uk(t);e.validator!==null?t.setValidators(iD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=jk(t);e.asyncValidator!==null?t.setAsyncValidators(iD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();aD(e._rawValidators,i),aD(e._rawAsyncValidators,i)}function Kk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&DD(t,e)})}function Qk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&DD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function DD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Yk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Jk(t,e){t==null,ID(t,e)}function Zk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Xk(t){return Object.getPrototypeOf(t.constructor)===hD}function eF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===bs?n=s:Xk(s)?r=s:i=s}),i||r||n||null}var nF={provide:Ts,useExisting:$n(()=>fa)},da=(()=>Promise.resolve())(),fa=(()=>{let e=class e extends Ts{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Al({},qm(r),zm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){da.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),ED(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){da.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){da.then(()=>{let i=this._findContainer(r.path),s=new Al({});Jk(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){da.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){da.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,eF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Y(xl,10),Y(fD,10),Y(Gm,8))},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&L("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ti([nF]),nn]});let t=e;return t})();function cD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function uD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var rF=class extends Sl{constructor(e=null,n,r){super(_D(n),wD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(uD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){uD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var iF={provide:ha,useExisting:$n(()=>pa)},lD=(()=>Promise.resolve())(),pa=(()=>{let e=class e extends ha{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new rF,this._registered=!1,this.name="",this.update=new Pe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=tF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Zk(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ED(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){lD.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Fo(i);lD.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Gk(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Y(Ts,9),Y(xl,10),Y(fD,10),Y(Hm,10),Y(us,8),Y(Gm,8))},e.\u0275dir=nt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ti([iF]),nn,Wr]});let t=e;return t})(),Pl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),sF={provide:Hm,useExisting:$n(()=>Km),multi:!0},Km=(()=>{let e=class e extends hD{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=hr(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&L("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[ti([sF]),nn]});let t=e;return t})();var oF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=St({type:e}),e.\u0275inj=bt({});let t=e;return t})();function aF(t){return typeof t=="number"?t:parseFloat(t)}var CD=(()=>{let e=class e{constructor(){this._validator=rD}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):rD,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,features:[Wr]});let t=e;return t})();var cF={provide:xl,useExisting:$n(()=>Qm),multi:!0},Qm=(()=>{let e=class e extends CD{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>aF(r),this.createValidator=r=>Ok(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=hr(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&ko("min",s._enabled?s.min:null)},inputs:{min:"min"},features:[ti([cF]),nn]});let t=e;return t})(),uF={provide:xl,useExisting:$n(()=>Ym),multi:!0};var Ym=(()=>{let e=class e extends CD{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Fo,this.createValidator=r=>kk}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=hr(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&ko("required",s._enabled?"":null)},inputs:{required:"required"},features:[ti([uF]),nn]});let t=e;return t})();var lF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=St({type:e}),e.\u0275inj=bt({imports:[oF]});let t=e;return t})();var Ol=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Gm,useValue:r.callSetDisabledState??Wm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=St({type:e}),e.\u0275inj=bt({imports:[lF]});let t=e;return t})();var SD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Zm;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Zm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hF=function(t){let e=SD(t);return AD.encodeByteArray(e,!0)},ma=function(t){return hF(t).replace(/\./g,"")},eg=function(t){try{return AD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pF=()=>fF().__FIREBASE_DEFAULTS__,mF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&eg(t[1]);return e&&JSON.parse(e)},Fl=()=>{try{return pF()||mF()||gF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xD=t=>{var e,n;return(n=(e=Fl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MD=t=>{let e=xD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tg=()=>{var t;return(t=Fl())===null||t===void 0?void 0:t.config},RD=t=>{var e;return(e=Fl())===null||e===void 0?void 0:e[`_${t}`]};var kl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ND(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ma(JSON.stringify(n)),ma(JSON.stringify(o)),a].join(".")}function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function yF(){var t;let e=(t=Fl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FD(){return!yF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vl(){try{return typeof indexedDB=="object"}catch{return!1}}function VD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var vF="FirebaseError",qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qn.prototype.create)}},Qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_F(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qt(i,a,r)}};function _F(t,e){return t.replace(wF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var wF=/\{\$([^}]+)}/g;function Ss(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(bD(s)&&bD(o)){if(!Ss(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function bD(t){return t!==null&&typeof t=="object"}function ng(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LD(t,e){let n=new Xm(t,e);return n.subscribe.bind(n)}var Xm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jm),i.error===void 0&&(i.error=Jm),i.complete===void 0&&(i.complete=Jm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jm(){}var SW=4*60*60*1e3;function sn(t){return t&&t._delegate?t._delegate:t}var zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ui="[DEFAULT]";var rg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new kl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DF(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function IF(t){return t===ui?void 0:t}function DF(t){return t.instantiationMode==="EAGER"}var Ll=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new rg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var CF=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),TF={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},bF=ne.INFO,SF={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},AF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_r=class{constructor(e){this.name=e,this._logLevel=bF,this._logHandler=AF,this._userLogHandler=null,CF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var xF=(t,e)=>e.some(n=>t instanceof n),UD,jD;function MF(){return UD||(UD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RF(){return jD||(jD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var BD=new WeakMap,sg=new WeakMap,$D=new WeakMap,ig=new WeakMap,ag=new WeakMap;function NF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Dn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BD.set(n,t)}).catch(()=>{}),ag.set(e,t),e}function PF(t){if(sg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sg.set(t,e)}var og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$D.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HD(t){og=t(og)}function OF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ul(this),e,...n);return $D.set(r,e.sort?e.sort():[e]),Dn(r)}:RF().includes(t)?function(...e){return t.apply(Ul(this),e),Dn(BD.get(this))}:function(...e){return Dn(t.apply(Ul(this),e))}}function kF(t){return typeof t=="function"?OF(t):(t instanceof IDBTransaction&&PF(t),xF(t,MF())?new Proxy(t,og):t)}function Dn(t){if(t instanceof IDBRequest)return NF(t);if(ig.has(t))return ig.get(t);let e=kF(t);return e!==t&&(ig.set(t,e),ag.set(e,t)),e}var Ul=t=>ag.get(t);function zD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Dn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Dn(o.result),c.oldVersion,c.newVersion,Dn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var FF=["get","getKey","getAll","getAllKeys","count"],VF=["put","add","delete","clear"],cg=new Map;function qD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FF.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return cg.set(e,s),s}HD(t=>fe(S({},t),{get:(e,n,r)=>qD(e,n)||t.get(e,n,r),has:(e,n)=>!!qD(e,n)||t.has(e,n)}));var lg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function LF(t){let e=t.getComponent();return e?.type==="VERSION"}var dg="@firebase/app",GD="0.9.27";var li=new _r("@firebase/app"),UF="@firebase/app-compat",jF="@firebase/analytics-compat",BF="@firebase/analytics",$F="@firebase/app-check-compat",HF="@firebase/app-check",qF="@firebase/auth",zF="@firebase/auth-compat",GF="@firebase/database",WF="@firebase/database-compat",KF="@firebase/functions",QF="@firebase/functions-compat",YF="@firebase/installations",JF="@firebase/installations-compat",ZF="@firebase/messaging",XF="@firebase/messaging-compat",eV="@firebase/performance",tV="@firebase/performance-compat",nV="@firebase/remote-config",rV="@firebase/remote-config-compat",iV="@firebase/storage",sV="@firebase/storage-compat",oV="@firebase/firestore",aV="@firebase/firestore-compat",cV="firebase",uV="10.8.0";var hg="[DEFAULT]",lV={[dg]:"fire-core",[UF]:"fire-core-compat",[BF]:"fire-analytics",[jF]:"fire-analytics-compat",[HF]:"fire-app-check",[$F]:"fire-app-check-compat",[qF]:"fire-auth",[zF]:"fire-auth-compat",[GF]:"fire-rtdb",[WF]:"fire-rtdb-compat",[KF]:"fire-fn",[QF]:"fire-fn-compat",[YF]:"fire-iid",[JF]:"fire-iid-compat",[ZF]:"fire-fcm",[XF]:"fire-fcm-compat",[eV]:"fire-perf",[tV]:"fire-perf-compat",[nV]:"fire-rc",[rV]:"fire-rc-compat",[iV]:"fire-gcs",[sV]:"fire-gcs-compat",[oV]:"fire-fst",[aV]:"fire-fst-compat","fire-js":"fire-js",[cV]:"fire-js-all"};var ga=new Map,fg=new Map;function dV(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Er(t){let e=t.name;if(fg.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,t);for(let n of ga.values())dV(n,t);return!0}function yg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var hV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wr=new Qn("app","Firebase",hV);var pg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}};var As=uV;function vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:hg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wr.create("bad-app-name",{appName:String(i)});if(n||(n=tg()),!n)throw wr.create("no-options");let s=ga.get(i);if(s){if(Ss(n,s.options)&&Ss(r,s.config))return s;throw wr.create("duplicate-app",{appName:i})}let o=new Ll(i);for(let c of fg.values())o.addComponent(c);let a=new pg(n,r,o);return ga.set(i,a),a}function va(t=hg){let e=ga.get(t);if(!e&&t===hg&&tg())return vg();if(!e)throw wr.create("no-app",{appName:t});return e}function jl(){return Array.from(ga.values())}function Qe(t,e,n){var r;let i=(r=lV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(a.join(" "));return}Er(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var fV="firebase-heartbeat-database",pV=1,ya="firebase-heartbeat-store",ug=null;function YD(){return ug||(ug=zD(fV,pV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),ug}function mV(t){return m(this,null,function*(){try{let n=(yield YD()).transaction(ya),r=yield n.objectStore(ya).get(JD(t));return yield n.done,r}catch(e){if(e instanceof qt)li.warn(e.message);else{let n=wr.create("idb-get",{originalErrorMessage:e?.message});li.warn(n.message)}}})}function WD(t,e){return m(this,null,function*(){try{let r=(yield YD()).transaction(ya,"readwrite");yield r.objectStore(ya).put(e,JD(t)),yield r.done}catch(n){if(n instanceof qt)li.warn(n.message);else{let r=wr.create("idb-set",{originalErrorMessage:n?.message});li.warn(r.message)}}})}function JD(t){return`${t.name}!${t.options.appId}`}var gV=1024,yV=30*24*60*60*1e3,mg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=yV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=KD(),{heartbeatsToSend:r,unsentEntries:i}=vV(this._heartbeatsCache.heartbeats),s=ma(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function KD(){return new Date().toISOString().substring(0,10)}function vV(t,e=gV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),QD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var gg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Vl()?VD().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield mV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function QD(t){return ma(JSON.stringify({version:2,heartbeats:t})).length}function _V(t){Er(new zt("platform-logger",e=>new lg(e),"PRIVATE")),Er(new zt("heartbeat",e=>new mg(e),"PRIVATE")),Qe(dg,GD,t),Qe(dg,GD,"esm2017"),Qe("fire-js","")}_V("");var wV="firebase",EV="10.8.0";Qe(wV,EV,"app");var Ms=new jn("ANGULARFIRE2_VERSION");function wg(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var wa=(t,e)=>{let n=e?[e]:jl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},_a=class{constructor(){return wa(IV)}},IV="app-check";function xs(){}var Bl=class{zone;delegate;constructor(e,n=Fh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},_g=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),n.pipe(Ne({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ea=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Bl(Zone.current)),this.insideAngular=n.run(()=>new Bl(Zone.current,kh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(pe))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $l(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function DV(t){return $l().ngZone.runOutsideAngular(()=>t())}function di(t){return $l().ngZone.run(()=>t())}function CV(t){return TV($l())(t)}function TV(t){return function(n){return n=n.lift(new _g(t.ngZone)),n.pipe(tr(t.outsideAngular),er(t.insideAngular))}}var bV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),di(()=>t.apply(void 0,r))},Ir=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=di(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs))),r[s]=bV(r[s],n));let i=DV(()=>t.apply(this,r));if(!e)if(i instanceof W){let s=$l();return i.pipe(tr(s.outsideAngular),er(s.insideAngular))}else return di(()=>i);return i instanceof W?i.pipe(CV):i instanceof Promise?di(()=>new Promise((s,o)=>i.then(a=>di(()=>s(a)),a=>di(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:di(()=>i)};var hi=class{constructor(e){return e}},Ia=class{constructor(){return jl()}};function SV(t){return t&&t.length===1?t[0]:new hi(va())}var Eg=new A("angularfire2._apps"),AV={provide:hi,useFactory:SV,deps:[[new vn,Eg]]},xV={provide:Ia,deps:[[new vn,Eg]]};function MV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new hi(r)}}var RV=(()=>{class t{constructor(n){Qe("angularfire",Ms.full,"core"),Qe("angularfire",Ms.full,"app"),Qe("angular",bp.full,n.toString())}static \u0275fac=function(r){return new(r||t)(R(_n))};static \u0275mod=St({type:t});static \u0275inj=bt({providers:[AV,xV]})}return t})();function ZD(t,...e){return{ngModule:RV,providers:[{provide:Eg,useFactory:MV(t),multi:!0,deps:[pe,tn,Ea,...e]}]}}var XD=Ir(vg,!0);function oC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var aC=oC,cC=new Qn("auth","Firebase",oC());var zl=new _r("@firebase/auth");function PV(t,...e){zl.logLevel<=ne.WARN&&zl.warn(`Auth (${As}): ${t}`,...e)}function ql(t,...e){zl.logLevel<=ne.ERROR&&zl.error(`Auth (${As}): ${t}`,...e)}function eC(t,...e){throw Pg(t,...e)}function Ng(t,...e){return Pg(t,...e)}function OV(t,e,n){let r=Object.assign(Object.assign({},aC()),{[e]:n});return new Qn("auth","Firebase",r).create(e,{appName:t.name})}function Pg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cC.create(t,...e)}function de(t,e,...n){if(!t)throw Pg(e,...n)}function Da(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ql(e),new Error(e)}function Gl(t,e){t||Da(e)}function kV(){return tC()==="http:"||tC()==="https:"}function tC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kV()||OD()||"connection"in navigator)?navigator.onLine:!0}function VV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var pi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gl(n>e,"Short delay should be less than long delay!"),this.isMobile=PD()||kD()}get(){return FV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function LV(t,e){Gl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Wl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var UV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jV=new pi(3e4,6e4);function uC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ed(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return lC(t,i,()=>m(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=ng(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Wl.fetch()(dC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function lC(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},UV),e);try{let i=new Cg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Hl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw OV(t,l,u);eC(t,l)}}catch(i){if(i instanceof qt)throw i;eC(t,"network-request-failed",{message:String(i)})}})}function dC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?LV(t.config,i):`${t.config.apiScheme}://${i}`}var Cg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ng(this.auth,"network-request-failed")),jV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Hl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ng(t,e,r);return i.customData._tokenResponse=n,i}function BV(t,e){return m(this,null,function*(){return ed(t,"POST","/v1/accounts:delete",e)})}function $V(t,e){return m(this,null,function*(){return ed(t,"POST","/v1/accounts:lookup",e)})}function Ca(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Og(t,e=!1){return m(this,null,function*(){let n=sn(t),r=yield n.getIdToken(e),i=hC(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ca(Ig(i.auth_time)),issuedAtTime:Ca(Ig(i.iat)),expirationTime:Ca(Ig(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ig(t){return Number(t)*1e3}function hC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ql("JWT malformed, contained fewer than 3 sections"),null;try{let i=eg(n);return i?JSON.parse(i):(ql("Failed to decode base64 JWT payload"),null)}catch(i){return ql("Caught error parsing JWT payload as JSON",i?.toString()),null}}function HV(t){let e=hC(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Tg(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof qt&&qV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function qV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var bg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ql(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Tg(t,$V(n,{idToken:r}));de(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?GV(s.providerUserInfo):[],a=zV(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kl(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function kg(t){return m(this,null,function*(){let e=sn(t);yield Ql(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function zV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GV(t){return t.map(e=>{var{providerId:n}=e,r=Lh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function WV(t,e){return m(this,null,function*(){let n=yield lC(t,{},()=>m(this,null,function*(){let r=ng({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=dC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function KV(t,e){return m(this,null,function*(){return ed(t,"POST","/v2/accounts:revokeToken",uC(t,e))})}var Yl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return m(this,null,function*(){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield WV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Da("not implemented")}};function Dr(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Jl=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield Tg(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Og(this,e)}reload(){return kg(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ql(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){let e=yield this.getIdToken();return yield Tg(this,BV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(u=n.createdAt)!==null&&u!==void 0?u:void 0,F=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Q,emailVerified:G,isAnonymous:Re,providerData:se,stsTokenManager:We}=n;de(Q&&We,e,"internal-error");let ln=Yl.fromJSON(this.name,We);de(typeof Q=="string",e,"internal-error"),Dr(d,e.name),Dr(h,e.name),de(typeof G=="boolean",e,"internal-error"),de(typeof Re=="boolean",e,"internal-error"),Dr(f,e.name),Dr(v,e.name),Dr(I,e.name),Dr(y,e.name),Dr(D,e.name),Dr(F,e.name);let Mr=new t({uid:Q,auth:e,email:h,emailVerified:G,displayName:d,isAnonymous:Re,photoURL:v,phoneNumber:f,tenantId:I,stsTokenManager:ln,createdAt:D,lastLoginAt:F});return se&&Array.isArray(se)&&(Mr.providerData=se.map(Oi=>Object.assign({},Oi))),y&&(Mr._redirectEventId=y),Mr}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new Yl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ql(s),s})}};var nC=new Map;function fi(t){Gl(t instanceof Function,"Expected a class definition");let e=nC.get(t);return e?(Gl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nC.set(t,e),e)}var QV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Sg=QV;function Dg(t,e,n){return`firebase:${t}:${e}:${n}`}var Zl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Dg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Jl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(fi(Sg),e,r);let i=(yield Promise.all(n.map(u=>m(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||fi(Sg),o=Dg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Jl._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>m(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function rC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tL(e))return"Blackberry";if(nL(e))return"Webos";if(JV(e))return"Safari";if((e.includes("chrome/")||ZV(e))&&!e.includes("edge/"))return"Chrome";if(eL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function YV(t=ct()){return/firefox\//i.test(t)}function JV(t=ct()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZV(t=ct()){return/crios\//i.test(t)}function XV(t=ct()){return/iemobile/i.test(t)}function eL(t=ct()){return/android/i.test(t)}function tL(t=ct()){return/blackberry/i.test(t)}function nL(t=ct()){return/webos/i.test(t)}function fC(t,e=[]){let n;switch(t){case"Browser":n=rC(ct());break;case"Worker":n=`${rC(ct())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${As}/${r}`}var Ag=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function rL(n){return m(this,arguments,function*(t,e={}){return ed(t,"GET","/v2/passwordPolicy",uC(t,e))})}var iL=6,xg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:iL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Mg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xl(this),this.idTokenSubscription=new Xl(this),this.beforeStateQueue=new Ag(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Zl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield Ql(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=VV()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){let n=e?sn(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(fi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield rL(this),n=new xg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield KV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&fi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield Zl.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&PV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function sL(t){return sn(t)}var Xl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var oL={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aL(t){oL=t}function cL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function uL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var E5=cL("rcb"),I5=new pi(3e4,6e4);var D5=new pi(2e3,1e4);var C5=10*60*1e3;var T5=new pi(3e4,6e4);var b5=new pi(5e3,15e3);var S5=encodeURIComponent("fac");var iC="@firebase/auth",sC="1.6.0";var Rg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dL(t){Er(new zt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fC(t)},u=new Mg(r,i,s,c);return uL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Er(new zt("auth-internal",e=>{let n=sL(e.getProvider("auth").getImmediate());return(r=>new Rg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(iC,sC,lL(t)),Qe(iC,sC,"esm2017")}var hL=5*60,A5=RD("authIdTokenMaxAge")||hL;function fL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ng("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dL("Browser");var h2="auth";var td=class{constructor(){return wa(h2)}};var f2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},an={},C,ry=ry||{},U=f2||self;function md(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function La(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function p2(t){return Object.prototype.hasOwnProperty.call(t,Fg)&&t[Fg]||(t[Fg]=++m2)}var Fg="closure_uid_"+(1e9*Math.random()>>>0),m2=0;function g2(t,e,n){return t.call.apply(t.bind,arguments)}function y2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut=g2:ut=y2,ut.apply(null,arguments)}function nd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Je(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Cr(){this.s=this.s,this.o=this.o}var v2=0;Cr.prototype.s=!1;Cr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),v2!=0)&&p2(this)};Cr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var bC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function iy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function pC(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(md(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var _2=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};U.addEventListener("test",n,e),U.removeEventListener("test",n,e)}catch{}return t}();function Ma(t){return/^[\s\xa0]*$/.test(t)}function gd(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function Cn(t){return gd().indexOf(t)!=-1}function sy(t){return sy[" "](t),t}sy[" "]=function(){};function w2(t,e){var n=cU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var E2=Cn("Opera"),Os=Cn("Trident")||Cn("MSIE"),SC=Cn("Edge"),Bg=SC||Os,AC=Cn("Gecko")&&!(gd().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge"))&&!(Cn("Trident")||Cn("MSIE"))&&!Cn("Edge"),I2=gd().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge");function xC(){var t=U.document;return t?t.documentMode:void 0}var $g;e:{if(rd="",id=function(){var t=gd();if(AC)return/rv:([^\);]+)(\)|;)/.exec(t);if(SC)return/Edge\/([\d\.]+)/.exec(t);if(Os)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(I2)return/WebKit\/(\S+)/.exec(t);if(E2)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),id&&(rd=id?id[1]:""),Os&&(sd=xC(),sd!=null&&sd>parseFloat(rd))){$g=String(sd);break e}$g=rd}var rd,id,sd,Hg;U.document&&Os?(Vg=xC(),Hg=Vg||parseInt($g,10)||void 0):Hg=void 0;var Vg,D2=Hg;function Ra(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(AC){e:{try{sy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:C2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ra.$.h.call(this)}}Je(Ra,lt);var C2={2:"touch",3:"pen",4:"mouse"};Ra.prototype.h=function(){Ra.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ua="closure_listenable_"+(1e6*Math.random()|0),T2=0;function b2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++T2,this.fa=this.ia=!1}function yd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function oy(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function S2(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function MC(t){let e={};for(let n in t)e[n]=t[n];return e}var mC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<mC.length;s++)n=mC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vd(t){this.src=t,this.g={},this.h=0}vd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=zg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new b2(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function qg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=bC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(yd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var ay="closure_lm_"+(1e6*Math.random()|0),Lg={};function NC(t,e,n,r,i){if(r&&r.once)return OC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)NC(t,e[s],n,r,i);return null}return n=ly(n),t&&t[Ua]?t.O(e,n,La(r)?!!r.capture:!!r,i):PC(t,e,n,!1,r,i)}function PC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=La(i)?!!i.capture:!!i,a=uy(t);if(a||(t[ay]=a=new vd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=A2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_2||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function A2(){function t(n){return e.call(t.src,t.listener,n)}let e=x2;return t}function OC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)OC(t,e[s],n,r,i);return null}return n=ly(n),t&&t[Ua]?t.P(e,n,La(r)?!!r.capture:!!r,i):PC(t,e,n,!0,r,i)}function kC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kC(t,e[s],n,r,i);else r=La(r)?!!r.capture:!!r,n=ly(n),t&&t[Ua]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=zg(s,n,r,i),-1<n&&(yd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=uy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zg(e,n,r,i)),(n=-1<t?e[t]:null)&&cy(n))}function cy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ua])qg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uy(e))?(qg(n,t),n.h==0&&(n.src=null,e[ay]=null)):yd(t)}}}function FC(t){return t in Lg?Lg[t]:Lg[t]="on"+t}function x2(t,e){if(t.fa)t=!0;else{e=new Ra(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cy(t),t=n.call(r,e)}return t}function uy(t){return t=t[ay],t instanceof vd?t:null}var Ug="__closure_events_fn_"+(1e9*Math.random()>>>0);function ly(t){return typeof t=="function"?t:(t[Ug]||(t[Ug]=function(e){return t.handleEvent(e)}),t[Ug])}function Ye(){Cr.call(this),this.i=new vd(this),this.S=this,this.J=null}Je(Ye,Cr);Ye.prototype[Ua]=!0;Ye.prototype.removeEventListener=function(t,e,n,r){kC(this,t,e,n,r)};function it(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(r,t),RC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=od(o,r,!0,e)&&i}if(o=e.g=t,i=od(o,r,!0,e)&&i,i=od(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=od(o,r,!1,e)&&i}Ye.prototype.N=function(){if(Ye.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yd(n[r]);delete t.g[e],t.h--}}this.J=null};Ye.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ye.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function od(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&qg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var dy=U.JSON.stringify,Gg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function M2(){var t=hy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Wg=class{constructor(){this.h=this.g=null}add(e,n){let r=VC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},VC=new Gg(()=>new Kg,t=>t.reset()),Kg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function R2(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function N2(t){U.setTimeout(()=>{throw t},0)}var Na,Pa=!1,hy=new Wg,LC=()=>{let t=U.Promise.resolve(void 0);Na=()=>{t.then(P2)}},P2=()=>{for(var t;t=M2();){try{t.h.call(t.g)}catch(n){N2(n)}var e=VC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pa=!1};function _d(t,e){Ye.call(this),this.h=t||1,this.g=e||U,this.j=ut(this.qb,this),this.l=Date.now()}Je(_d,Ye);C=_d.prototype;C.ga=!1;C.T=null;C.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),it(this,"tick"),this.ga&&(fy(this),this.start()))}};C.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}C.N=function(){_d.$.N.call(this),fy(this),delete this.g};function py(t,e,n){if(typeof t=="function")n&&(t=ut(t,n));else if(t&&typeof t.handleEvent=="function")t=ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function UC(t){t.g=py(()=>{t.g=null,t.i&&(t.i=!1,UC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Qg=class extends Cr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UC(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Oa(t){Cr.call(this),this.h=t,this.g={}}Je(Oa,Cr);var gC=[];function jC(t,e,n,r){Array.isArray(n)||(n&&(gC[0]=n.toString()),n=gC);for(var i=0;i<n.length;i++){var s=NC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function BC(t){oy(t.g,function(e,n){this.g.hasOwnProperty(n)&&cy(e)},t),t.g={}}Oa.prototype.N=function(){Oa.$.N.call(this),BC(this)};Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wd(){this.g=!0}wd.prototype.Ea=function(){this.g=!1};function O2(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function k2(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+V2(t,n)+(r?" "+r:"")})}function F2(t,e){t.info(function(){return"TIMEOUT: "+e})}wd.prototype.info=function(){};function V2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return dy(n)}catch{return e}}var vi={},yC=null;function Ed(){return yC=yC||new Ye}vi.Ta="serverreachability";function $C(t){lt.call(this,vi.Ta,t)}Je($C,lt);function ka(t){let e=Ed();it(e,new $C(e))}vi.STAT_EVENT="statevent";function HC(t,e){lt.call(this,vi.STAT_EVENT,t),this.stat=e}Je(HC,lt);function _t(t){let e=Ed();it(e,new HC(e,t))}vi.Ua="timingevent";function qC(t,e){lt.call(this,vi.Ua,t),this.size=e}Je(qC,lt);function ja(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var Id={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function my(){}my.prototype.h=null;function vC(t){return t.h||(t.h=t.i())}function GC(){}var Ba={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gy(){lt.call(this,"d")}Je(gy,lt);function yy(){lt.call(this,"c")}Je(yy,lt);var Yg;function Dd(){}Je(Dd,my);Dd.prototype.g=function(){return new XMLHttpRequest};Dd.prototype.i=function(){return{}};Yg=new Dd;function $a(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oa(this),this.P=L2,t=Bg?125:void 0,this.V=new _d(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WC}function WC(){this.i=null,this.g="",this.h=!1}var L2=45e3,KC={},Jg={};C=$a.prototype;C.setTimeout=function(t){this.P=t};function Zg(t,e,n){t.L=1,t.A=Td(Jn(e)),t.u=n,t.S=!0,QC(t,null)}function QC(t,e){t.G=Date.now(),Ha(t),t.B=Jn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),rT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new WC,t.g=CT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Qg(ut(t.Pa,t,t.g),t.O)),jC(t.U,t.g,"readystatechange",t.nb),e=t.I?MC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ka(),O2(t.j,t.v,t.B,t.m,t.W,t.u)}C.nb=function(t){t=t.target;let e=this.M;e&&Tn(t)==3?e.l():this.Pa(t)};C.Pa=function(t){try{if(t==this.g)e:{let l=Tn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Bg||this.g&&(this.h.h||this.g.ja()||IC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?ka(3):ka(2)),Cd(this);var n=this.g.da();this.ca=n;t:if(YC(this)){var r=IC(this.g);t="";var i=r.length,s=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),xa(this);var o="";break t}this.h.i=new U.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,k2(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(a)){var u=a;break t}}u=null}if(n=u)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xg(this,n);else{this.i=!1,this.s=3,_t(12),mi(this),xa(this);break e}}this.S?(JC(this,l,o),Bg&&this.i&&l==3&&(jC(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,o,null),Xg(this,o)),l==4&&mi(this),this.i&&!this.J&&(l==4?wT(this.l,this):(this.i=!1,Ha(this)))}else sU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),mi(this),xa(this)}}}catch{}finally{}};function YC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function JC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=U2(t,n),i==Jg){e==4&&(t.s=4,_t(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}else if(i==KC){t.s=4,_t(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ns(t.j,t.m,i,null),Xg(t,i);YC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,_t(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dy(e),e.M=!0,_t(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),mi(t),xa(t))}C.mb=function(){if(this.g){var t=Tn(this.g),e=this.g.ja();this.o<e.length&&(Cd(this),JC(this,t,e),this.i&&t!=4&&Ha(this))}};function U2(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Jg:(n=Number(e.substring(n,r)),isNaN(n)?KC:(r+=1,r+n>e.length?Jg:(e=e.slice(r,r+n),t.o=r+n,e)))}C.cancel=function(){this.J=!0,mi(this)};function Ha(t){t.Y=Date.now()+t.P,ZC(t,t.P)}function ZC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ja(ut(t.lb,t),e)}function Cd(t){t.C&&(U.clearTimeout(t.C),t.C=null)}C.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(F2(this.j,this.B),this.L!=2&&(ka(),_t(17)),mi(this),this.s=2,xa(this)):ZC(this,this.Y-t)};function xa(t){t.l.H==0||t.J||wT(t.l,t)}function mi(t){Cd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,fy(t.V),BC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Xg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ey(n.i,t))){if(!t.K&&ey(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)dd(n),Ad(n);else break e;Iy(n),_t(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ja(ut(n.ib,n),6e3));if(1>=oT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gi(n,11)}else if((t.K||n.g==t)&&dd(n),!Ma(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let v=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(vy(s,s.h),s.h=null))}if(r.F){let I=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,Ie(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=DT(r,r.J?r.pa:null,r.Y),o.K){aT(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Cd(a),Ha(a)),r.g=o}else vT(r);0<n.j.length&&xd(n)}else u[0]!="stop"&&u[0]!="close"||gi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?gi(n,7):Ey(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ka(4)}catch{}}function j2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(md(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function B2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(md(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function XC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(md(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=B2(t),r=j2(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var eT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function yi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yi){this.h=t.h,ud(this,t.j),this.s=t.s,this.g=t.g,ld(this,t.m),this.l=t.l;var e=t.i,n=new Fa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_C(this,n),this.o=t.o}else t&&(e=String(t).match(eT))?(this.h=!1,ud(this,e[1]||"",!0),this.s=Sa(e[2]||""),this.g=Sa(e[3]||"",!0),ld(this,e[4]),this.l=Sa(e[5]||"",!0),_C(this,e[6]||"",!0),this.o=Sa(e[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}yi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Aa(e,wC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Aa(e,wC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Aa(n,n.charAt(0)=="/"?z2:q2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Aa(n,W2)),t.join("")};function Jn(t){return new yi(t)}function ud(t,e,n){t.j=n?Sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ld(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _C(t,e,n){e instanceof Fa?(t.i=e,K2(t.i,t.h)):(n||(e=Aa(e,G2)),t.i=new Fa(e,t.h))}function Ie(t,e,n){t.i.set(e,n)}function Td(t){return Ie(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Aa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,H2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function H2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wC=/[#\/\?@]/g,q2=/[#\?:]/g,z2=/[#\?]/g,G2=/[#\?@]/g,W2=/#/g;function Fa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Tr(t){t.g||(t.g=new Map,t.h=0,t.i&&$2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}C=Fa.prototype;C.add=function(t,e){Tr(this),this.i=null,t=ks(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tT(t,e){Tr(t),e=ks(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nT(t,e){return Tr(t),e=ks(t,e),t.g.has(e)}C.forEach=function(t,e){Tr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};C.ta=function(){Tr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};C.Z=function(t){Tr(this);let e=[];if(typeof t=="string")nT(this,t)&&(e=e.concat(this.g.get(ks(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};C.set=function(t,e){return Tr(this),this.i=null,t=ks(this,t),nT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};C.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rT(t,e,n){tT(t,e),0<n.length&&(t.i=null,t.g.set(ks(t,e),iy(n)),t.h+=n.length)}C.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ks(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function K2(t,e){e&&!t.j&&(Tr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tT(this,r),rT(this,i,n))},t)),t.j=e}var Q2=class{constructor(t,e){this.g=t,this.map=e}};function iT(t){this.l=t||Y2,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Y2=10;function sT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oT(t){return t.h?1:t.g?t.g.size:0}function ey(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function vy(t,e){t.g?t.g.add(e):t.h=e}function aT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iT.prototype.cancel=function(){if(this.i=cT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function cT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return iy(t.i)}var J2=class{stringify(t){return U.JSON.stringify(t,void 0)}parse(t){return U.JSON.parse(t,void 0)}};function Z2(){this.g=new J2}function X2(t,e,n){let r=n||"";try{XC(t,function(i,s){let o=i;La(i)&&(o=dy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eU(t,e){let n=new wd;if(U.Image){let r=new Image;r.onload=nd(ad,n,r,"TestLoadImage: loaded",!0,e),r.onerror=nd(ad,n,r,"TestLoadImage: error",!1,e),r.onabort=nd(ad,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=nd(ad,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ad(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qa(t){this.l=t.ec||null,this.j=t.ob||!1}Je(qa,my);qa.prototype.g=function(){return new bd(this.l,this.j)};qa.prototype.i=function(t){return function(){return t}}({});function bd(t,e){Ye.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_y,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je(bd,Ye);var _y=0;C=bd.prototype;C.open=function(t,e){if(this.readyState!=_y)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Va(this)};C.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=_y};C.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function uT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}C.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?za(this):Va(this),this.readyState==3&&uT(this)}};C.Za=function(t){this.g&&(this.response=this.responseText=t,za(this))};C.Ya=function(t){this.g&&(this.response=t,za(this))};C.ka=function(){this.g&&za(this)};function za(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Va(t)}C.setRequestHeader=function(t,e){this.v.append(t,e)};C.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};C.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Va(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tU=U.JSON.parse;function Ae(t){Ye.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lT,this.L=this.M=!1}Je(Ae,Ye);var lT="",nU=/^https?$/i,rU=["POST","PUT"];C=Ae.prototype;C.Oa=function(t){this.M=t};C.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yg.g(),this.C=this.u?vC(this.u):vC(Yg),this.g.onreadystatechange=ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){EC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=U.FormData&&t instanceof U.FormData,!(0<=bC(rU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fT(this),0<this.B&&((this.L=iU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.ua,this)):this.A=py(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){EC(this,s)}};function iU(t){return Os&&typeof t.timeout=="number"&&t.ontimeout!==void 0}C.ua=function(){typeof ry<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,it(this,"timeout"),this.abort(8))};function EC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dT(t),Sd(t)}function dT(t){t.F||(t.F=!0,it(t,"complete"),it(t,"error"))}C.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,it(this,"complete"),it(this,"abort"),Sd(this))};C.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sd(this,!0)),Ae.$.N.call(this)};C.La=function(){this.s||(this.G||this.v||this.l?hT(this):this.kb())};C.kb=function(){hT(this)};function hT(t){if(t.h&&typeof ry<"u"&&(!t.C[1]||Tn(t)!=4||t.da()!=2)){if(t.v&&Tn(t)==4)py(t.La,0,t);else if(it(t,"readystatechange"),Tn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(eT)[1]||null;!i&&U.self&&U.self.location&&(i=U.self.location.protocol.slice(0,-1)),r=!nU.test(i?i.toLowerCase():"")}n=r}if(n)it(t,"complete"),it(t,"success");else{t.m=6;try{var s=2<Tn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",dT(t)}}finally{Sd(t)}}}}function Sd(t,e){if(t.g){fT(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||it(t,"ready");try{n.onreadystatechange=r}catch{}}}function fT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}C.isActive=function(){return!!this.g};function Tn(t){return t.g?t.g.readyState:0}C.da=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}};C.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};C.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tU(e)}};function IC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case lT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function sU(t){let e={};t=(t.g&&2<=Tn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ma(t[r]))continue;var n=R2(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}S2(e,function(r){return r.join(", ")})}C.Ia=function(){return this.m};C.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pT(t){let e="";return oy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function wy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ie(t,e,n))}function Ta(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mT(t){this.Ga=0,this.j=[],this.l=new wd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ta("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ta("baseRetryDelayMs",5e3,t),this.hb=Ta("retryDelaySeedMs",1e4,t),this.eb=Ta("forwardChannelMaxRetries",2,t),this.xa=Ta("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iT(t&&t.concurrentRequestLimit),this.Ja=new Z2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}C=mT.prototype;C.ra=8;C.H=1;function Ey(t){if(gT(t),t.H==3){var e=t.W++,n=Jn(t.I);if(Ie(n,"SID",t.K),Ie(n,"RID",e),Ie(n,"TYPE","terminate"),Ga(t,n),e=new $a(t,t.l,e),e.L=2,e.A=Td(Jn(n)),n=!1,U.navigator&&U.navigator.sendBeacon)try{n=U.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&U.Image&&(new Image().src=e.A,n=!0),n||(e.g=CT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ha(e)}IT(t)}function Ad(t){t.g&&(Dy(t),t.g.cancel(),t.g=null)}function gT(t){Ad(t),t.u&&(U.clearTimeout(t.u),t.u=null),dd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function xd(t){if(!sT(t.i)&&!t.m){t.m=!0;var e=t.Na;Na||LC(),Pa||(Na(),Pa=!0),hy.add(e,t),t.C=0}}function oU(t,e){return oT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ja(ut(t.Na,t,e),ET(t,t.C)),t.C++,!0)}C.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new $a(this,this.l,t),s=this.s;if(this.U&&(s?(s=MC(s),RC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yT(this,i,e),n=Jn(this.I),Ie(n,"RID",t),Ie(n,"CVER",22),this.F&&Ie(n,"X-HTTP-Session-Id",this.F),Ga(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pT(s)))+"&"+e:this.o&&wy(n,this.o,s)),vy(this.i,i),this.bb&&Ie(n,"TYPE","init"),this.P?(Ie(n,"$req",e),Ie(n,"SID","null"),i.aa=!0,Zg(i,n,null)):Zg(i,n,e),this.H=2}}else this.H==3&&(t?DC(this,t):this.j.length==0||sT(this.i)||DC(this))};function DC(t,e){var n;e?n=e.m:n=t.W++;let r=Jn(t.I);Ie(r,"SID",t.K),Ie(r,"RID",n),Ie(r,"AID",t.V),Ga(t,r),t.o&&t.s&&wy(r,t.o,t.s),n=new $a(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vy(t.i,n),Zg(n,r,e)}function Ga(t,e){t.na&&oy(t.na,function(n,r){Ie(e,r,n)}),t.h&&XC({},function(n,r){Ie(e,r,n)})}function yT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ut(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{X2(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function vT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Na||LC(),Pa||(Na(),Pa=!0),hy.add(e,t),t.A=0}}function Iy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ja(ut(t.Ma,t),ET(t,t.A)),t.A++,!0)}C.Ma=function(){if(this.u=null,_T(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ja(ut(this.jb,this),t)}};C.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_t(10),Ad(this),_T(this))};function Dy(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function _T(t){t.g=new $a(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Jn(t.wa);Ie(e,"RID","rpc"),Ie(e,"SID",t.K),Ie(e,"AID",t.V),Ie(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ie(e,"TO",t.qa),Ie(e,"TYPE","xmlhttp"),Ga(t,e),t.o&&t.s&&wy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Td(Jn(e)),n.u=null,n.S=!0,QC(n,t)}C.ib=function(){this.v!=null&&(this.v=null,Ad(this),Iy(this),_t(19))};function dd(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function wT(t,e){var n=null;if(t.g==e){dd(t),Dy(t),t.g=null;var r=2}else if(ey(t.i,e))n=e.F,aT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ed(),it(r,new qC(r,n)),xd(t)}else vT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&oU(t,e)||r==2&&Iy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gi(t,5);break;case 4:gi(t,10);break;case 3:gi(t,6);break;default:gi(t,2)}}}function ET(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ut(t.pb,t);n||(n=new yi("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||ud(n,"https"),Td(n)),eU(n.toString(),r)}else _t(2);t.H=0,t.h&&t.h.za(e),IT(t),gT(t)}C.pb=function(t){t?(this.l.info("Successfully pinged google.com"),_t(2)):(this.l.info("Failed to ping google.com"),_t(1))};function IT(t){if(t.H=0,t.ma=[],t.h){let e=cT(t.i);(e.length!=0||t.j.length!=0)&&(pC(t.ma,e),pC(t.ma,t.j),t.i.i.length=0,iy(t.j),t.j.length=0),t.h.ya()}}function DT(t,e,n){var r=n instanceof yi?Jn(n):new yi(n);if(r.g!="")e&&(r.g=e+"."+r.g),ld(r,r.m);else{var i=U.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new yi(null);r&&ud(s,r),e&&(s.g=e),i&&ld(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ie(r,n,e),Ie(r,"VER",t.ra),Ga(t,r),r}function CT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ae(new qa({ob:n})):new Ae(t.va),e.Oa(t.J),e}C.isActive=function(){return!!this.h&&this.h.isActive(this)};function TT(){}C=TT.prototype;C.Ba=function(){};C.Aa=function(){};C.za=function(){};C.ya=function(){};C.isActive=function(){return!0};C.Va=function(){};function hd(){if(Os&&!(10<=Number(D2)))throw Error("Environmental error: no available transport.")}hd.prototype.g=function(t,e){return new Nt(t,e)};function Nt(t,e){Ye.call(this),this.g=new mT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ma(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ma(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fs(this)}Je(Nt,Ye);Nt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;_t(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=DT(t,null,t.Y),xd(t)};Nt.prototype.close=function(){Ey(this.g)};Nt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dy(t),t=n);e.j.push(new Q2(e.fb++,t)),e.H==3&&xd(e)};Nt.prototype.N=function(){this.g.h=null,delete this.j,Ey(this.g),delete this.g,Nt.$.N.call(this)};function bT(t){gy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Je(bT,gy);function ST(){yy.call(this),this.status=1}Je(ST,yy);function Fs(t){this.g=t}Je(Fs,TT);Fs.prototype.Ba=function(){it(this.g,"a")};Fs.prototype.Aa=function(t){it(this.g,new bT(t))};Fs.prototype.za=function(t){it(this.g,new ST)};Fs.prototype.ya=function(){it(this.g,"b")};function aU(){this.blockSize=-1}function on(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Je(on,aU);on.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}on.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)jg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jg(this,r),i=0;break}}this.h=i,this.i+=e};on.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function he(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var cU={};function Cy(t){return-128<=t&&128>t?w2(t,function(e){return new he([e|0],0>e?-1:0)}):new he([t|0],0>t?-1:0)}function bn(t){if(isNaN(t)||!isFinite(t))return Ps;if(0>t)return rt(bn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ty;return new he(e,0)}function AT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return rt(AT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=bn(Math.pow(e,8)),r=Ps,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=bn(Math.pow(e,s)),r=r.R(s).add(bn(o))):(r=r.R(n),r=r.add(bn(o)))}return r}var ty=4294967296,Ps=Cy(0),ny=Cy(1),CC=Cy(16777216);C=he.prototype;C.ea=function(){if(Gt(this))return-rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ty+r)*e,e*=ty}return t};C.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Yn(this))return"0";if(Gt(this))return"-"+rt(this).toString(t);for(var e=bn(Math.pow(t,6)),n=this,r="";;){var i=pd(n,e).g;n=fd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Yn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};C.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Yn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gt(t){return t.h==-1}C.X=function(t){return t=fd(this,t),Gt(t)?-1:Yn(t)?0:1};function rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new he(n,~t.h).add(ny)}C.abs=function(){return Gt(this)?rt(this):this};C.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new he(n,n[n.length-1]&-2147483648?-1:0)};function fd(t,e){return t.add(rt(e))}C.R=function(t){if(Yn(this)||Yn(t))return Ps;if(Gt(this))return Gt(t)?rt(this).R(rt(t)):rt(rt(this).R(t));if(Gt(t))return rt(this.R(rt(t)));if(0>this.X(CC)&&0>t.X(CC))return bn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,cd(n,2*r+2*i),n[2*r+2*i+1]+=s*c,cd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,cd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,cd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new he(n,0)};function cd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ba(t,e){this.g=t,this.h=e}function pd(t,e){if(Yn(e))throw Error("division by zero");if(Yn(t))return new ba(Ps,Ps);if(Gt(t))return e=pd(rt(t),e),new ba(rt(e.g),rt(e.h));if(Gt(e))return e=pd(t,rt(e)),new ba(rt(e.g),e.h);if(30<t.g.length){if(Gt(t)||Gt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ny,r=e;0>=r.X(t);)n=TC(n),r=TC(r);var i=Rs(n,1),s=Rs(r,1);for(r=Rs(r,2),n=Rs(n,2);!Yn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Rs(r,1),n=Rs(n,1)}return e=fd(t,i.R(e)),new ba(i,e)}for(i=Ps;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=bn(n),o=s.R(e);Gt(o)||0<o.X(t);)n-=r,s=bn(n),o=s.R(e);Yn(s)&&(s=ny),i=i.add(s),t=fd(t,o)}return new ba(i,t)}C.gb=function(t){return pd(this,t).h};C.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new he(n,this.h&t.h)};C.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new he(n,this.h|t.h)};C.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new he(n,this.h^t.h)};function TC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new he(n,t.h)}function Rs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new he(i,t.h)}hd.prototype.createWebChannel=hd.prototype.g;Nt.prototype.send=Nt.prototype.u;Nt.prototype.open=Nt.prototype.m;Nt.prototype.close=Nt.prototype.close;Id.NO_ERROR=0;Id.TIMEOUT=8;Id.HTTP_ERROR=6;zC.COMPLETE="complete";GC.EventType=Ba;Ba.OPEN="a";Ba.CLOSE="b";Ba.ERROR="c";Ba.MESSAGE="d";Ye.prototype.listen=Ye.prototype.O;Ae.prototype.listenOnce=Ae.prototype.P;Ae.prototype.getLastError=Ae.prototype.Sa;Ae.prototype.getLastErrorCode=Ae.prototype.Ia;Ae.prototype.getStatus=Ae.prototype.da;Ae.prototype.getResponseJson=Ae.prototype.Wa;Ae.prototype.getResponseText=Ae.prototype.ja;Ae.prototype.send=Ae.prototype.ha;Ae.prototype.setWithCredentials=Ae.prototype.Oa;on.prototype.digest=on.prototype.l;on.prototype.reset=on.prototype.reset;on.prototype.update=on.prototype.j;he.prototype.add=he.prototype.add;he.prototype.multiply=he.prototype.R;he.prototype.modulo=he.prototype.gb;he.prototype.compare=he.prototype.X;he.prototype.toNumber=he.prototype.ea;he.prototype.toString=he.prototype.toString;he.prototype.getBits=he.prototype.D;he.fromNumber=bn;he.fromString=AT;var xT=an.createWebChannelTransport=function(){return new hd},MT=an.getStatEventTarget=function(){return Ed()},Md=an.ErrorCode=Id,RT=an.EventType=zC,NT=an.Event=vi,Ty=an.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},v6=an.FetchXmlHttpFactory=qa,Wa=an.WebChannel=GC,PT=an.XhrIo=Ae,OT=an.Md5=on,_i=an.Integer=he;var kT="@firebase/firestore";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var ro="10.8.0";var bi=new _r("@firebase/firestore");function Ka(){return bi.logLevel}function T(t,...e){if(bi.logLevel<=ne.DEBUG){let n=e.map(u_);bi.debug(`Firestore (${ro}): ${t}`,...n)}}function Pn(t,...e){if(bi.logLevel<=ne.ERROR){let n=e.map(u_);bi.error(`Firestore (${ro}): ${t}`,...n)}}function qs(t,...e){if(bi.logLevel<=ne.WARN){let n=e.map(u_);bi.warn(`Firestore (${ro}): ${t}`,...n)}}function u_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function k(t="Unexpected state"){let e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+t;throw Pn(e),new Error(e)}function we(t,e){t||k()}function z(t,e){return t}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var xn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var kd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},My=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}},Ry=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ny=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new xn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new kd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new Ze(e)}},Py=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Oy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Py(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ky=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new ky(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function uU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=uU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var st=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var q=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&k(),r===void 0?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},$e=class t extends Vd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new x(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},lU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class t extends Vd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return lU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new x(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new x(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new x(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var P=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var Vy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vy.UNKNOWN_ID=-1;function dU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Si(i,P.empty(),e)}function hU(t){return new Si(t.readTime,t.key,-1)}var Si=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(q.min(),P.empty(),-1)}static max(){return new t(q.max(),P.empty(),-1)}};function fU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=P.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var pU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ly=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hc(t){return m(this,null,function*(){if(t.code!==w.FAILED_PRECONDITION||t.message!==pU)throw t;T("LocalStore","Unexpectedly lost primary lease")})}var E=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Uy=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new xn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ci(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=l_(r.target.error);this.V.reject(new Ci(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Ci(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new By(n)}},Ld=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(ct())===12.2&&Pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return T("SimpleDb","Removing database:",e),wi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Vl())return!1;if(t.C())return!0;let e=ct(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return m(this,null,function*(){return this.db||(T("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Ci(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new x(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new x(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ci(e,o))},i.onupgradeneeded=s=>{T("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{T("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return m(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Uy.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),E.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(T("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},jy=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return wi(this.k.delete())}},Ci=class extends x{constructor(e,n){super(w.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function fc(t){return t.name==="IndexedDbTransactionError"}var By=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(T("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wi(r)}add(e){return T("SimpleDb","ADD",this.store.name,e,e),wi(this.store.add(e))}get(e){return wi(this.store.get(e)).next(n=>(n===void 0&&(n=null),T("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return T("SimpleDb","DELETE",this.store.name,e),wi(this.store.delete(e))}count(){return T("SimpleDb","COUNT",this.store.name),wi(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new E((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new E((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){T("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new E((r,i)=>{n.onerror=s=>{let o=l_(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new E((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new jy(a),u=n(a.primaryKey,a.value,c);if(u instanceof E){let l=u.catch(d=>(c.done(),E.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>E.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function wi(t){return new E((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=l_(r.target.error);n(i)}})}var FT=!1;function l_(t){let e=Ld.S(ct());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new x("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FT||(FT=!0,setTimeout(()=>{throw r},0)),r}}return t}var lb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function fh(t){return t==null}function ec(t){return t===0&&1/t==-1/0}function mU(t){return typeof t=="number"&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],A6=[...gU,"documentOverlays"],yU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vU=yU,x6=[...vU,"indexConfiguration","indexState","indexEntries"];function VT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function db(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Me=class t{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();let e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}};Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ud(this.data.getIterator())}getIteratorFrom(e){return new Ud(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ud=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var An=class t{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var _U=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(we(!!t),typeof t=="string"){let e=0,n=_U.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}function d_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function h_(t){let e=t.mapValue.fields.__previous_value__;return d_(e)?h_(e):e}function tc(t){let e=br(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var $y=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Bd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Rd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d_(t)?4:hb(t)?9007199254740991:10:k()}function On(t,e){if(t===e)return!0;let n=Ai(t);if(n!==Ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=br(i.timestampValue),a=br(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Sr(i.bytesValue).isEqual(Sr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xe(i.geoPointValue.latitude)===xe(s.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xe(i.integerValue)===xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=xe(i.doubleValue),a=xe(s.doubleValue);return o===a?ec(o)===ec(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(VT(o)!==VT(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!On(o[c],a[c])))return!1;return!0}(t,e);default:return k()}}function nc(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;let n=Ai(t),r=Ai(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=xe(s.integerValue||s.doubleValue),c=xe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return LT(t.timestampValue,e.timestampValue);case 4:return LT(tc(t),tc(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Sr(s),c=Sr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ce(a[u],c[u]);if(l!==0)return l}return ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ce(xe(s.latitude),xe(o.latitude));return a!==0?a:ce(xe(s.longitude),xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Gs(a[u],c[u]);if(l)return l}return ce(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Rd.mapValue&&o===Rd.mapValue)return 0;if(s===Rd.mapValue)return 1;if(o===Rd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ce(c[d],l[d]);if(h!==0)return h;let f=Gs(a[c[d]],u[l[d]]);if(f!==0)return f}return ce(c.length,l.length)}(t.mapValue,e.mapValue);default:throw k()}}function LT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=br(t),r=br(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Ws(t){return Hy(t)}function Hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=br(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return P.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Hy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Hy(n.fields[o])}`;return i+"}"}(t.mapValue):k()}function qy(t){return!!t&&"integerValue"in t}function f_(t){return!!t&&"arrayValue"in t}function UT(t){return!!t&&"nullValue"in t}function jT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function Ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ya(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var cn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ya(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){io(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ya(this.value))}};function fb(t){let e=[];return io(t.fields,(n,r)=>{let i=new Pt([n]);if(Pd(r)){let s=fb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}var un=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,q.min(),q.min(),q.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,q.min(),q.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,q.min(),q.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ks=class{constructor(e,n){this.position=e,this.inclusive=n}};function BT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=P.comparator(P.fromName(o.referenceValue),n.key):r=Gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}var Qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function wU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var $d=class{},Ge=class t extends $d{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gy(e,n,r):n==="array-contains"?new Qy(e,r):n==="in"?new Yy(e,r):n==="not-in"?new Jy(e,r):n==="array-contains-any"?new Zy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wy(e,r):new Ky(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&Ai(this.value)===Ai(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kn=class t extends $d{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return pb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function pb(t){return t.op==="and"}function mb(t){return EU(t)&&pb(t)}function EU(t){for(let e of t.filters)if(e instanceof kn)return!1;return!0}function zy(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Ws(t.value);if(mb(t))return t.filters.map(e=>zy(e)).join(",");{let e=t.filters.map(n=>zy(n)).join(",");return`${t.op}(${e})`}}function gb(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gb(o,i.filters[a]),!0):!1}(t,e):void k()}function yb(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Ws(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(yb).join(" ,")+"}"}(t):"Filter"}var Gy=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){let n=P.comparator(e.key,this.key);return this.matchesComparison(n)}},Wy=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=vb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ky=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=vb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function vb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}var Qy=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return f_(n)&&nc(n.arrayValue,this.value)}},Yy=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}},Jy=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}},Zy=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!f_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}};var Xy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function HT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xy(t,e,n,r,i,s,o)}function p_(t){let e=z(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ws(r)).join(",")),e.ce=n}return e.ce}function m_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$T(t.startAt,e.startAt)&&$T(t.endAt,e.endAt)}function ev(t){return P.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ys=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function IU(t,e,n,r,i,s,o,a){return new Ys(t,e,n,r,i,s,o,a)}function g_(t){return new Ys(t)}function qT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DU(t){return t.collectionGroup!==null}function Ja(t){let e=z(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Qs(s,r))}),n.has(Pt.keyField().canonicalString())||e.le.push(new Qs(Pt.keyField(),r))}return e.le}function Rn(t){let e=z(t);return e.he||(e.he=CU(e,Ja(t))),e.he}function CU(t,e){if(t.limitType==="F")return HT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Qs(i.field,s)});let n=t.endAt?new Ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ks(t.startAt.position,t.startAt.inclusive):null;return HT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tv(t,e,n){return new Ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return m_(Rn(t),Rn(e))&&t.limitType===e.limitType}function _b(t){return`${p_(Rn(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yb(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ws(i)).join(",")),`Target(${r})`}(Rn(t))}; limitType=${t.limitType})`}function mh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):P.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=BT(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ja(r),i)||r.endAt&&!function(o,a,c){let u=BT(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ja(r),i))}(t,e)}function TU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wb(t){return(e,n)=>{let r=!1;for(let i of Ja(t)){let s=bU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function bU(t,e,n){let r=t.field.isKeyField()?P.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Gs(c,u):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}var Ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return db(this.inner)}size(){return this.innerSize}};var SU=new Me(P.comparator);function Zn(){return SU}var Eb=new Me(P.comparator);function Qa(...t){let e=Eb;for(let n of t)e=e.insert(n.key,n);return e}function Ib(t){let e=Eb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return Za()}function Db(){return Za()}function Za(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var AU=new Me(P.comparator),xU=new ht(P.comparator);function re(...t){let e=xU;for(let n of t)e=e.add(n);return e}var MU=new ht(ce);function RU(){return MU}function Cb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function Tb(t){return{integerValue:""+t}}function NU(t,e){return mU(e)?Tb(e):Cb(t,e)}var Js=class{constructor(){this._=void 0}};function PU(t,e,n){return t instanceof Zs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&d_(s)&&(s=h_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xi?Sb(t,e):t instanceof Mi?Ab(t,e):function(i,s){let o=bb(i,s),a=zT(o)+zT(i.Ie);return qy(o)&&qy(i.Ie)?Tb(a):Cb(i.serializer,a)}(t,e)}function OU(t,e,n){return t instanceof xi?Sb(t,e):t instanceof Mi?Ab(t,e):n}function bb(t,e){return t instanceof Xs?function(r){return qy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Zs=class extends Js{},xi=class extends Js{constructor(e){super(),this.elements=e}};function Sb(t,e){let n=xb(e);for(let r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}var Mi=class extends Js{constructor(e){super(),this.elements=e}};function Ab(t,e){let n=xb(e);for(let r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}var Xs=class extends Js{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function zT(t){return xe(t.integerValue||t.doubleValue)}function xb(t){return f_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xi&&i instanceof xi||r instanceof Mi&&i instanceof Mi?zs(r.elements,i.elements,On):r instanceof Xs&&i instanceof Xs?On(r.Ie,i.Ie):r instanceof Zs&&i instanceof Zs}(t.transform,e.transform)}var nv=class{constructor(e,n){this.version=e,this.transformResults=n}},Ti=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var eo=class{};function Mb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hd(t.key,Ti.none()):new Ri(t.key,t.data,Ti.none());{let n=t.data,r=cn.empty(),i=new ht(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xn(t.key,r,new An(i.toArray()),Ti.none())}}function FU(t,e,n){t instanceof Ri?function(i,s,o){let a=i.value.clone(),c=WT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xn?function(i,s,o){if(!Od(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=WT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Rb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof Ri?function(s,o,a,c){if(!Od(s.precondition,o))return a;let u=s.value.clone(),l=KT(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xn?function(s,o,a,c){if(!Od(s.precondition,o))return a;let u=KT(s.fieldTransforms,c,o),l=o.data;return l.setAll(Rb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Od(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function VU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=bb(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function GT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zs(r,i,(s,o)=>kU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ri=class extends eo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xn=class extends eo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Rb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function WT(t,e,n){let r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OU(o,a,n[i]))}return r}function KT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,PU(s,o,e))}return r}var Hd=class extends eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},rv=class extends eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var iv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&FU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Db();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=Mb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>GT(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>GT(n,r))}},sv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return AU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var ov=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var av=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var je,ie;function LU(t){switch(t){default:return k();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function Nb(t){if(t===void 0)return Pn("GRPC error has no .code"),w.UNKNOWN;switch(t){case je.OK:return w.OK;case je.CANCELLED:return w.CANCELLED;case je.UNKNOWN:return w.UNKNOWN;case je.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case je.INTERNAL:return w.INTERNAL;case je.UNAVAILABLE:return w.UNAVAILABLE;case je.UNAUTHENTICATED:return w.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case je.NOT_FOUND:return w.NOT_FOUND;case je.ALREADY_EXISTS:return w.ALREADY_EXISTS;case je.PERMISSION_DENIED:return w.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case je.ABORTED:return w.ABORTED;case je.OUT_OF_RANGE:return w.OUT_OF_RANGE;case je.UNIMPLEMENTED:return w.UNIMPLEMENTED;case je.DATA_LOSS:return w.DATA_LOSS;default:return k()}}(ie=je||(je={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";var QT=null;function UU(){return new TextEncoder}var jU=new _i([4294967295,4294967295],0);function YT(t){let e=UU().encode(t),n=new OT;return n.update(e),new Uint8Array(n.digest())}function JT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _i([n,r],0),new _i([i,s],0)]}var cv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ii(`Invalid padding: ${n}`);if(r<0)throw new Ii(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ii(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ii(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=_i.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(_i.fromNumber(r)));return i.compare(jU)===1&&(i=new _i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=YT(e),[r,i]=JT(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=YT(e),[r,i]=JT(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ii=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(q.min(),i,new Me(ce),Zn(),re())}},rc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,re(),re(),re())}};var Bs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},zd=class{constructor(e,n){this.targetId=e,this.fe=n}},Gd=class{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Wd=class{constructor(){this.ge=0,this.pe=XT(),this.ye=wt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=re(),n=re(),r=re();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new rc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=XT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},uv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Zn(),this.Qe=ZT(),this.Ke=new Me(ce)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(ev(s))if(r===0){let o=new P(s.path);this.We(n,o,un.newNoDocument(o,q.min()))}else we(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}QT?.tt(function(l,d,h,f,v){var I,y,D,F,Q,G;let Re={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},se=d.unchangedNames;return se&&(Re.bloomFilter={applied:v===0,hashCount:(I=se?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(F=(D=(y=se?.bits)===null||y===void 0?void 0:y.bitmap)===null||D===void 0?void 0:D.length)!==null&&F!==void 0?F:0,padding:(G=(Q=se?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&G!==void 0?G:0,mightContain:We=>{var ln;return(ln=f?.mightContain(We))!==null&&ln!==void 0&&ln}}),Re}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Sr(r).toUint8Array()}catch(c){if(c instanceof jd)return qs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new cv(o,i,s)}catch(c){return qs(c instanceof Ii?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&ev(a.target)){let c=new P(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,un.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=re();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new qd(e,n,this.Ke,this.qe,r);return this.qe=Zn(),this.Qe=ZT(),this.Ke=new Me(ce),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Wd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ht(ce),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||T("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Wd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function ZT(){return new Me(P.comparator)}function XT(){return new Me(P.comparator)}var BU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),$U=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),HU=(()=>({and:"AND",or:"OR"}))(),lv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function dv(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function Kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qU(t,e){return Kd(t,e.toTimestamp())}function Nn(t){return we(!!t),q.fromTimestamp(function(n){let r=br(n);return new st(r.seconds,r.nanos)}(t))}function y_(t,e){return hv(t,e).canonicalString()}function hv(t,e){let n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ob(t){let e=$e.fromString(t);return we(Ub(e)),e}function fv(t,e){return y_(t.databaseId,e.path)}function by(t,e){let n=Ob(e);if(n.get(1)!==t.databaseId.projectId)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(Fb(n))}function kb(t,e){return y_(t.databaseId,e)}function zU(t){let e=Ob(t);return e.length===4?$e.emptyPath():Fb(e)}function pv(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fb(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eb(t,e,n){return{name:fv(t,e),fields:n.value.mapValue.fields}}function GU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:k()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(we(l===void 0||typeof l=="string"),wt.fromBase64String(l||"")):(we(l===void 0||l instanceof Uint8Array),wt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?w.UNKNOWN:Nb(u.code);return new x(l,u.message||"")}(o);n=new Gd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=by(t,r.document.name),s=Nn(r.document.updateTime),o=r.document.createTime?Nn(r.document.createTime):q.min(),a=new cn({mapValue:{fields:r.document.fields}}),c=un.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Bs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=by(t,r.document),s=r.readTime?Nn(r.readTime):q.min(),o=un.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=by(t,r.document),s=r.removedTargetIds||[];n=new Bs([],s,i,null)}else{if(!("filter"in e))return k();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new av(i,s),a=r.targetId;n=new zd(a,o)}}return n}function WU(t,e){let n;if(e instanceof Ri)n={update:eb(t,e.key,e.value)};else if(e instanceof Hd)n={delete:fv(t,e.key)};else if(e instanceof Xn)n={update:eb(t,e.key,e.data),updateMask:nj(e.fieldMask)};else{if(!(e instanceof rv))return k();n={verify:fv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Zs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:k()}(t,e.precondition)),n}function KU(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Nn(i.updateTime):Nn(s);return o.isEqual(q.min())&&(o=Nn(s)),new nv(o,i.transformResults||[])}(n,e))):[]}function QU(t,e){return{documents:[kb(t,e.path)]}}function YU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kb(t,i);let s=function(u){if(u.length!==0)return Lb(kn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Ls(h.field),direction:XU(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=dv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function JU(t){let e=zU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=Vb(d);return h instanceof kn&&mb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(v){return new Qs(Us(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,fh(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Ks(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Ks(f,h)}(n.endAt)),IU(e,i,o,s,a,"F",c,u)}function ZU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Us(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Us(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Us(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Us(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>Vb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return k()}}(n.compositeFilter.op))}(t):k()}function XU(t){return BU[t]}function ej(t){return $U[t]}function tj(t){return HU[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Us(t){return Pt.fromServerFormat(t.fieldPath)}function Lb(t){return t instanceof Ge?function(n){if(n.op==="=="){if(jT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(UT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(UT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:ej(n.op),value:n.value}}}(t):t instanceof kn?function(n){let r=n.getFilters().map(i=>Lb(i));return r.length===1?r[0]:{compositeFilter:{op:tj(n.op),filters:r}}}(t):k()}function nj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ub(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ic=class t{constructor(e,n,r,i,s=q.min(),o=q.min(),a=wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var mv=class{constructor(e){this.ct=e}};function rj(t){let e=JU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tv(e,e.limit,"L"):e}var Qd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ec(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Sr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?hb(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):k()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),P.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Qd.bt=new Qd;var gv=class{constructor(){this._n=new yv}addToCollectionParentIndex(e,n){return this._n.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(Si.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}},yv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht($e.comparator)).toArray()}};var R6=new Uint8Array(0);var Sn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);var sc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var vv=class{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var _v=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var wv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xa(r.mutation,i,An.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){let i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zn(),o=Za(),a=function(){return Za()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Xn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Xa(l.mutation,u,l.mutation.getFieldMask(),st.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new _v(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Za(),i=new Me((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||An.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||re()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=Db();l.forEach(h=>{if(!s.has(h)){let f=Mb(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return P.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(Ei()),a=-1,c=s;return o.next(u=>E.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,re())).next(l=>({batchId:a,changes:Ib(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Qa();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,c=>{let u=function(d,h){return new Ys(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,un.newInvalidDocument(l)))});let a=Qa();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Xa(l.mutation,u,An.empty(),st.now()),mh(n,u)&&(a=a.insert(c,u))}),a})}};var Ev=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return E.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nn(i.createTime)}}(n)),E.resolve()}getNamedQuery(e,n){return E.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:rj(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),E.resolve()}};var Iv=class{constructor(){this.overlays=new Me(P.comparator),this.hr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ei();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){let i=Ei(),s=n.length+1,o=new P(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Ei(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Ei(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return E.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ov(n,r));let s=this.hr.get(n);s===void 0&&(s=re(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var oc=class{constructor(){this.Pr=new ht(Be.Ir),this.Tr=new ht(Be.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Be(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new P(new $e([])),r=new Be(n,e),i=new Be(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new P(new $e([])),r=new Be(n,e),i=new Be(n,e+1),s=re();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Be(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return P.comparator(e.key,n.key)||ce(e.pr,n.pr)}static Er(e,n){return ce(e.pr,n.pr)||P.comparator(e.key,n.key)}};var Dv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ht(Be.Ir)}checkEmpty(e){return E.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new iv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ce);return n.forEach(i=>{let s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),E.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;P.isDocumentKey(s)||(s=s.child(""));let o=new Be(new P(s),0),a=new ht(ce);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),E.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return E.forEach(n.mutations,i=>{let s=new Be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Be(n,0),i=this.wr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,E.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Cv=class{constructor(e){this.vr=e,this.docs=function(){return new Me(P.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():un.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zn(),o=n.path,a=new P(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||fU(hU(l),r)<=0||(i.has(l.key)||mh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Fr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Tv(this)}getSize(e){return E.resolve(this.size)}},Tv=class extends vv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var bv=class{constructor(e){this.persistence=e,this.Mr=new Ar(n=>p_(n),m_),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oc,this.targetCount=0,this.Br=sc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),E.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new sc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.qn(n),E.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),E.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Nr.containsKey(n))}};var Sv=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new lb(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new bv(this),this.indexManager=new gv,this.remoteDocumentCache=function(i){return new Cv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new mv(n),this.$r=new Ev(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Iv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Dv(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);let i=new Av(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return E.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},Av=class extends Ly{constructor(e){super(),this.currentSequenceNumber=e}},xv=class t{constructor(e){this.persistence=e,this.zr=new oc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw k()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),E.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Jr,r=>{let i=P.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return E.or([()=>E.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Mv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=re(),i=re();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Rv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Nv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return FD()?8:Ld.v(ct())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Rv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ka()<=ne.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),E.resolve()):(Ka()<=ne.DEBUG&&T("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ka()<=ne.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(n))):E.resolve())}ji(e,n){if(qT(n))return E.resolve(null);let r=Rn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tv(n,null,"F"),r=Rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=re(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,tv(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return qT(n)||i.isEqual(q.min())?E.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?E.resolve(null):(Ka()<=ne.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(n)),this.es(e,o,n,dU(i,-1)).next(a=>a))})}Zi(e,n){let r=new ht(wb(e));return n.forEach((i,s)=>{mh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ka()<=ne.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.zi.getDocumentsMatchingQuery(e,n,Si.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Pv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Me(ce),this.rs=new Ar(s=>p_(s),m_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function ij(t,e,n,r){return new Pv(t,e,n,r)}function jb(t,e){return m(this,null,function*(){let n=z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=re();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function sj(t,e){let n=z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=E.resolve();return h.forEach(v=>{f=f.next(()=>l.getEntry(c,v)).next(I=>{let y=u.docVersions.get(v);we(y!==null),I.version.compareTo(y)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),l.addEntry(I)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Bb(t){let e=z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function oj(t,e){let n=z(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(wt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(I,y,D){return I.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Zn(),u=re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(aj(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(q.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function aj(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function cj(t,e){let n=z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uj(t,e){let n=z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ic(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Ov(t,e,n){return m(this,null,function*(){let r=z(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!fc(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function tb(t,e,n){let r=z(t),i=q.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=z(c),h=d.rs.get(l);return h!==void 0?E.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,Rn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:re())).next(a=>(lj(r,TU(e),a),{documents:a,hs:s})))}function lj(t,e,n){let r=t.ss.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Yd=class{constructor(){this.activeTargetIds=RU()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var kv=class{constructor(){this.no=new Yd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Yd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Fv=class{io(e){}shutdown(){}};var Jd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Nd=null;function Sy(){return Nd===null?Nd=function(){return 268435456+Math.round(2147483648*Math.random())}():Nd++,"0x"+Nd.toString(16)}var dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Vv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var dt="WebChannelConnection",Lv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Sy(),c=this.bo(n,r.toUriEncodedString());T("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(T("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw qs("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=dj[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Sy();return new Promise((o,a)=>{let c=new PT;c.setWithCredentials(!0),c.listenOnce(RT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Md.NO_ERROR:let l=c.getResponseJson();T(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Md.TIMEOUT:T(dt,`RPC '${e}' ${s} timed out`),a(new x(w.DEADLINE_EXCEEDED,"Request time out"));break;case Md.HTTP_ERROR:let d=c.getStatus();if(T(dt,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let v=function(y){let D=y.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(D)>=0?D:w.UNKNOWN}(f.status);a(new x(v,f.message))}else a(new x(w.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new x(w.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{T(dt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);T(dt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Sy(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xT(),a=MT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");T(dt,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,v=new Vv({lo:y=>{f?T(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(dt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(dt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},ho:()=>d.close()}),I=(y,D,F)=>{y.listen(D,Q=>{try{F(Q)}catch(G){setTimeout(()=>{throw G},0)}})};return I(d,Wa.EventType.OPEN,()=>{f||T(dt,`RPC '${e}' stream ${i} transport opened.`)}),I(d,Wa.EventType.CLOSE,()=>{f||(f=!0,T(dt,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),I(d,Wa.EventType.ERROR,y=>{f||(f=!0,qs(dt,`RPC '${e}' stream ${i} transport errored:`,y),v.Vo(new x(w.UNAVAILABLE,"The operation could not be completed")))}),I(d,Wa.EventType.MESSAGE,y=>{var D;if(!f){let F=y.data[0];we(!!F);let Q=F,G=Q.error||((D=Q[0])===null||D===void 0?void 0:D.error);if(G){T(dt,`RPC '${e}' stream ${i} received error:`,G);let Re=G.status,se=function(Mr){let Oi=je[Mr];if(Oi!==void 0)return Nb(Oi)}(Re),We=G.message;se===void 0&&(se=w.INTERNAL,We="Unknown error status: "+Re+" with message "+G.message),f=!0,v.Vo(new x(se,We)),d.close()}else T(dt,`RPC '${e}' stream ${i} received:`,F),v.mo(F)}}),I(a,NT.STAT_EVENT,y=>{y.stat===Ty.PROXY?T(dt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Ty.NOPROXY&&T(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}};function Ay(){return typeof document<"u"?document:null}function gh(t){return new lv(t,!0)}var Zd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Xd=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Zd(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return m(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return m(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return m(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===w.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new x(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>m(this,null,function*(){this.state=0,this.start()}))}__(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Uv=class extends Xd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=GU(this.serializer,e),r=function(s){if(!("targetChange"in s))return q.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?Nn(o.readTime):q.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=pv(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=ev(c)?{documents:QU(s,c)}:{query:YU(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Pb(s,o.resumeToken);let u=dv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=Kd(s,o.snapshotVersion.toTimestamp());let u=dv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=ZU(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=pv(this.serializer),n.removeTarget=e,this.t_(n)}},jv=class extends Xd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=KU(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.T_(r,n)}return we(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=pv(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>WU(this.serializer,r))};this.t_(n)}};var Bv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,hv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(w.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,hv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(w.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var $v=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Pn(n),this.g_=!1):T("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Hv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>m(this,null,function*(){Ni(this)&&(T("RemoteStore","Restarting streams for network reachability change."),yield function(c){return m(this,null,function*(){let u=z(c);u.v_.add(4),yield pc(u),u.x_.set("Unknown"),u.v_.delete(4),yield yh(u)})}(this))}))}),this.x_=new $v(r,i)}};function yh(t){return m(this,null,function*(){if(Ni(t))for(let e of t.F_)yield e(!0)})}function pc(t){return m(this,null,function*(){for(let e of t.F_)yield e(!1)})}function $b(t,e){let n=z(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),w_(n)?__(n):so(n).Jo()&&v_(n,e))}function Hb(t,e){let n=z(t),r=so(n);n.C_.delete(e),r.Jo()&&qb(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ni(n)&&n.x_.set("Unknown"))}function v_(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).c_(e)}function qb(t,e){t.O_.Oe(e),so(t).l_(e)}function __(t){t.O_=new uv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),so(t).start(),t.x_.p_()}function w_(t){return Ni(t)&&!so(t).Ho()&&t.C_.size>0}function Ni(t){return z(t).v_.size===0}function zb(t){t.O_=void 0}function hj(t){return m(this,null,function*(){t.C_.forEach((e,n)=>{v_(t,e)})})}function fj(t,e){return m(this,null,function*(){zb(t),w_(t)?(t.x_.S_(e),__(t)):t.x_.set("Unknown")})}function pj(t,e,n){return m(this,null,function*(){if(t.x_.set("Online"),e instanceof Gd&&e.state===2&&e.cause)try{yield function(i,s){return m(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eh(t,r)}else if(e instanceof Bs?t.O_.$e(e):e instanceof zd?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(q.min()))try{let r=yield Bb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(wt.EMPTY_BYTE_STRING,l.snapshotVersion)),qb(s,c);let d=new ic(l.target,c,u,l.sequenceNumber);v_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield eh(t,r)}})}function eh(t,e,n){return m(this,null,function*(){if(!fc(e))throw e;t.v_.add(1),yield pc(t),t.x_.set("Offline"),n||(n=()=>Bb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>m(this,null,function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield yh(t)}))})}function Gb(t,e){return e().catch(n=>eh(t,n,e))}function vh(t){return m(this,null,function*(){let e=z(t),n=xr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;mj(e);)try{let i=yield cj(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,gj(e,i)}catch(i){yield eh(e,i)}Wb(e)&&Kb(e)})}function mj(t){return Ni(t)&&t.D_.length<10}function gj(t,e){t.D_.push(e);let n=xr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Wb(t){return Ni(t)&&!xr(t).Ho()&&t.D_.length>0}function Kb(t){xr(t).start()}function yj(t){return m(this,null,function*(){xr(t).d_()})}function vj(t){return m(this,null,function*(){let e=xr(t);for(let n of t.D_)e.I_(n.mutations)})}function _j(t,e,n){return m(this,null,function*(){let r=t.D_.shift(),i=sv.from(r,e,n);yield Gb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vh(t)})}function wj(t,e){return m(this,null,function*(){e&&xr(t).P_&&(yield function(r,i){return m(this,null,function*(){if(function(o){return LU(o)&&o!==w.ABORTED}(i.code)){let s=r.D_.shift();xr(r).Zo(),yield Gb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield vh(r)}})}(t,e)),Wb(t)&&Kb(t)})}function nb(t,e){return m(this,null,function*(){let n=z(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");let r=Ni(n);n.v_.add(3),yield pc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield yh(n)})}function Ej(t,e){return m(this,null,function*(){let n=z(t);e?(n.v_.delete(2),yield yh(n)):e||(n.v_.add(2),yield pc(n),n.x_.set("Unknown"))})}function so(t){return t.N_||(t.N_=function(n,r,i){let s=z(n);return s.R_(),new Uv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:hj.bind(null,t),To:fj.bind(null,t),u_:pj.bind(null,t)}),t.F_.push(e=>m(this,null,function*(){e?(t.N_.Zo(),w_(t)?__(t):t.x_.set("Unknown")):(yield t.N_.stop(),zb(t))}))),t.N_}function xr(t){return t.B_||(t.B_=function(n,r,i){let s=z(n);return s.R_(),new jv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:yj.bind(null,t),To:wj.bind(null,t),E_:vj.bind(null,t),T_:_j.bind(null,t)}),t.F_.push(e=>m(this,null,function*(){e?(t.B_.Zo(),yield vh(t)):(yield t.B_.stop(),t.D_.length>0&&(T("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var qv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function E_(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),fc(t))return new x(w.UNAVAILABLE,`${e}: ${t}`);throw t}var th=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var nh=class{constructor(){this.L_=new Me(P.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):k():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},to=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,th.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var zv=class{constructor(){this.q_=void 0,this.Q_=[]}},Gv=class{constructor(){this.queries=new Ar(e=>_b(e),ph),this.onlineState="Unknown",this.K_=new Set}};function Ij(t,e){return m(this,null,function*(){let n=z(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new zv),i)try{s.q_=yield n.onListen(r)}catch(o){let a=E_(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&I_(n)})}function Dj(t,e){return m(this,null,function*(){let n=z(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function Cj(t,e){let n=z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&I_(n)}function Tj(t,e,n){let r=z(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function I_(t){t.K_.forEach(e=>{e.next()})}var Wv=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new to(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var rh=class{constructor(e){this.key=e}},ih=class{constructor(e){this.key=e}},Kv=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=re(),this.mutatedKeys=re(),this.ua=wb(e),this.ca=new th(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new nh,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=mh(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),I=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),y=!1;h&&f?h.data.isEqual(f.data)?v!==I&&(r.track({type:3,doc:f}),y=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),y=!0,(c&&this.ua(f,c)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(a=!0)),y&&(f?(o=o.add(f),s=I?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(f,v){let I=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return I(f)-I(v)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new to(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new nh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=re(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new ih(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new rh(r))}),n}Ra(e){this.oa=e.hs,this.aa=re();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return to.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},Qv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Yv=class{constructor(e){this.key=e,this.ma=!1}},Jv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ar(a=>_b(a),ph),this.pa=new Map,this.ya=new Set,this.wa=new Me(P.comparator),this.Sa=new Map,this.ba=new oc,this.Da={},this.Ca=new Map,this.va=sc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function bj(t,e){return m(this,null,function*(){let n=Fj(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield uj(n.localStore,Rn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Sj(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&$b(n.remoteStore,o)}return i})}function Sj(t,e,n,r,i){return m(this,null,function*(){t.Ma=(d,h,f)=>function(I,y,D,F){return m(this,null,function*(){let Q=y.view.ha(D);Q.Xi&&(Q=yield tb(I.localStore,y.query,!1).then(({documents:We})=>y.view.ha(We,Q)));let G=F&&F.targetChanges.get(y.targetId),Re=F&&F.targetMismatches.get(y.targetId)!=null,se=y.view.applyChanges(Q,I.isPrimaryClient,G,Re);return ib(I,y.targetId,se.da),se.snapshot})}(t,d,h,f);let s=yield tb(t.localStore,e,!0),o=new Kv(e,s.hs),a=o.ha(s.documents),c=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);ib(t,n,u.da);let l=new Qv(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function Aj(t,e){return m(this,null,function*(){let n=z(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!ph(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ov(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hb(n.remoteStore,r.targetId),Zv(n,r.targetId)}).catch(hc))):(Zv(n,r.targetId),yield Ov(n.localStore,r.targetId,!0))})}function xj(t,e,n){return m(this,null,function*(){let r=Vj(t);try{let i=yield function(o,a){let c=z(o),u=st.now(),l=a.reduce((f,v)=>f.add(v.key),re()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=Zn(),I=re();return c.os.getEntries(f,l).next(y=>{v=y,v.forEach((D,F)=>{F.isValidDocument()||(I=I.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,v)).next(y=>{d=y;let D=[];for(let F of a){let Q=VU(F,d.get(F.key).overlayedDocument);Q!=null&&D.push(new Xn(F.key,Q,fb(Q.value.mapValue),Ti.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,D,a)}).next(y=>{h=y;let D=y.applyToLocalDocumentSet(d,I);return c.documentOverlayCache.saveOverlays(f,y.batchId,D)})}).then(()=>({batchId:h.batchId,changes:Ib(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new Me(ce)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield mc(r,i.changes),yield vh(r.remoteStore)}catch(i){let s=E_(i,"Failed to persist write");n.reject(s)}})}function Qb(t,e){return m(this,null,function*(){let n=z(t);try{let r=yield oj(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?we(o.ma):i.removedDocuments.size>0&&(we(o.ma),o.ma=!1))}),yield mc(n,r,e)}catch(r){yield hc(r)}})}function rb(t,e,n){let r=z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=z(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&I_(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mj(t,e,n){return m(this,null,function*(){let r=z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Me(P.comparator);o=o.insert(s,un.newNoDocument(s,q.min()));let a=re().add(s),c=new qd(q.min(),new Map,new Me(ce),o,a);yield Qb(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),D_(r)}else yield Ov(r.localStore,e,!1).then(()=>Zv(r,e,n)).catch(hc)})}function Rj(t,e){return m(this,null,function*(){let n=z(t),r=e.batch.batchId;try{let i=yield sj(n.localStore,e);Jb(n,r,null),Yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield mc(n,i)}catch(i){yield hc(i)}})}function Nj(t,e,n){return m(this,null,function*(){let r=z(t);try{let i=yield function(o,a){let c=z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(we(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);Jb(r,e,n),Yb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield mc(r,i)}catch(i){yield hc(i)}})}function Yb(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Jb(t,e,n){let r=z(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Zv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||Zb(t,r)})}function Zb(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(Hb(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),D_(t))}function ib(t,e,n){for(let r of n)r instanceof rh?(t.ba.addReference(r.key,e),Pj(t,r)):r instanceof ih?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Zb(t,r.key)):k()}function Pj(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(T("SyncEngine","New document in limbo: "+n),t.ya.add(r),D_(t))}function D_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new P($e.fromString(e)),r=t.va.next();t.Sa.set(r,new Yv(n)),t.wa=t.wa.insert(n,r),$b(t.remoteStore,new ic(Rn(g_(n.path)),r,"TargetPurposeLimboResolution",lb._e))}}function mc(t,e,n){return m(this,null,function*(){let r=z(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Mv.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return m(this,null,function*(){let l=z(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(u,h=>E.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!fc(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),v=f.snapshotVersion,I=f.withLastLimboFreeSnapshotVersion(v);l.ns=l.ns.insert(h,I)}}})}(r.localStore,s))})}function Oj(t,e){return m(this,null,function*(){let n=z(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());let r=yield jb(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new x(w.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mc(n,r.us)}})}function kj(t,e){let n=z(t),r=n.Sa.get(e);if(r&&r.ma)return re().add(r.key);{let i=re(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Fj(t){let e=z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mj.bind(null,e),e.fa.u_=Cj.bind(null,e.eventManager),e.fa.xa=Tj.bind(null,e.eventManager),e}function Vj(t){let e=z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nj.bind(null,e),e}var sh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return m(this,null,function*(){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ij(this.persistence,new Nv,e.initialUser,this.serializer)}createPersistence(e){return new Sv(xv.Hr,this.serializer)}createSharedClientState(e){return new kv}terminate(){return m(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Xv=class{initialize(e,n){return m(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oj.bind(null,this.syncEngine),yield Ej(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Gv}()}createDatastore(e){let n=gh(e.databaseInfo.databaseId),r=function(s){return new Lv(s)}(e.databaseInfo);return function(s,o,a,c){return new Bv(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Hv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>rb(this.syncEngine,n,0),function(){return Jd.D()?new Jd:new Fv}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Jv(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return m(this,null,function*(){var e;yield function(r){return m(this,null,function*(){let i=z(r);T("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield pc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var e_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var t_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=Fd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>m(this,null,function*(){T("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(T("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=E_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function xy(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>m(this,null,function*(){r.isEqual(i)||(yield jb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function sb(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Uj(t);T("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nb(e.remoteStore,i)),t._onlineComponents=e})}function Lj(t){return t.name==="FirebaseError"?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Uj(t){return m(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Lj(n))throw n;qs("Error using user provided cache. Falling back to memory cache: "+n),yield xy(t,new sh)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield xy(t,new sh);return t._offlineComponents})}function Xb(t){return m(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield sb(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield sb(t,new Xv))),t._onlineComponents})}function jj(t){return Xb(t).then(e=>e.syncEngine)}function ob(t){return m(this,null,function*(){let e=yield Xb(t),n=e.eventManager;return n.onListen=bj.bind(null,e.syncEngine),n.onUnlisten=Aj.bind(null,e.syncEngine),n})}function eS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var ab=new Map;function Bj(t,e,n){if(!n)throw new x(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $j(t,e,n,r){if(e===!0&&r===!0)throw new x(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cb(t){if(!P.isDocumentKey(t))throw new x(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":k()}function $s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=C_(t);throw new x(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var oh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new x(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$j("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ac=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new x(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new My;switch(r.type){case"firstParty":return new Oy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=ab.get(n);r&&(T("ComponentProvider","Removing Datastore"),ab.delete(n),r.terminate())}(this),Promise.resolve()}};function tS(t,e,n,r={}){var i;let s=(t=$s(t,ac))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ze.MOCK_USER;else{a=ND(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new x(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ze(u)}t._authCredentials=new Ry(new kd(a,c))}}var ah=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Wt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},cc=class t extends ah{constructor(e,n,r){super(e,n,g_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new P(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function nS(t,e,...n){if(t=sn(t),arguments.length===1&&(e=Fd.newId()),Bj("doc","path",e),t instanceof ac){let r=$e.fromString(e,...n);return cb(r),new Wt(t,null,new P(r))}{if(!(t instanceof Wt||t instanceof cc))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return cb(r),new Wt(t.firestore,t instanceof cc?t.converter:null,new P(r))}}var n_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Zd(this,"async_queue_retry"),this._u=()=>{let n=Ay();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Ay();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Ay();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new xn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return m(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!fc(e))throw e;T("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=qv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&k()}verifyOperationInProgress(){}hu(){return m(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function ub(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var no=class extends ac{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new n_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sS(this),this._firestoreClient.terminate()}};function rS(t,e){let n=typeof t=="object"?t:va(),r=typeof t=="string"?t:e||"(default)",i=yg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=MD("firestore");s&&tS(i,...s)}return i}function iS(t){return t._firestoreClient||sS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new $y(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,eS(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new t_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var uc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wt.fromBase64String(e))}catch(n){throw new x(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var lc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ch=class{constructor(e){this._methodName=e}};var dc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}};var Hj=/^__.*__$/,r_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ri(e,this.data,n,this.fieldTransforms)}};function oS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}var i_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return uh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(oS(this.du)&&Hj.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},s_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gh(e)}Su(e,n,r,i=!1){return new i_({du:e,methodName:n,wu:r,path:Pt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qj(t){let e=t._freezeSettings(),n=gh(t._databaseId);return new s_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zj(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);lS("Data must be an object, but it was:",o,r);let a=cS(r,o),c,u;if(s.merge)c=new An(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=Gj(e,d,n);if(!o.contains(h))throw new x(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Kj(l,h)||l.push(h)}c=new An(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new r_(new cn(a),c,u)}function aS(t,e){if(uS(t=sn(t)))return lS("Unsupported field value:",e,t),cS(t,e);if(t instanceof ch)return function(r,i){if(!oS(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=aS(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=st.fromDate(r);return{timestampValue:Kd(i.serializer,s)}}if(r instanceof st){let s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,s)}}if(r instanceof dc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uc)return{bytesValue:Pb(i.serializer,r._byteString)};if(r instanceof Wt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:y_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${C_(r)}`)}(t,e)}function cS(t,e){let n={};return db(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(r,i)=>{let s=aS(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function uS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof dc||t instanceof uc||t instanceof Wt||t instanceof ch)}function lS(t,e,n){if(!uS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=C_(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Gj(t,e,n){if((e=sn(e))instanceof lc)return e._internalPath;if(typeof e=="string")return dS(t,e);throw uh("Field path arguments must be of type string or ",t,!1,void 0,n)}var Wj=new RegExp("[~\\*/\\[\\]]");function dS(t,e,n){if(e.search(Wj)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lc(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new x(w.INVALID_ARGUMENT,a+t+c)}function Kj(t,e){return t.some(n=>n.isEqual(e))}var lh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new o_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(hS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},o_=class extends lh{data(){return super.data()}};function hS(t,e){return typeof e=="string"?dS(t,e):e instanceof lc?e._internalPath:e._delegate._internalPath}function Qj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new x(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var a_=class{convertValue(e,n="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return io(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new dc(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=h_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){let n=br(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=$e.fromString(e);we(Ub(r));let i=new Bd(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Yj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Di=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},dh=class extends lh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(hS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Hs=class extends dh{data(e={}){return super.data(e)}},c_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Di(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hs(this._firestore,this._userDataWriter,r.key,r,new Di(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Di(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Di(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:Jj(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Jj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}var hh=class extends a_{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}};function fS(t,e,n){t=$s(t,Wt);let r=$s(t.firestore,no),i=Yj(t.converter,e,n);return Zj(r,[zj(qj(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ti.none())])}function T_(t,...e){var n,r,i;t=sn(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ub(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(ub(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof Wt)u=$s(t.firestore,no),l=g_(t._key.path),c={next:d=>{e[o]&&e[o](Xj(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=$s(t,ah);u=$s(d.firestore,no),l=d._query;let h=new hh(u);c={next:f=>{e[o]&&e[o](new c_(u,h,d,f))},error:e[o+1],complete:e[o+2]},Qj(t._query)}return function(h,f,v,I){let y=new e_(I),D=new Wv(f,y,v);return h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return Ij(yield ob(h),D)})),()=>{y.La(),h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return Dj(yield ob(h),D)}))}}(iS(u),l,a,c)}function Zj(t,e){return function(r,i){let s=new xn;return r.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return xj(yield jj(r),i,s)})),s.promise}(iS(t),e)}function Xj(t,e,n){let r=n.docs.get(e._key),i=new hh(t);return new dh(t,i,e._key,r,new Di(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ro=i})(As),Er(new zt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new no(new Ny(r.getProvider("auth-internal")),new Fy(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new x(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qe(kT,"4.4.2",e),Qe(kT,"4.4.2","esm2017")})();var _h=function(){return _h=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_h.apply(this,arguments)};var nB={includeMetadataChanges:!1};function pS(t,e){return e===void 0&&(e=nB),new W(function(n){var r=T_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function mS(t){return pS(t,{includeMetadataChanges:!0})}function gS(t,e){return e===void 0&&(e={}),mS(t).pipe(j(function(n){return yS(n,e)}))}function yS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:_h(_h({},r),(n={},n[e.idField]=t.id,n))}var Pi=class{constructor(e){return e}},vS="firestore",b_=class{constructor(){return wa(vS)}};var S_=new A("angularfire2.firestore-instances");function rB(t,e){let n=wg(vS,t,e);return n&&new Pi(n)}function iB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pi(r)}}var sB={provide:b_,deps:[[new vn,S_]]},oB={provide:Pi,useFactory:rB,deps:[[new vn,S_],hi]},aB=(()=>{class t{constructor(){Qe("angularfire",Ms.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=St({type:t});static \u0275inj=bt({providers:[oB,sB]})}return t})();function _S(t,...e){return{ngModule:aB,providers:[{provide:S_,useFactory:iB(t),multi:!0,deps:[pe,tn,Ea,Ia,[new vn,td],[new vn,_a],...e]}]}}var wS=Ir(gS,!0);var A_=Ir(nS,!0);var ES=Ir(rS,!0);var IS=Ir(fS,!0);var Fn=(()=>{let e=class e{constructor(r,i){this.http=r,this.firestore=i,this.url="https://script.google.com/macros/s/AKfycbzPJ75D_tyT18zLgJP4oedBCY9AekwO1GkaztuODzpJJhx12hbopUFs1XrfwUAuR-iPJQ/exec?",this.subject=new et,this.$inventory=new Fe([]),this.$workloadTransactions=new Fe([]),this.firestoreDocToBehaviorSubject("inventory/workloadTransactions","workloadTransactions",this.$workloadTransactions),this.firestoreDocToBehaviorSubject("inventory/inventory","inventory",this.$inventory)}googleSheetOutpatientsToFirestore(){this.doGet("sheetName=outpatients").subscribe(r=>{this.setFirebaseDoc("inventory/workloadTransactions",{workloadTransactions:JSON.stringify(r)})})}firestoreDocToBehaviorSubject(r,i,s){wS(A_(this.firestore,r)).subscribe(o=>{o&&s.next(JSON.parse(o[i]))})}doGet(r){return this.http.get(this.url+r)}setFirebaseDoc(r,i){return IS(A_(this.firestore,r),i)}doPost(r,i,s){let o=this.http.post(this.url+"sheetName="+r+"&method="+i,JSON.stringify(s));return zi(o)}getUtils(){let r=this.doGet("utils=true").pipe(Ot(1));return zi(r).then(i=>i)}getWorkload(r){let i=this.doGet("sheetName=outpatients").pipe(j(s=>s.filter(o=>o.Cartegory==r)));return zi(i)}getNextTally(r,i){let s=this.doGet(r).pipe(j(o=>o.reduce((a,c)=>{let u=c;if(new Date(u.Date).toLocaleDateString()==new Date().toLocaleDateString()&&u.Cartegory==i){let l=parseInt(u.tallyNo.replace(/\D/g,""));return l>a?l:a}return a},0)));return zi(s).then(o=>o+1)}saveOutpatient(r){this.doPost("outpatients","update",[r])}};e.\u0275fac=function(i){return new(i||e)(R(zp),R(Pi))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uB=["billTimein"],lB=["billTimeout"],dB=["dispenseTimein"],hB=["dispenseTimeout"],wh=(()=>{let e=class e{constructor(r){this.service=r,this.onModalClose=new Pe,this.newDate=new Date}ngOnInit(){}ngAfterViewInit(){switch(this.activeRow.editField){case"billTimein":this.billStart.nativeElement.value=new Date().toLocaleString(),this.billStart.nativeElement.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.billStart.nativeElement.focus();break;case"billTimeout":this.billEnd.nativeElement.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.billEnd.nativeElement.focus();break;case"dispenseTimein":this.dispStart.nativeElement.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.dispStart.nativeElement.focus();break;case"dispenseTimeout":this.dispEnd.nativeElement.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.dispEnd.nativeElement.focus();break}}save(r){this.service.saveOutpatient(this.activeRow.prescription);let i=r.target;i.disabled=!0,this.close()}close(){this.onModalClose.emit(!0)}};e.\u0275fac=function(i){return new(i||e)(Y(Fn))},e.\u0275cmp=De({type:e,selectors:[["app-time-edit-modal"]],viewQuery:function(i,s){if(i&1&&(ni(uB,5),ni(lB,5),ni(dB,5),ni(hB,5)),i&2){let o;fr(o=pr())&&(s.billStart=o.first),fr(o=pr())&&(s.billEnd=o.first),fr(o=pr())&&(s.dispStart=o.first),fr(o=pr())&&(s.dispEnd=o.first)}},inputs:{activeRow:"activeRow"},outputs:{onModalClose:"onModalClose"},standalone:!0,features:[Se],decls:59,vars:16,consts:[["tabindex","-1",1,"app-modal-backdrop"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"height","60px","overflow-y","auto"],["action",""],[1,"py-2"],["for","",1,"me-2"],["type","datetime-local","name","billStart",1,"form-control",3,"ngModel","ngModelChange"],["billTimein",""],[1,"btn","btn-primary","ms-3",3,"click"],["type","datetime-local","name","billEnd",1,"form-control",3,"ngModel","ngModelChange"],["billTimeout",""],["type","datetime-local","name","dispenseStart",1,"form-control",3,"ngModel","ngModelChange"],["dispenseTimein",""],["type","datetime-local","name","dispenseEnd",1,"form-control",3,"ngModel","ngModelChange"],["dispenseTimeout",""],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,s){i&1&&(ge(0,"div",0),g(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),_(5,"Update Process"),p(),g(6,"button",5),L("click",function(){return s.close()}),p()(),g(7,"div",6)(8,"form",7)(9,"table")(10,"tr",8)(11,"th")(12,"label",9),_(13,"Billing Start: "),p()(),g(14,"td",8)(15,"input",10,11),L("ngModelChange",function(a){return s.activeRow.prescription.billStart=a}),jt(17,"date"),p()(),g(18,"td")(19,"button",12),L("click",function(){return s.activeRow.prescription.billStart=s.newDate}),_(20,"Now"),p()()(),g(21,"tr",8)(22,"th")(23,"label",9),_(24,"Billing End: "),p()(),g(25,"td",8)(26,"input",13,14),L("ngModelChange",function(a){return s.activeRow.prescription.billEnd=a}),jt(28,"date"),p()(),g(29,"td")(30,"button",12),L("click",function(){return s.activeRow.prescription.billEnd=s.newDate}),_(31,"Now"),p()()(),g(32,"tr",8)(33,"th")(34,"label",9),_(35," Dispense Start: "),p()(),g(36,"td",8)(37,"input",15,16),L("ngModelChange",function(a){return s.activeRow.prescription.dispensStart=a}),jt(39,"date"),p()(),g(40,"td")(41,"button",12),L("click",function(){return s.activeRow.prescription.dispenseStart=s.newDate}),_(42,"Now"),p()()(),g(43,"tr",8)(44,"th")(45,"label",9),_(46,"Dispense End: "),p()(),g(47,"td",8)(48,"input",17,18),L("ngModelChange",function(a){return s.activeRow.prescription.dispenseEnd=a}),jt(50,"date"),p()(),g(51,"td")(52,"button",12),L("click",function(){return s.activeRow.prescription.dispenseEnd=s.newDate}),_(53,"Now"),p()()()()()(),g(54,"div",19)(55,"button",20),L("click",function(){return s.close()}),_(56,"Close"),p(),g(57,"button",21),L("click",function(a){return s.save(a)}),_(58,"Save changes"),p()()()()),i&2&&(H(15),qe("ngModel",Bt(17,4,s.activeRow.prescription.billStart,"yyyy-MM-ddThh:mm")),H(11),qe("ngModel",Bt(28,7,s.activeRow.prescription.billEnd,"yyyy-MM-ddThh:mm")),H(11),qe("ngModel",Bt(39,10,s.activeRow.prescription.dispenseStart,"yyyy-MM-ddThh:mm")),H(11),qe("ngModel",Bt(50,13,s.activeRow.prescription.dispenseEnd,"yyyy-MM-ddThh:mm")))},dependencies:[Ol,Pl,bs,Ml,Rl,pa,fa,fs],styles:[".app-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:1}.modal-dialog[_ngcontent-%COMP%]{z-index:3;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:500px;height:auto;border:olive 1px solid;background-color:#fff;border-radius:5px;padding:20px}"]});let t=e;return t})();var fB=["osDialog"];function pB(t,e){if(t&1){let n=Le();g(0,"tr")(1,"td"),_(2),p(),g(3,"td",20),_(4),p(),g(5,"td"),_(6),p(),g(7,"td")(8,"input",21),L("change",function(i){Ce(n);let s=J();return Te(s.updateSubstitute(i))}),p()(),g(9,"td")(10,"i",22),L("click",function(){let s=Ce(n).$index,o=J();return Te(o.osList.splice(s,1))}),p()()()}if(t&2){let n=e.$implicit,r=e.$index;H(2),be(r+1),H(2),be(n.GenericDescription),H(2),be(n.BrandName?n.BrandName:"Generic")}}function mB(t,e){if(t&1){let n=Le();g(0,"li",23),L("click",function(){let s=Ce(n).$implicit,o=J();return Te(o.osList.push(s))}),g(1,"a")(2,"span",24),_(3),p(),g(4,"span"),_(5),p()()()}if(t&2){let n=e.$implicit;H(3),be(n.Code+" "+n.GenericDescription),H(2),be(n.BrandName?" "+n.BrandName:"")}}function gB(t,e){t&1&&(g(0,"li"),_(1,"Loading ..."),p())}function yB(t,e){if(t&1){let n=Le();g(0,"button",25),L("click",function(i){Ce(n);let s=J();return Te(s.save(i))}),_(1,"Save New"),p()}}function vB(t,e){t&1&&(g(0,"button",26),_(1,"Saving ..."),p())}var Eh=(()=>{let e=class e{constructor(r,i){this.appService=r,this.el=i,this.osList=[],this.billStart=new Date,this.itemsSubstituted=0,this.saving=!1,this.inventory=[],this.invetoryFetching=!0,this.onModalClose=new Pe,this.fetchInventory()}ngOnDestroy(){this.appService.$inventory.unsubscribe()}fetchInventory(){this.invetoryFetching=!0,this.appService.$inventory.subscribe(r=>{this.inventory=r,this.invetoryFetching=!1})}updateSubstitute(r){r.target.checked?this.itemsSubstituted+=1:this.itemsSubstituted-=1}save(r){return m(this,null,function*(){this.saving=!0;let i=yield this.appService.getUtils(),s=this.tallyPrefix+(yield this.appService.getNextTally("sheetName=outpatients",this.cartegory)),o=this.itemsOrdered-this.osList.length+this.itemsSubstituted,a=o/this.itemsOrdered*100,c=[{id:i.id,Date:i.timestamp,Cartegory:this.cartegory,tallyNo:s,noOfDocs:this.numberOfDocs,itemsOrdered:this.itemsOrdered,itemsOs:this.osList.length||0,osSubstituted:this.itemsSubstituted,itemsIssued:o,fillRatePercent:a,billStart:this.billStart}];yield this.appService.doPost("outpatients","create",c),this.saving=!1,this.onModalClose.emit()})}onSearchClick(){this.osDialog.nativeElement.show()}close(){this.onModalClose.emit(!0)}};e.\u0275fac=function(i){return new(i||e)(Y(Fn),Y(Lt))},e.\u0275cmp=De({type:e,selectors:[["app-prescriptions-new"]],viewQuery:function(i,s){if(i&1&&ni(fB,7),i&2){let o;fr(o=pr())&&(s.osDialog=o.first)}},inputs:{cartegory:"cartegory",tallyPrefix:"tallyPrefix"},outputs:{onModalClose:"onModalClose"},standalone:!0,features:[Se],decls:45,vars:4,consts:[[1,"modal-dialog"],["action","","method","post",1,"modal-content"],[1,"modal-header"],["id","addNewModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3","d-inline-flex","align-items-center"],["for","no-of-docs",1,"mx-2","form-label"],["required","","min","1","type","number","name","number-of-docs","id","number-of-docs","onclick","this.select()",1,"form-control",2,"width","150px",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],["for","no-of-items",1,"mx-2","form-label"],["required","","min","1","type","number","name","number-of-items","id","number-of-items","onclick","this.select()",1,"form-control",2,"width","150px",3,"ngModel","ngModelChange"],[1,"mb-3"],[1,"table","table-striped","bg-light"],[1,"dropdown"],["data-bs-toggle","dropdown","autocomplete","false","placeholder","search and select os item ...",1,"dropdown-toggle","form-control",2,"width","50%"],["aria-expanded","false",1,"dropdown-menu",2,"width","100%","height","300px","overflow","auto"],[1,"modal-footer"],["type","button","class","btn btn-primary"],[1,"app-modal-backdrop"],[1,"text-wrap",2,"width","300px"],["type","checkbox","name","","id","",3,"change"],["title","Remove Row","role","banner","id","deleteOs",1,"bi","bi-trash",3,"click"],["role","button",1,"dropdown-item",3,"click"],[1,"text-wrap"],["type","button",1,"btn","btn-primary",3,"click"],["disabled","disabled",1,"btn","btn-primary"],["class","dropdown-item ","role","button"]],template:function(i,s){i&1&&(g(0,"div")(1,"div",0)(2,"form",1)(3,"div",2)(4,"h5",3),_(5,"Add new"),p(),g(6,"button",4),L("click",function(){return s.close()}),p()(),g(7,"div",5)(8,"div",6)(9,"label",7),_(10,"No. of Doc(s)"),p(),g(11,"input",8),L("ngModelChange",function(a){return s.numberOfDocs=a}),p(),g(12,"div",9),_(13,"This field is required"),p()(),g(14,"div",6)(15,"label",10),_(16,"No. of Item(s) Ordered"),p(),g(17,"input",11),L("ngModelChange",function(a){return s.itemsOrdered=a}),p(),g(18,"div",9),_(19,"This field is required"),p()(),g(20,"p",12),_(21,"List O/S items, subsituted or not (if any): "),p(),g(22,"table",13)(23,"tr")(24,"th"),_(25,"#"),p(),g(26,"th"),_(27,"Generic Description"),p(),g(28,"th"),_(29,"BrandName"),p(),g(30,"th"),_(31,"Subsitituted"),p(),ge(32,"th"),p(),Zr(33,pB,11,3,"tr",null,Jr),p(),g(35,"div",14),ge(36,"input",15),g(37,"ul",16),Zr(38,mB,6,2,"li",27,Jr),gt(40,gB,2,0,"li"),p()()(),g(41,"div",17),gt(42,yB,2,0,"button",18)(43,vB,2,0),p()()(),ge(44,"div",19),p()),i&2&&(H(11),qe("ngModel",s.numberOfDocs),H(6),qe("ngModel",s.itemsOrdered),H(16),Xr(s.osList),H(5),Xr(s.inventory),H(2),wn(40,s.invetoryFetching?40:-1),H(2),wn(42,s.saving?43:42))},dependencies:[Ol,Pl,bs,Km,Ml,Rl,Ym,Qm,pa,fa,Uo],styles:[".app-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:1}.modal-dialog[_ngcontent-%COMP%]{z-index:3;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:500px;height:auto;border:olive 1px solid;background-color:#fff;border-radius:5px;padding:20px}"]});let t=e;return t})();function _B(t,e){if(t&1){let n=Le();g(0,"button",7),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("billTimein",i))}),_(1,"Add"),p()}}function wB(t,e){}function EB(t,e){if(t&1){let n=Le();g(0,"button",7),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("billTimeout",i))}),_(1,"Add"),p()}}function IB(t,e){if(t&1){let n=Le();g(0,"button",5),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("billTimeout",i))}),_(1),jt(2,"date"),p()}if(t&2){let n=J().$implicit;H(1),be(Bt(2,1,n.billEnd,"h:mm"))}}function DB(t,e){if(t&1){let n=Le();g(0,"button",7),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("dispenseTimein",i))}),_(1,"Add"),p()}}function CB(t,e){if(t&1){let n=Le();g(0,"button",5),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("dispenseTimein",i))}),_(1),jt(2,"date"),p()}if(t&2){let n=J().$implicit;H(1),be(Bt(2,1,n.dispenseStart,"h:mm"))}}function TB(t,e){if(t&1){let n=Le();g(0,"button",7),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("dispenseTimeout",i))}),_(1,"Add"),p()}}function bB(t,e){if(t&1){let n=Le();g(0,"button",5),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("dispenseTimeout",i))}),_(1),jt(2,"date"),p()}if(t&2){let n=J().$implicit;H(1),be(Bt(2,1,n.dispenseEnd,"h:mm"))}}function SB(t,e){if(t&1){let n=Le();g(0,"tr")(1,"td"),_(2),p(),g(3,"td"),_(4),p(),g(5,"td"),_(6),p(),g(7,"td"),gt(8,_B,2,0,"button",4)(9,wB,0,0),g(10,"button",5),L("click",function(){let s=Ce(n).$implicit,o=J();return Te(o.activePresc("billTimein",s))}),_(11),jt(12,"date"),p()(),g(13,"td"),gt(14,EB,2,0,"button",4)(15,IB,3,4),p(),g(16,"td"),gt(17,DB,2,0,"button",4)(18,CB,3,4),p(),g(19,"td"),gt(20,TB,2,0,"button",4)(21,bB,3,4),p(),g(22,"td")(23,"button",6),L("click",function(){let s=Ce(n).$implicit,o=J();return Te(o.onDeletePresc(s))}),p()()()}if(t&2){let n=e.$implicit;H(2),be(n.tallyNo),H(2),be(n.itemsOrdered),H(2),be(n.itemsAvailable),H(2),wn(8,n.billStart?9:8),H(3),be(Bt(12,8,n.billStart,"h:mm")),H(3),wn(14,n.billEnd?15:14),H(3),wn(17,n.dispenseStart?18:17),H(3),wn(20,n.dispenseEnd?21:20)}}function AB(t,e){if(t&1){let n=Le();g(0,"app-prescriptions-new",8),L("onModalClose",function(){Ce(n);let i=J();return Te(i.onCreateModalClose())}),p()}if(t&2){let n=J();qe("cartegory",n.cartegory)("tallyPrefix",n.tallyPrefix)}}function xB(t,e){if(t&1){let n=Le();g(0,"app-time-edit-modal",9),L("onModalClose",function(i){Ce(n);let s=J();return Te(s.closeModal(i))}),p()}if(t&2){let n=J();qe("activeRow",n.activeRow)}}var DS=(()=>{let e=class e{constructor(r){this.dataService=r,this.cartegory="prescription",this.tallyPrefix="P",this.prescriptions=[],this.showUpdateModal=!1,this.showCreateModal=!1}ngOnInit(){this.fetchPrescriptions()}fetchPrescriptions(){this.dataService.getWorkload("prescription").then(r=>this.prescriptions=r)}activePresc(r,i){this.activeRow={editField:r,prescription:i},this.showUpdateModal=!0}onDeletePresc(r){return m(this,null,function*(){yield this.dataService.doPost("outpatients","delete",[r]).then(i=>{this.fetchPrescriptions()})})}onCreateModalClose(){this.fetchPrescriptions(),this.showCreateModal=!1}closeModal(r){this.showUpdateModal=!1}};e.\u0275fac=function(i){return new(i||e)(Y(Fn))},e.\u0275cmp=De({type:e,selectors:[["app-prescriptions"]],standalone:!0,features:[Se],decls:34,vars:2,consts:[[1,"table"],["colspan","2"],[1,"btn","btn-primary",3,"click"],[3,"ngIf"],["class","btn btn-outline-primary"],["title","click to Edit",1,"btn",3,"click"],["title","Delete Row",1,"bi","bi-trash","btn","text-danger",3,"click"],[1,"btn","btn-outline-primary",3,"click"],[3,"cartegory","tallyPrefix","onModalClose"],[3,"activeRow","onModalClose"]],template:function(i,s){i&1&&(g(0,"div")(1,"table",0)(2,"thead")(3,"tr")(4,"th",1)(5,"button",2),L("click",function(){return s.showCreateModal=!0}),_(6,"Add new"),p()(),ge(7,"th")(8,"th"),g(9,"th",1),_(10,"Billing Turnaround"),p(),g(11,"th",1),_(12,"Dispensing Turnaround"),p()(),g(13,"tr")(14,"th"),_(15,"Presc. No"),p(),g(16,"th"),_(17,"No. Items Ordered"),p(),g(18,"th"),_(19,"No. Items Availabe"),p(),g(20,"th"),_(21,"Time-in"),p(),g(22,"th"),_(23,"Time-out"),p(),g(24,"th"),_(25,"time-in"),p(),g(26,"th"),_(27,"time-out"),p(),ge(28,"th"),p()(),g(29,"tbody"),Zr(30,SB,24,11,"tr",null,Jr),p()(),gt(32,AB,1,2,"ng-template",3)(33,xB,1,1,"ng-template",3),p()),i&2&&(H(30),Xr(s.prescriptions),H(2),qe("ngIf",s.showCreateModal),H(1),qe("ngIf",s.showUpdateModal))},dependencies:[wh,fs,Eh,Xu]});let t=e;return t})();function MB(t,e){if(t&1){let n=Le();g(0,"button",7),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("dispenseTimein",i))}),_(1,"Add"),p()}}function RB(t,e){if(t&1){let n=Le();g(0,"button",8),L("click",function(){Ce(n);let i=J().$implicit,s=J();return Te(s.activePresc("dispenseTimein",i))}),_(1),jt(2,"date"),p()}if(t&2){let n=J().$implicit;H(1),be(Bt(2,1,n.dispenseStart,"h:mm"))}}function NB(t,e){if(t&1&&(g(0,"tr")(1,"td"),_(2),p(),g(3,"td"),_(4),p(),g(5,"td"),_(6),p(),g(7,"td"),_(8),p(),g(9,"td"),gt(10,MB,2,0,"button",4)(11,RB,3,4),p(),g(12,"td")(13,"button",5),_(14),p()(),g(15,"td"),ge(16,"a",6),p()()),t&2){let n=e.$implicit;H(2),be(n.tallyNo),H(2),be(n.noOfDocs),H(2),be(n.itemsOrdered),H(2),be(n.itemsIssued),H(2),wn(10,n.dispenseStart?11:10),H(4),be(n.dispenseEnd)}}function PB(t,e){if(t&1){let n=Le();g(0,"app-prescriptions-new",9),L("onModalClose",function(){Ce(n);let i=J();return Te(i.onCreateModalClose())}),p()}if(t&2){let n=J();qe("cartegory",n.cartegory)("tallyPrefix",n.tallyPrefix)}}function OB(t,e){if(t&1){let n=Le();g(0,"app-time-edit-modal",10),L("onModalClose",function(i){Ce(n);let s=J();return Te(s.closeModal(i))}),p()}if(t&2){let n=J();qe("activeRow",n.activeRow)}}var CS=(()=>{let e=class e{constructor(r){this.dataService=r,this.cartegory="tsheet",this.tallyPrefix="T",this.cartegoryList=[],this.showUpdateModal=!1,this.showCreateModal=!1}ngOnInit(){this.fetchTWorkloadList()}fetchTWorkloadList(){this.dataService.getWorkload("tsheet").then(r=>this.cartegoryList=r)}activePresc(r,i){this.activeRow={editField:r,prescription:i},this.showUpdateModal=!0}onDeletePresc(r){return m(this,null,function*(){yield this.dataService.doPost("outpatients","delete",[r]).then(i=>{this.fetchTWorkloadList()})})}onCreateModalClose(){this.fetchTWorkloadList(),this.showCreateModal=!1}closeModal(r){this.showUpdateModal=!1}};e.\u0275fac=function(i){return new(i||e)(Y(Fn))},e.\u0275cmp=De({type:e,selectors:[["app-tsheet-orders"]],standalone:!0,features:[Se],decls:31,vars:2,consts:[[1,"table"],["colspan","2"],[1,"btn","btn-primary",3,"click"],[3,"ngIf"],["class","btn btn-outline-primary"],["title","click to Edit",1,"btn"],["href","#",1,"bi","bi-trash"],[1,"btn","btn-outline-primary",3,"click"],["title","click to Edit",1,"btn",3,"click"],[3,"cartegory","tallyPrefix","onModalClose"],[3,"activeRow","onModalClose"]],template:function(i,s){i&1&&(g(0,"div")(1,"table",0)(2,"thead")(3,"tr")(4,"th",1)(5,"button",2),L("click",function(){return s.showCreateModal=!0}),_(6,"Add new"),p()(),ge(7,"th")(8,"th"),g(9,"th",1),_(10,"Turnaround time"),p(),ge(11,"th"),p(),g(12,"tr")(13,"th"),_(14,"Order. No"),p(),g(15,"th"),_(16,"No. T.Sheets"),p(),g(17,"th"),_(18,"No. Items Ordered"),p(),g(19,"th"),_(20,"No. Items Availabe"),p(),g(21,"th"),_(22,"time started"),p(),g(23,"th"),_(24,"time finished"),p(),ge(25,"th"),p()(),g(26,"tbody"),Zr(27,NB,17,6,"tr",null,Jr),p()(),gt(29,PB,1,2,"ng-template",3)(30,OB,1,1,"ng-template",3),p()),i&2&&(H(27),Xr(s.cartegoryList),H(2),qe("ngIf",s.showCreateModal),H(1),qe("ngIf",s.showUpdateModal))},dependencies:[Eh,wh,fs,Xu]});let t=e;return t})();var TS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=De({type:e,selectors:[["app-emergency-orders"]],standalone:!0,features:[Se],decls:51,vars:0,consts:[[1,"table"],["colspan","2"],[1,"btn","btn-primary"],["title","click to Edit",1,"btn"],["title","Click to Edit"],["href","#",1,"bi","bi-trash"]],template:function(i,s){i&1&&(g(0,"div")(1,"table",0)(2,"thead")(3,"tr")(4,"th",1)(5,"button",2),_(6,"Add new"),p()(),ge(7,"th")(8,"th"),g(9,"th",1),_(10,"Billing Turnaround"),p(),g(11,"th",1),_(12,"Dispensing Turnaround"),p()(),g(13,"tr")(14,"th"),_(15,"Doc. No"),p(),g(16,"th"),_(17,"No. Items Ordered"),p(),g(18,"th"),_(19,"No. Items Availabe"),p(),g(20,"th"),_(21,"Time-in"),p(),g(22,"th"),_(23,"Time-out"),p(),g(24,"th"),_(25,"time-in"),p(),g(26,"th"),_(27,"time-out"),p(),ge(28,"th"),p()(),g(29,"tbody")(30,"tr")(31,"td"),_(32,"e1"),p(),g(33,"td"),_(34,"5"),p(),g(35,"td"),_(36,"3"),p(),g(37,"td")(38,"button",3),_(39,"12:45"),p()(),g(40,"td",4)(41,"button",3),_(42,"12:50"),p()(),g(43,"td")(44,"button",3),_(45,"1:15"),p()(),g(46,"td")(47,"button",3),_(48,"1:20"),p()(),g(49,"td"),ge(50,"a",5),p()()()()())}});let t=e;return t})();var bS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=De({type:e,selectors:[["app-home-page"]],standalone:!0,features:[Se],decls:40,vars:0,consts:[[1,"container","my-5"],[1,"bg-primary","text-white"],[1,"float-end"],["for","user"],["name","","id","user"],["selected","","disabled","","value",""],["value","Philip"],["value","Judy"],["value","Lambert"],["value","Cliff"],["value","Betty"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-prescription-tab","data-bs-toggle","tab","data-bs-target","#nav-prescription","type","button","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-link"],["id","nav-tsheet-tab","data-bs-toggle","tab","data-bs-target","#nav-tsheet","type","button","role","tab","aria-controls","nav-tsheet","aria-selected","false",1,"nav-link"],["id","nav-emergency-tab","data-bs-toggle","tab","data-bs-target","#nav-emergency","type","button","role","tab","aria-controls","nav-emergency","aria-selected","false",1,"nav-link"],["id","nav-tabContent",1,"tab-content"],["id","nav-prescription","role","tabpanel","aria-labelledby","nav-prescription-tab",1,"tab-pane","fade","show","p-3"],["id","nav-tsheet","role","tabpanel","aria-labelledby","nav-tsheet-tab",1,"tab-pane","fade","p-3"],["id","nav-emergency","role","tabpanel","aria-labelledby","nav-emergency-tab",1,"tab-pane","fade","p-3"]],template:function(i,s){i&1&&(g(0,"div",0)(1,"h3",1),_(2,"MMUH PharmaTool"),p(),g(3,"p",2)(4,"label",3),_(5,"User: "),p(),g(6,"select",4)(7,"option",5),_(8,"..Select.."),p(),g(9,"option",6),_(10,"Philip"),p(),g(11,"option",7),_(12,"Judy"),p(),g(13,"option",8),_(14,"Lambert"),p(),g(15,"option",9),_(16,"Cliff"),p(),g(17,"option",10),_(18,"Betty"),p()()(),g(19,"nav")(20,"div",11)(21,"button",12),_(22," Prescriptions "),p(),g(23,"button",13),_(24," T.sheet Orders "),p(),g(25,"button",14),_(26," Emergency Orders "),p()()(),g(27,"div",15)(28,"div",16)(29,"h2"),_(30,"Prescriptions"),p(),ge(31,"app-prescriptions"),p(),g(32,"div",17)(33,"h2"),_(34,"Treatment Sheets"),p(),ge(35,"app-tsheet-orders"),p(),g(36,"div",18)(37,"h2"),_(38,"Emergency"),p(),ge(39,"app-emergency-orders"),p()()())},dependencies:[DS,CS,TS]});let t=e;return t})();var SS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=De({type:e,selectors:[["app-bincard-page"]],standalone:!0,features:[Se],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"bincard-page works!"),p())}});let t=e;return t})();var AS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=De({type:e,selectors:[["app-receive-page"]],standalone:!0,features:[Se],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"receive-page works!"),p())}});let t=e;return t})();var x_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=De({type:e,selectors:[["app-issue-page"]],standalone:!0,features:[Se],decls:2,vars:0,template:function(i,s){i&1&&(g(0,"p"),_(1,"issue-page works!"),p())}});let t=e;return t})();var xS=[{path:"",redirectTo:"",pathMatch:"full"},{path:"home",component:bS},{path:"receive",component:AS},{path:"issue",component:x_},{path:"issue",component:x_},{path:"bincard",component:SS},{path:"**",redirectTo:"/404",pathMatch:"full"}];var MS={providers:[nD(xS),No(h0),No(ZD(()=>XD({projectId:"mmuh-pharmacy",appId:"1:42159664167:web:c43d934018b73daf533202",storageBucket:"mmuh-pharmacy.appspot.com",apiKey:"AIzaSyCFha3ImxAokO3hF40pjxWrWzeCY0ZgkBg",authDomain:"mmuh-pharmacy.firebaseapp.com",messagingSenderId:"42159664167",measurementId:"G-FHB2LSCWZW"}))),No(_S(()=>ES()))]};var RS=(()=>{let e=class e{constructor(r){this.dataService=r,this.title="template-17"}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(Y(Fn))},e.\u0275cmp=De({type:e,selectors:[["app-root"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(i,s){i&1&&ge(0,"router-outlet")},dependencies:[Uo,Om]});let t=e;return t})();w0(RS,MS).catch(t=>console.error(t));
